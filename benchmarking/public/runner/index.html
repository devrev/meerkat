<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MeerkatBrowserRunner</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    
    <script type="module" crossorigin>
var o_=Object.defineProperty;var a_=(t,e,n)=>e in t?o_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ne=(t,e,n)=>(a_(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var by={exports:{}},nu={},Iy={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),u_=Symbol.for("react.portal"),c_=Symbol.for("react.fragment"),d_=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),m_=Symbol.for("react.suspense"),g_=Symbol.for("react.memo"),v_=Symbol.for("react.lazy"),Ah=Symbol.iterator;function __(t){return t===null||typeof t!="object"?null:(t=Ah&&t[Ah]||t["@@iterator"],typeof t=="function"?t:null)}var Ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ky=Object.assign,Ty={};function ys(t,e,n){this.props=t,this.context=e,this.refs=Ty,this.updater=n||Ey}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ny(){}Ny.prototype=ys.prototype;function Yd(t,e,n){this.props=t,this.context=e,this.refs=Ty,this.updater=n||Ey}var Hd=Yd.prototype=new Ny;Hd.constructor=Yd;ky(Hd,ys.prototype);Hd.isPureReactComponent=!0;var Bh=Array.isArray,Ry=Object.prototype.hasOwnProperty,qd={current:null},Oy={key:!0,ref:!0,__self:!0,__source:!0};function Fy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ry.call(e,r)&&!Oy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:t,key:s,ref:o,props:i,_owner:qd.current}}function w_(t,e){return{$$typeof:Do,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Do}function S_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dh=/\/+/g;function ku(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S_(""+t.key):e.toString(36)}function ba(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Do:case u_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ku(o,0):r,Bh(i)?(n="",t!=null&&(n=t.replace(Dh,"$&/")+"/"),ba(i,e,n,"",function(u){return u})):i!=null&&(Gd(i)&&(i=w_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Bh(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ku(s,a);o+=ba(s,e,n,l,i)}else if(l=__(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ku(s,a++),o+=ba(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ho(t,e,n){if(t==null)return t;var r=[],i=0;return ba(t,r,"","",function(s){return e.call(n,s,i++)}),r}function b_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ia={transition:null},I_={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:qd};q.Children={map:Ho,forEach:function(t,e,n){Ho(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ho(t,function(){e++}),e},toArray:function(t){return Ho(t,function(e){return e})||[]},only:function(t){if(!Gd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=ys;q.Fragment=c_;q.Profiler=f_;q.PureComponent=Yd;q.StrictMode=d_;q.Suspense=m_;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ky({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ry.call(e,l)&&!Oy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:t.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(t){return t={$$typeof:p_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h_,_context:t},t.Consumer=t};q.createElement=Fy;q.createFactory=function(t){var e=Fy.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:y_,render:t}};q.isValidElement=Gd;q.lazy=function(t){return{$$typeof:v_,_payload:{_status:-1,_result:t},_init:b_}};q.memo=function(t,e){return{$$typeof:g_,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Ia.transition;Ia.transition={};try{t()}finally{Ia.transition=e}};q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};q.useCallback=function(t,e){return st.current.useCallback(t,e)};q.useContext=function(t){return st.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return st.current.useDeferredValue(t)};q.useEffect=function(t,e){return st.current.useEffect(t,e)};q.useId=function(){return st.current.useId()};q.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return st.current.useMemo(t,e)};q.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};q.useRef=function(t){return st.current.useRef(t)};q.useState=function(t){return st.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return st.current.useTransition()};q.version="18.2.0";Iy.exports=q;var Et=Iy.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_=Et,k_=Symbol.for("react.element"),T_=Symbol.for("react.fragment"),N_=Object.prototype.hasOwnProperty,R_=E_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O_={key:!0,ref:!0,__self:!0,__source:!0};function Ay(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N_.call(e,r)&&!O_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:k_,type:t,key:s,ref:o,props:i,_owner:R_.current}}nu.Fragment=T_;nu.jsx=Ay;nu.jsxs=Ay;by.exports=nu;var yc=by.exports,By={exports:{}},Bt={},Dy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,x){var W=R.length;R.push(x);e:for(;0<W;){var Re=W-1>>>1,Ue=R[Re];if(0<i(Ue,x))R[Re]=x,R[W]=Ue,W=Re;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var x=R[0],W=R.pop();if(W!==x){R[0]=W;e:for(var Re=0,Ue=R.length,Qo=Ue>>>1;Re<Qo;){var Mr=2*(Re+1)-1,Eu=R[Mr],Pr=Mr+1,Yo=R[Pr];if(0>i(Eu,W))Pr<Ue&&0>i(Yo,Eu)?(R[Re]=Yo,R[Pr]=W,Re=Pr):(R[Re]=Eu,R[Mr]=W,Re=Mr);else if(Pr<Ue&&0>i(Yo,W))R[Re]=Yo,R[Pr]=W,Re=Pr;else break e}}return x}function i(R,x){var W=R.sortIndex-x.sortIndex;return W!==0?W:R.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,_=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=R)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function w(R){if(v=!1,y(R),!_)if(n(l)!==null)_=!0,sn(I);else{var x=n(u);x!==null&&Pe(w,x.startTime-R)}}function I(R,x){_=!1,v&&(v=!1,p(T),T=-1),m=!0;var W=d;try{for(y(x),f=n(l);f!==null&&(!(f.expirationTime>x)||R&&!C());){var Re=f.callback;if(typeof Re=="function"){f.callback=null,d=f.priorityLevel;var Ue=Re(f.expirationTime<=x);x=t.unstable_now(),typeof Ue=="function"?f.callback=Ue:f===n(l)&&r(l),y(x)}else r(l);f=n(l)}if(f!==null)var Qo=!0;else{var Mr=n(u);Mr!==null&&Pe(w,Mr.startTime-x),Qo=!1}return Qo}finally{f=null,d=W,m=!1}}var E=!1,b=null,T=-1,k=5,O=-1;function C(){return!(t.unstable_now()-O<k)}function we(){if(b!==null){var R=t.unstable_now();O=R;var x=!0;try{x=b(!0,R)}finally{x?Te():(E=!1,b=null)}}else E=!1}var Te;if(typeof h=="function")Te=function(){h(we)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Zn=he.port2;he.port1.onmessage=we,Te=function(){Zn.postMessage(null)}}else Te=function(){S(we,0)};function sn(R){b=R,E||(E=!0,Te())}function Pe(R,x){T=S(function(){R(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,sn(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var W=d;d=x;try{return R()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,x){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=d;d=R;try{return x()}finally{d=W}},t.unstable_scheduleCallback=function(R,x,W){var Re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Re+W:Re):W=Re,R){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=W+Ue,R={id:c++,callback:x,priorityLevel:R,startTime:W,expirationTime:Ue,sortIndex:-1},W>Re?(R.sortIndex=W,e(u,R),n(l)===null&&R===n(u)&&(v?(p(T),T=-1):v=!0,Pe(w,W-Re))):(R.sortIndex=Ue,e(l,R),_||m||(_=!0,sn(I))),R},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(R){var x=d;return function(){var W=d;d=x;try{return R.apply(this,arguments)}finally{d=W}}}})(xy);Dy.exports=xy;var F_=Dy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=Et,Rt=F_;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ly=new Set,eo={};function fi(t,e){es(t,e),es(t+"Capture",e)}function es(t,e){for(eo[t]=e,t=0;t<e.length;t++)Ly.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=Object.prototype.hasOwnProperty,A_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xh={},Ch={};function B_(t){return mc.call(Ch,t)?!0:mc.call(xh,t)?!1:A_.test(t)?Ch[t]=!0:(xh[t]=!0,!1)}function D_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x_(t,e,n,r){if(e===null||typeof e>"u"||D_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jd,Xd);We[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jd,Xd);We[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jd,Xd);We[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zd(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x_(e,n,i,r)&&(n=null),r||i===null?B_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=Cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qo=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),gc=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Py=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),vc=Symbol.for("react.suspense"),_c=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Uy=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=Lh&&t[Lh]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Tu;function Bs(t){if(Tu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tu=e&&e[1]||""}return`
`+Tu+t}var Nu=!1;function Ru(t,e){if(!t||Nu)return"";Nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bs(t):""}function C_(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=Ru(t.type,!1),t;case 11:return t=Ru(t.type.render,!1),t;case 1:return t=Ru(t.type,!0),t;default:return""}}function wc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ti:return"Portal";case gc:return"Profiler";case ef:return"StrictMode";case vc:return"Suspense";case _c:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Py:return(t.displayName||"Context")+".Consumer";case My:return(t._context.displayName||"Context")+".Provider";case tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nf:return e=t.displayName||null,e!==null?e:wc(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return wc(t(e))}catch{}}return null}function L_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wc(e);case 8:return e===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M_(t){var e=jy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Go(t){t._valueTracker||(t._valueTracker=M_(t))}function zy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sc(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $y(t,e){e=e.checked,e!=null&&Zd(t,"checked",e,!1)}function bc(t,e){$y(t,e);var n=Sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ic(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ic(t,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ph(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ic(t,e,n){(e!=="number"||qa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function Ui(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ec(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Ds(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sr(n)}}function Vy(t,e){var n=Sr(e.value),r=Sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jo,Wy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function to(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P_=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){P_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function Qy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function Yy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var U_=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(t,e){if(e){if(U_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Nc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oc=null,ji=null,zi=null;function zh(t){if(t=Lo(t)){if(typeof Oc!="function")throw Error(N(280));var e=t.stateNode;e&&(e=au(e),Oc(t.stateNode,t.type,e))}}function Hy(t){ji?zi?zi.push(t):zi=[t]:ji=t}function qy(){if(ji){var t=ji,e=zi;if(zi=ji=null,zh(t),e)for(t=0;t<e.length;t++)zh(e[t])}}function Gy(t,e){return t(e)}function Jy(){}var Ou=!1;function Xy(t,e,n){if(Ou)return t(e,n);Ou=!0;try{return Gy(t,e,n)}finally{Ou=!1,(ji!==null||zi!==null)&&(Jy(),qy())}}function no(t,e){var n=t.stateNode;if(n===null)return null;var r=au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Fc=!1;if(Kn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Fc=!1}function j_(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var js=!1,Ga=null,Ja=!1,Ac=null,z_={onError:function(t){js=!0,Ga=t}};function $_(t,e,n,r,i,s,o,a,l){js=!1,Ga=null,j_.apply(z_,arguments)}function V_(t,e,n,r,i,s,o,a,l){if($_.apply(this,arguments),js){if(js){var u=Ga;js=!1,Ga=null}else throw Error(N(198));Ja||(Ja=!0,Ac=u)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $h(t){if(hi(t)!==t)throw Error(N(188))}function K_(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $h(i),t;if(s===r)return $h(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function em(t){return t=K_(t),t!==null?tm(t):null}function tm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tm(t);if(e!==null)return e;t=t.sibling}return null}var nm=Rt.unstable_scheduleCallback,Vh=Rt.unstable_cancelCallback,W_=Rt.unstable_shouldYield,Q_=Rt.unstable_requestPaint,Oe=Rt.unstable_now,Y_=Rt.unstable_getCurrentPriorityLevel,sf=Rt.unstable_ImmediatePriority,rm=Rt.unstable_UserBlockingPriority,Xa=Rt.unstable_NormalPriority,H_=Rt.unstable_LowPriority,im=Rt.unstable_IdlePriority,ru=null,Sn=null;function q_(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:X_,G_=Math.log,J_=Math.LN2;function X_(t){return t>>>=0,t===0?32:31-(G_(t)/J_|0)|0}var Xo=64,Zo=4194304;function xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Za(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xs(a):(s&=o,s!==0&&(r=xs(s)))}else o=n&~i,o!==0?r=xs(o):s!==0&&(r=xs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function Z_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ew(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Z_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sm(){var t=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),t}function Fu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function tw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function of(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function om(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var am,af,lm,um,cm,Dc=!1,ea=[],hr=null,pr=null,yr=null,ro=new Map,io=new Map,lr=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function Es(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lo(e),e!==null&&af(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rw(t,e,n,r,i){switch(e){case"focusin":return hr=Es(hr,t,e,n,r,i),!0;case"dragenter":return pr=Es(pr,t,e,n,r,i),!0;case"mouseover":return yr=Es(yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,Es(ro.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,Es(io.get(s)||null,t,e,n,r,i)),!0}return!1}function dm(t){var e=Vr(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Zy(n),e!==null){t.blockedOn=e,cm(t.priority,function(){lm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ea(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rc=r,n.target.dispatchEvent(r),Rc=null}else return e=Lo(n),e!==null&&af(e),t.blockedOn=n,!1;e.shift()}return!0}function Wh(t,e,n){Ea(t)&&n.delete(e)}function iw(){Dc=!1,hr!==null&&Ea(hr)&&(hr=null),pr!==null&&Ea(pr)&&(pr=null),yr!==null&&Ea(yr)&&(yr=null),ro.forEach(Wh),io.forEach(Wh)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,iw)))}function so(t){function e(i){return ks(i,t)}if(0<ea.length){ks(ea[0],t);for(var n=1;n<ea.length;n++){var r=ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&ks(hr,t),pr!==null&&ks(pr,t),yr!==null&&ks(yr,t),ro.forEach(e),io.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)dm(n),n.blockedOn===null&&lr.shift()}var $i=Gn.ReactCurrentBatchConfig,el=!0;function sw(t,e,n,r){var i=ae,s=$i.transition;$i.transition=null;try{ae=1,lf(t,e,n,r)}finally{ae=i,$i.transition=s}}function ow(t,e,n,r){var i=ae,s=$i.transition;$i.transition=null;try{ae=4,lf(t,e,n,r)}finally{ae=i,$i.transition=s}}function lf(t,e,n,r){if(el){var i=xc(t,e,n,r);if(i===null)ju(t,e,r,tl,n),Kh(t,r);else if(rw(i,t,e,n,r))r.stopPropagation();else if(Kh(t,r),e&4&&-1<nw.indexOf(t)){for(;i!==null;){var s=Lo(i);if(s!==null&&am(s),s=xc(t,e,n,r),s===null&&ju(t,e,r,tl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ju(t,e,r,null,n)}}var tl=null;function xc(t,e,n,r){if(tl=null,t=rf(r),t=Vr(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tl=t,null}function fm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y_()){case sf:return 1;case rm:return 4;case Xa:case H_:return 16;case im:return 536870912;default:return 16}default:return 16}}var dr=null,uf=null,ka=null;function hm(){if(ka)return ka;var t,e=uf,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ka=i.slice(t,1<r?1-r:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ta(){return!0}function Qh(){return!1}function Dt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ta:Qh,this.isPropagationStopped=Qh,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),e}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=Dt(ms),Co=ke({},ms,{view:0,detail:0}),aw=Dt(Co),Au,Bu,Ts,iu=ke({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(Au=t.screenX-Ts.screenX,Bu=t.screenY-Ts.screenY):Bu=Au=0,Ts=t),Au)},movementY:function(t){return"movementY"in t?t.movementY:Bu}}),Yh=Dt(iu),lw=ke({},iu,{dataTransfer:0}),uw=Dt(lw),cw=ke({},Co,{relatedTarget:0}),Du=Dt(cw),dw=ke({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),fw=Dt(dw),hw=ke({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pw=Dt(hw),yw=ke({},ms,{data:0}),Hh=Dt(yw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _w(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vw[t])?!!e[t]:!1}function df(){return _w}var ww=ke({},Co,{key:function(t){if(t.key){var e=mw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sw=Dt(ww),bw=ke({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qh=Dt(bw),Iw=ke({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),Ew=Dt(Iw),kw=ke({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tw=Dt(kw),Nw=ke({},iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rw=Dt(Nw),Ow=[9,13,27,32],ff=Kn&&"CompositionEvent"in window,zs=null;Kn&&"documentMode"in document&&(zs=document.documentMode);var Fw=Kn&&"TextEvent"in window&&!zs,pm=Kn&&(!ff||zs&&8<zs&&11>=zs),Gh=String.fromCharCode(32),Jh=!1;function ym(t,e){switch(t){case"keyup":return Ow.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ri=!1;function Aw(t,e){switch(t){case"compositionend":return mm(e);case"keypress":return e.which!==32?null:(Jh=!0,Gh);case"textInput":return t=e.data,t===Gh&&Jh?null:t;default:return null}}function Bw(t,e){if(Ri)return t==="compositionend"||!ff&&ym(t,e)?(t=hm(),ka=uf=dr=null,Ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pm&&e.locale!=="ko"?null:e.data;default:return null}}var Dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dw[t.type]:e==="textarea"}function gm(t,e,n,r){Hy(r),e=nl(e,"onChange"),0<e.length&&(n=new cf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $s=null,oo=null;function xw(t){Rm(t,0)}function su(t){var e=Ai(t);if(zy(e))return t}function Cw(t,e){if(t==="change")return e}var vm=!1;if(Kn){var xu;if(Kn){var Cu="oninput"in document;if(!Cu){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Cu=typeof Zh.oninput=="function"}xu=Cu}else xu=!1;vm=xu&&(!document.documentMode||9<document.documentMode)}function ep(){$s&&($s.detachEvent("onpropertychange",_m),oo=$s=null)}function _m(t){if(t.propertyName==="value"&&su(oo)){var e=[];gm(e,oo,t,rf(t)),Xy(xw,e)}}function Lw(t,e,n){t==="focusin"?(ep(),$s=e,oo=n,$s.attachEvent("onpropertychange",_m)):t==="focusout"&&ep()}function Mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(oo)}function Pw(t,e){if(t==="click")return su(e)}function Uw(t,e){if(t==="input"||t==="change")return su(e)}function jw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:jw;function ao(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mc.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function np(t,e){var n=tp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tp(n)}}function wm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sm(){for(var t=window,e=qa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qa(t.document)}return e}function hf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zw(t){var e=Sm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wm(n.ownerDocument.documentElement,n)){if(r!==null&&hf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=np(n,s);var o=np(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $w=Kn&&"documentMode"in document&&11>=document.documentMode,Oi=null,Cc=null,Vs=null,Lc=!1;function rp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lc||Oi==null||Oi!==qa(r)||(r=Oi,"selectionStart"in r&&hf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&ao(Vs,r)||(Vs=r,r=nl(Cc,"onSelect"),0<r.length&&(e=new cf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oi)))}function na(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fi={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Lu={},bm={};Kn&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function ou(t){if(Lu[t])return Lu[t];if(!Fi[t])return t;var e=Fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bm)return Lu[t]=e[n];return t}var Im=ou("animationend"),Em=ou("animationiteration"),km=ou("animationstart"),Tm=ou("transitionend"),Nm=new Map,ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Nm.set(t,e),fi(e,[t])}for(var Mu=0;Mu<ip.length;Mu++){var Pu=ip[Mu],Vw=Pu.toLowerCase(),Kw=Pu[0].toUpperCase()+Pu.slice(1);Ar(Vw,"on"+Kw)}Ar(Im,"onAnimationEnd");Ar(Em,"onAnimationIteration");Ar(km,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Tm,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function sp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V_(r,e,void 0,t),t.currentTarget=null}function Rm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sp(i,a,u),s=l}}}if(Ja)throw t=Ac,Ja=!1,Ac=null,t}function pe(t,e){var n=e[zc];n===void 0&&(n=e[zc]=new Set);var r=t+"__bubble";n.has(r)||(Om(e,t,2,!1),n.add(r))}function Uu(t,e,n){var r=0;e&&(r|=4),Om(n,t,r,e)}var ra="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[ra]){t[ra]=!0,Ly.forEach(function(n){n!=="selectionchange"&&(Ww.has(n)||Uu(n,!1,t),Uu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ra]||(e[ra]=!0,Uu("selectionchange",!1,e))}}function Om(t,e,n,r){switch(fm(e)){case 1:var i=sw;break;case 4:i=ow;break;default:i=lf}n=i.bind(null,e,n,t),i=void 0,!Fc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ju(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Xy(function(){var u=s,c=rf(n),f=[];e:{var d=Nm.get(t);if(d!==void 0){var m=cf,_=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":m=Sw;break;case"focusin":_="focus",m=Du;break;case"focusout":_="blur",m=Du;break;case"beforeblur":case"afterblur":m=Du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ew;break;case Im:case Em:case km:m=fw;break;case Tm:m=Tw;break;case"scroll":m=aw;break;case"wheel":m=Rw;break;case"copy":case"cut":case"paste":m=pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qh}var v=(e&4)!==0,S=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var h=u,y;h!==null;){y=h;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=no(h,p),w!=null&&v.push(uo(h,w,y)))),S)break;h=h.return}0<v.length&&(d=new m(d,_,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Rc&&(_=n.relatedTarget||n.fromElement)&&(Vr(_)||_[Wn]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Vr(_):null,_!==null&&(S=hi(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(v=Yh,w="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=qh,w="onPointerLeave",p="onPointerEnter",h="pointer"),S=m==null?d:Ai(m),y=_==null?d:Ai(_),d=new v(w,h+"leave",m,n,c),d.target=S,d.relatedTarget=y,w=null,Vr(c)===u&&(v=new v(p,h+"enter",_,n,c),v.target=y,v.relatedTarget=S,w=v),S=w,m&&_)t:{for(v=m,p=_,h=0,y=v;y;y=mi(y))h++;for(y=0,w=p;w;w=mi(w))y++;for(;0<h-y;)v=mi(v),h--;for(;0<y-h;)p=mi(p),y--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=mi(v),p=mi(p)}v=null}else v=null;m!==null&&op(f,d,m,v,!1),_!==null&&S!==null&&op(f,S,_,v,!0)}}e:{if(d=u?Ai(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var I=Cw;else if(Xh(d))if(vm)I=Uw;else{I=Mw;var E=Lw}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Pw);if(I&&(I=I(t,u))){gm(f,I,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Ic(d,"number",d.value)}switch(E=u?Ai(u):window,t){case"focusin":(Xh(E)||E.contentEditable==="true")&&(Oi=E,Cc=u,Vs=null);break;case"focusout":Vs=Cc=Oi=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,rp(f,n,c);break;case"selectionchange":if($w)break;case"keydown":case"keyup":rp(f,n,c)}var b;if(ff)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ri?ym(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(pm&&n.locale!=="ko"&&(Ri||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ri&&(b=hm()):(dr=c,uf="value"in dr?dr.value:dr.textContent,Ri=!0)),E=nl(u,T),0<E.length&&(T=new Hh(T,t,null,n,c),f.push({event:T,listeners:E}),b?T.data=b:(b=mm(n),b!==null&&(T.data=b)))),(b=Fw?Aw(t,n):Bw(t,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(c=new Hh("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}Rm(f,e)})}function uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(t,n),s!=null&&r.unshift(uo(t,s,i)),s=no(t,e),s!=null&&r.push(uo(t,s,i))),t=t.return}return r}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function op(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=no(n,s),l!=null&&o.unshift(uo(n,l,a))):i||(l=no(n,s),l!=null&&o.push(uo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(Qw,`
`).replace(Yw,"")}function ia(t,e,n){if(e=ap(e),ap(t)!==e&&n)throw Error(N(425))}function rl(){}var Mc=null,Pc=null;function Uc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jc=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(Gw)}:jc;function Gw(t){setTimeout(function(){throw t})}function zu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),so(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function up(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),fn="__reactFiber$"+gs,co="__reactProps$"+gs,Wn="__reactContainer$"+gs,zc="__reactEvents$"+gs,Jw="__reactListeners$"+gs,Xw="__reactHandles$"+gs;function Vr(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wn]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=up(t);t!==null;){if(n=t[fn])return n;t=up(t)}return e}t=n,n=t.parentNode}return null}function Lo(t){return t=t[fn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function au(t){return t[co]||null}var $c=[],Bi=-1;function Br(t){return{current:t}}function me(t){0>Bi||(t.current=$c[Bi],$c[Bi]=null,Bi--)}function fe(t,e){Bi++,$c[Bi]=t.current,t.current=e}var br={},Je=Br(br),ht=Br(!1),ii=br;function ts(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function il(){me(ht),me(Je)}function cp(t,e,n){if(Je.current!==br)throw Error(N(168));fe(Je,e),fe(ht,n)}function Fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,L_(t)||"Unknown",i));return ke({},n,r)}function sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,ii=Je.current,fe(Je,t),fe(ht,ht.current),!0}function dp(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Fm(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,me(ht),me(Je),fe(Je,t)):me(ht),fe(ht,n)}var Dn=null,lu=!1,$u=!1;function Am(t){Dn===null?Dn=[t]:Dn.push(t)}function Zw(t){lu=!0,Am(t)}function Dr(){if(!$u&&Dn!==null){$u=!0;var t=0,e=ae;try{var n=Dn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,lu=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(t+1)),nm(sf,Dr),i}finally{ae=e,$u=!1}}return null}var Di=[],xi=0,ol=null,al=0,Lt=[],Mt=0,si=null,Pn=1,Un="";function zr(t,e){Di[xi++]=al,Di[xi++]=ol,ol=t,al=e}function Bm(t,e,n){Lt[Mt++]=Pn,Lt[Mt++]=Un,Lt[Mt++]=si,si=t;var r=Pn;t=Un;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-Jt(e)+i|n<<i|r,Un=s+t}else Pn=1<<s|n<<i|r,Un=t}function pf(t){t.return!==null&&(zr(t,1),Bm(t,1,0))}function yf(t){for(;t===ol;)ol=Di[--xi],Di[xi]=null,al=Di[--xi],Di[xi]=null;for(;t===si;)si=Lt[--Mt],Lt[Mt]=null,Un=Lt[--Mt],Lt[Mt]=null,Pn=Lt[--Mt],Lt[Mt]=null}var Nt=null,Tt=null,_e=!1,Gt=null;function Dm(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Tt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:Pn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Tt=null,!0):!1;default:return!1}}function Vc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kc(t){if(_e){var e=Tt;if(e){var n=e;if(!fp(t,e)){if(Vc(t))throw Error(N(418));e=mr(n.nextSibling);var r=Nt;e&&fp(t,e)?Dm(r,n):(t.flags=t.flags&-4097|2,_e=!1,Nt=t)}}else{if(Vc(t))throw Error(N(418));t.flags=t.flags&-4097|2,_e=!1,Nt=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function sa(t){if(t!==Nt)return!1;if(!_e)return hp(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uc(t.type,t.memoizedProps)),e&&(e=Tt)){if(Vc(t))throw xm(),Error(N(418));for(;e;)Dm(t,e),e=mr(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=Nt?mr(t.stateNode.nextSibling):null;return!0}function xm(){for(var t=Tt;t;)t=mr(t.nextSibling)}function ns(){Tt=Nt=null,_e=!1}function mf(t){Gt===null?Gt=[t]:Gt.push(t)}var e1=Gn.ReactCurrentBatchConfig;function Yt(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ll=Br(null),ul=null,Ci=null,gf=null;function vf(){gf=Ci=ul=null}function _f(t){var e=ll.current;me(ll),t._currentValue=e}function Wc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){ul=t,gf=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Vt(t){var e=t._currentValue;if(gf!==t)if(t={context:t,memoizedValue:e,next:null},Ci===null){if(ul===null)throw Error(N(308));Ci=t,ul.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return e}var Kr=null;function wf(t){Kr===null?Kr=[t]:Kr.push(t)}function Cm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,wf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function Na(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,of(t,n)}}function pp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cl(t,e,n,r){var i=t.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(d=e,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(m,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(m,f,d):_,d==null)break e;f=ke({},f,d);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=f}}function yp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Mm=new Cy.Component().refs;function Qc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uu={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),i=_r(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(Xt(e,t,i,r),Na(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),i=_r(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(Xt(e,t,i,r),Na(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=_r(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(Xt(e,t,r,n),Na(e,t,r))}};function mp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function Pm(t,e,n){var r=!1,i=br,s=e.contextType;return typeof s=="object"&&s!==null?s=Vt(s):(i=pt(e)?ii:Je.current,r=e.contextTypes,s=(r=r!=null)?ts(t,i):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function Yc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Mm,Sf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vt(s):(s=pt(e)?ii:Je.current,i.context=ts(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uu.enqueueReplaceState(i,i.state,null),cl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ns(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Mm&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function oa(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vp(t){var e=t._init;return e(t._payload)}function Um(t){function e(p,h){if(t){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=wr(p,h),p.index=0,p.sibling=null,p}function s(p,h,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,h,y,w){return h===null||h.tag!==6?(h=qu(y,p.mode,w),h.return=p,h):(h=i(h,y),h.return=p,h)}function l(p,h,y,w){var I=y.type;return I===Ni?c(p,h,y.props.children,w,y.key):h!==null&&(h.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rr&&vp(I)===h.type)?(w=i(h,y.props),w.ref=Ns(p,h,y),w.return=p,w):(w=Da(y.type,y.key,y.props,null,p.mode,w),w.ref=Ns(p,h,y),w.return=p,w)}function u(p,h,y,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Gu(y,p.mode,w),h.return=p,h):(h=i(h,y.children||[]),h.return=p,h)}function c(p,h,y,w,I){return h===null||h.tag!==7?(h=ei(y,p.mode,w,I),h.return=p,h):(h=i(h,y),h.return=p,h)}function f(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=qu(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case qo:return y=Da(h.type,h.key,h.props,null,p.mode,y),y.ref=Ns(p,null,h),y.return=p,y;case Ti:return h=Gu(h,p.mode,y),h.return=p,h;case rr:var w=h._init;return f(p,w(h._payload),y)}if(Ds(h)||bs(h))return h=ei(h,p.mode,y,null),h.return=p,h;oa(p,h)}return null}function d(p,h,y,w){var I=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(p,h,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qo:return y.key===I?l(p,h,y,w):null;case Ti:return y.key===I?u(p,h,y,w):null;case rr:return I=y._init,d(p,h,I(y._payload),w)}if(Ds(y)||bs(y))return I!==null?null:c(p,h,y,w,null);oa(p,y)}return null}function m(p,h,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,a(h,p,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qo:return p=p.get(w.key===null?y:w.key)||null,l(h,p,w,I);case Ti:return p=p.get(w.key===null?y:w.key)||null,u(h,p,w,I);case rr:var E=w._init;return m(p,h,y,E(w._payload),I)}if(Ds(w)||bs(w))return p=p.get(y)||null,c(h,p,w,I,null);oa(h,w)}return null}function _(p,h,y,w){for(var I=null,E=null,b=h,T=h=0,k=null;b!==null&&T<y.length;T++){b.index>T?(k=b,b=null):k=b.sibling;var O=d(p,b,y[T],w);if(O===null){b===null&&(b=k);break}t&&b&&O.alternate===null&&e(p,b),h=s(O,h,T),E===null?I=O:E.sibling=O,E=O,b=k}if(T===y.length)return n(p,b),_e&&zr(p,T),I;if(b===null){for(;T<y.length;T++)b=f(p,y[T],w),b!==null&&(h=s(b,h,T),E===null?I=b:E.sibling=b,E=b);return _e&&zr(p,T),I}for(b=r(p,b);T<y.length;T++)k=m(b,p,T,y[T],w),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?T:k.key),h=s(k,h,T),E===null?I=k:E.sibling=k,E=k);return t&&b.forEach(function(C){return e(p,C)}),_e&&zr(p,T),I}function v(p,h,y,w){var I=bs(y);if(typeof I!="function")throw Error(N(150));if(y=I.call(y),y==null)throw Error(N(151));for(var E=I=null,b=h,T=h=0,k=null,O=y.next();b!==null&&!O.done;T++,O=y.next()){b.index>T?(k=b,b=null):k=b.sibling;var C=d(p,b,O.value,w);if(C===null){b===null&&(b=k);break}t&&b&&C.alternate===null&&e(p,b),h=s(C,h,T),E===null?I=C:E.sibling=C,E=C,b=k}if(O.done)return n(p,b),_e&&zr(p,T),I;if(b===null){for(;!O.done;T++,O=y.next())O=f(p,O.value,w),O!==null&&(h=s(O,h,T),E===null?I=O:E.sibling=O,E=O);return _e&&zr(p,T),I}for(b=r(p,b);!O.done;T++,O=y.next())O=m(b,p,T,O.value,w),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?T:O.key),h=s(O,h,T),E===null?I=O:E.sibling=O,E=O);return t&&b.forEach(function(we){return e(p,we)}),_e&&zr(p,T),I}function S(p,h,y,w){if(typeof y=="object"&&y!==null&&y.type===Ni&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qo:e:{for(var I=y.key,E=h;E!==null;){if(E.key===I){if(I=y.type,I===Ni){if(E.tag===7){n(p,E.sibling),h=i(E,y.props.children),h.return=p,p=h;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rr&&vp(I)===E.type){n(p,E.sibling),h=i(E,y.props),h.ref=Ns(p,E,y),h.return=p,p=h;break e}n(p,E);break}else e(p,E);E=E.sibling}y.type===Ni?(h=ei(y.props.children,p.mode,w,y.key),h.return=p,p=h):(w=Da(y.type,y.key,y.props,null,p.mode,w),w.ref=Ns(p,h,y),w.return=p,p=w)}return o(p);case Ti:e:{for(E=y.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=i(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Gu(y,p.mode,w),h.return=p,p=h}return o(p);case rr:return E=y._init,S(p,h,E(y._payload),w)}if(Ds(y))return _(p,h,y,w);if(bs(y))return v(p,h,y,w);oa(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,y),h.return=p,p=h):(n(p,h),h=qu(y,p.mode,w),h.return=p,p=h),o(p)):n(p,h)}return S}var rs=Um(!0),jm=Um(!1),Mo={},bn=Br(Mo),fo=Br(Mo),ho=Br(Mo);function Wr(t){if(t===Mo)throw Error(N(174));return t}function bf(t,e){switch(fe(ho,e),fe(fo,t),fe(bn,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kc(e,t)}me(bn),fe(bn,e)}function is(){me(bn),me(fo),me(ho)}function zm(t){Wr(ho.current);var e=Wr(bn.current),n=kc(e,t.type);e!==n&&(fe(fo,t),fe(bn,n))}function If(t){fo.current===t&&(me(bn),me(fo))}var be=Br(0);function dl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vu=[];function Ef(){for(var t=0;t<Vu.length;t++)Vu[t]._workInProgressVersionPrimary=null;Vu.length=0}var Ra=Gn.ReactCurrentDispatcher,Ku=Gn.ReactCurrentBatchConfig,oi=0,Ee=null,De=null,je=null,fl=!1,Ks=!1,po=0,t1=0;function Qe(){throw Error(N(321))}function kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Tf(t,e,n,r,i,s){if(oi=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ra.current=t===null||t.memoizedState===null?s1:o1,t=n(r,i),Ks){s=0;do{if(Ks=!1,po=0,25<=s)throw Error(N(301));s+=1,je=De=null,e.updateQueue=null,Ra.current=a1,t=n(r,i)}while(Ks)}if(Ra.current=hl,e=De!==null&&De.next!==null,oi=0,je=De=Ee=null,fl=!1,e)throw Error(N(300));return t}function Nf(){var t=po!==0;return po=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=t:je=je.next=t,je}function Kt(){if(De===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=je===null?Ee.memoizedState:je.next;if(e!==null)je=e,De=t;else{if(t===null)throw Error(N(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},je===null?Ee.memoizedState=je=t:je=je.next=t}return je}function yo(t,e){return typeof e=="function"?e(t):e}function Wu(t){var e=Kt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ee.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qu(t){var e=Kt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $m(){}function Vm(t,e){var n=Ee,r=Kt(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,Rf(Qm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,mo(9,Wm.bind(null,n,r,i,e),void 0,null),ze===null)throw Error(N(349));oi&30||Km(n,e,i)}return i}function Km(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wm(t,e,n,r){e.value=n,e.getSnapshot=r,Ym(e)&&Hm(t)}function Qm(t,e,n){return n(function(){Ym(e)&&Hm(t)})}function Ym(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Hm(t){var e=Qn(t,1);e!==null&&Xt(e,t,1,-1)}function _p(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:t},e.queue=t,t=t.dispatch=i1.bind(null,Ee,t),[e.memoizedState,t]}function mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qm(){return Kt().memoizedState}function Oa(t,e,n,r){var i=ln();Ee.flags|=t,i.memoizedState=mo(1|e,n,void 0,r===void 0?null:r)}function cu(t,e,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&kf(r,o.deps)){i.memoizedState=mo(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=mo(1|e,n,s,r)}function wp(t,e){return Oa(8390656,8,t,e)}function Rf(t,e){return cu(2048,8,t,e)}function Gm(t,e){return cu(4,2,t,e)}function Jm(t,e){return cu(4,4,t,e)}function Xm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zm(t,e,n){return n=n!=null?n.concat([t]):null,cu(4,4,Xm.bind(null,e,t),n)}function Of(){}function eg(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tg(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ng(t,e,n){return oi&21?(tn(n,e)||(n=sm(),Ee.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function n1(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Ku.transition;Ku.transition={};try{t(!1),e()}finally{ae=n,Ku.transition=r}}function rg(){return Kt().memoizedState}function r1(t,e,n){var r=_r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ig(t))sg(e,n);else if(n=Cm(t,e,n,r),n!==null){var i=rt();Xt(n,t,r,i),og(n,e,r)}}function i1(t,e,n){var r=_r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ig(t))sg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,wf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Cm(t,e,i,r),n!==null&&(i=rt(),Xt(n,t,r,i),og(n,e,r))}}function ig(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function sg(t,e){Ks=fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function og(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,of(t,n)}}var hl={readContext:Vt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},s1={readContext:Vt,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Vt,useEffect:wp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oa(4194308,4,Xm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oa(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r1.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:_p,useDebugValue:Of,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=_p(!1),e=t[0];return t=n1.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=ln();if(_e){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ze===null)throw Error(N(349));oi&30||Km(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wp(Qm.bind(null,r,s,t),[t]),r.flags|=2048,mo(9,Wm.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ln(),e=ze.identifierPrefix;if(_e){var n=Un,r=Pn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o1={readContext:Vt,useCallback:eg,useContext:Vt,useEffect:Rf,useImperativeHandle:Zm,useInsertionEffect:Gm,useLayoutEffect:Jm,useMemo:tg,useReducer:Wu,useRef:qm,useState:function(){return Wu(yo)},useDebugValue:Of,useDeferredValue:function(t){var e=Kt();return ng(e,De.memoizedState,t)},useTransition:function(){var t=Wu(yo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:Vm,useId:rg,unstable_isNewReconciler:!1},a1={readContext:Vt,useCallback:eg,useContext:Vt,useEffect:Rf,useImperativeHandle:Zm,useInsertionEffect:Gm,useLayoutEffect:Jm,useMemo:tg,useReducer:Qu,useRef:qm,useState:function(){return Qu(yo)},useDebugValue:Of,useDeferredValue:function(t){var e=Kt();return De===null?e.memoizedState=t:ng(e,De.memoizedState,t)},useTransition:function(){var t=Qu(yo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:Vm,useId:rg,unstable_isNewReconciler:!1};function ss(t,e){try{var n="",r=e;do n+=C_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l1=typeof WeakMap=="function"?WeakMap:Map;function ag(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yl||(yl=!0,id=r),Hc(t,e)},n}function lg(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hc(t,e),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Sp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b1.bind(null,t,e,n),e.then(t,t))}function bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ip(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var u1=Gn.ReactCurrentOwner,ft=!1;function Xe(t,e,n,r){e.child=t===null?jm(e,null,n,r):rs(e,t.child,n,r)}function Ep(t,e,n,r,i){n=n.render;var s=e.ref;return Vi(e,i),r=Tf(t,e,n,r,s,i),n=Nf(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(_e&&n&&pf(e),e.flags|=1,Xe(t,e,r,i),e.child)}function kp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ug(t,e,s,r,i)):(t=Da(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&t.ref===e.ref)return Yn(t,e,i)}return e.flags|=1,t=wr(s,r),t.ref=e.ref,t.return=e,e.child=t}function ug(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ao(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,Yn(t,e,i)}return qc(t,e,n,r,i)}function cg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Mi,bt),bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Mi,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Mi,bt),bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Mi,bt),bt|=r;return Xe(t,e,i,n),e.child}function dg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qc(t,e,n,r,i){var s=pt(n)?ii:Je.current;return s=ts(e,s),Vi(e,i),n=Tf(t,e,n,r,s,i),r=Nf(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(_e&&r&&pf(e),e.flags|=1,Xe(t,e,n,i),e.child)}function Tp(t,e,n,r,i){if(pt(n)){var s=!0;sl(e)}else s=!1;if(Vi(e,i),e.stateNode===null)Fa(t,e),Pm(e,n,r),Yc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=pt(n)?ii:Je.current,u=ts(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gp(e,o,r,u),ir=!1;var d=e.memoizedState;o.state=d,cl(e,r,o,i),l=e.memoizedState,a!==r||d!==l||ht.current||ir?(typeof c=="function"&&(Qc(e,n,c,r),l=e.memoizedState),(a=ir||mp(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yt(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vt(l):(l=pt(n)?ii:Je.current,l=ts(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&gp(e,o,r,l),ir=!1,d=e.memoizedState,o.state=d,cl(e,r,o,i);var _=e.memoizedState;a!==f||d!==_||ht.current||ir?(typeof m=="function"&&(Qc(e,n,m,r),_=e.memoizedState),(u=ir||mp(e,n,u,r,d,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Gc(t,e,n,r,s,i)}function Gc(t,e,n,r,i,s){dg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dp(e,n,!1),Yn(t,e,s);r=e.stateNode,u1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rs(e,t.child,null,s),e.child=rs(e,null,a,s)):Xe(t,e,a,s),e.memoizedState=r.state,i&&dp(e,n,!0),e.child}function fg(t){var e=t.stateNode;e.pendingContext?cp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cp(t,e.context,!1),bf(t,e.containerInfo)}function Np(t,e,n,r,i){return ns(),mf(i),e.flags|=256,Xe(t,e,n,r),e.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function hg(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(be,i&1),t===null)return Kc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hu(o,r,0,null),t=ei(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xc(n),e.memoizedState=Jc,t):Ff(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wr(a,s):(s=ei(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jc,r}return s=t.child,t=s.sibling,r=wr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ff(t,e){return e=hu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function aa(t,e,n,r){return r!==null&&mf(r),rs(e,t.child,null,n),t=Ff(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yu(Error(N(422))),aa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hu({mode:"visible",children:r.children},i,0,null),s=ei(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rs(e,t.child,null,o),e.child.memoizedState=Xc(o),e.memoizedState=Jc,s);if(!(e.mode&1))return aa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Yu(s,r,void 0),aa(t,e,o,r)}if(a=(o&t.childLanes)!==0,ft||a){if(r=ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),Xt(r,t,i,-1))}return Lf(),r=Yu(Error(N(421))),aa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tt=mr(i.nextSibling),Nt=e,_e=!0,Gt=null,t!==null&&(Lt[Mt++]=Pn,Lt[Mt++]=Un,Lt[Mt++]=si,Pn=t.id,Un=t.overflow,si=e),e=Ff(e,r.children),e.flags|=4096,e)}function Rp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wc(t.return,e,n)}function Hu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,n,e);else if(t.tag===19)Rp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hu(e,!0,n,null,s);break;case"together":Hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function d1(t,e,n){switch(e.tag){case 3:fg(e),ns();break;case 5:zm(e);break;case 1:pt(e.type)&&sl(e);break;case 4:bf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(ll,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?hg(t,e,n):(fe(be,be.current&1),t=Yn(t,e,n),t!==null?t.sibling:null);fe(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,cg(t,e,n)}return Yn(t,e,n)}var yg,Zc,mg,gg;yg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zc=function(){};mg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wr(bn.current);var s=null;switch(n){case"input":i=Sc(t,i),r=Sc(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=Ec(t,i),r=Ec(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rl)}Tc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rs(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function f1(t,e,n){var r=e.pendingProps;switch(yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return pt(e.type)&&il(),Ye(e),null;case 3:return r=e.stateNode,is(),me(ht),me(Je),Ef(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(ad(Gt),Gt=null))),Zc(t,e),Ye(e),null;case 5:If(e);var i=Wr(ho.current);if(n=e.type,t!==null&&e.stateNode!=null)mg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Ye(e),null}if(t=Wr(bn.current),sa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fn]=e,r[co]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Cs.length;i++)pe(Cs[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Mh(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Uh(r,s),pe("invalid",r)}Tc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ia(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ia(r.textContent,a,t),i=["children",""+a]):eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Go(r),Ph(r,s,!0);break;case"textarea":Go(r),jh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ky(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fn]=e,t[co]=r,yg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nc(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cs.length;i++)pe(Cs[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Mh(t,r),i=Sc(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Uh(t,r),i=Ec(t,r),pe("invalid",t);break;default:i=r}Tc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&to(t,l):typeof l=="number"&&to(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&Zd(t,s,l,o))}switch(n){case"input":Go(t),Ph(t,r,!1);break;case"textarea":Go(t),jh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ui(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ui(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)gg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Wr(ho.current),Wr(bn.current),sa(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(s=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:ia(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ia(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return Ye(e),null;case 13:if(me(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Tt!==null&&e.mode&1&&!(e.flags&128))xm(),ns(),e.flags|=98560,s=!1;else if(s=sa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[fn]=e}else ns(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Gt!==null&&(ad(Gt),Gt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Le===0&&(Le=3):Lf())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return is(),Zc(t,e),t===null&&lo(e.stateNode.containerInfo),Ye(e),null;case 10:return _f(e.type._context),Ye(e),null;case 17:return pt(e.type)&&il(),Ye(e),null;case 19:if(me(be),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Rs(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dl(t),o!==null){for(e.flags|=128,Rs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>os&&(e.flags|=128,r=!0,Rs(s,!1),e.lanes=4194304)}else{if(!r)if(t=dl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Ye(e),null}else 2*Oe()-s.renderingStartTime>os&&n!==1073741824&&(e.flags|=128,r=!0,Rs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=be.current,fe(be,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Cf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function h1(t,e){switch(yf(e),e.tag){case 1:return pt(e.type)&&il(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return is(),me(ht),me(Je),Ef(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return If(e),null;case 13:if(me(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(be),null;case 4:return is(),null;case 10:return _f(e.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var la=!1,He=!1,p1=typeof WeakSet=="function"?WeakSet:Set,F=null;function Li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function ed(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Op=!1;function y1(t,e){if(Mc=el,t=Sm(),hf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pc={focusedElem:t,selectionRange:n},el=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,S=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yt(e.type,v),S);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){Ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return _=Op,Op=!1,_}function Ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ed(e,n,s)}i=i.next}while(i!==r)}}function du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vg(t){var e=t.alternate;e!==null&&(t.alternate=null,vg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[co],delete e[zc],delete e[Jw],delete e[Xw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _g(t){return t.tag===5||t.tag===3||t.tag===4}function Fp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rl));else if(r!==4&&(t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}function rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rd(t,e,n),t=t.sibling;t!==null;)rd(t,e,n),t=t.sibling}var Ve=null,Ht=!1;function er(t,e,n){for(n=n.child;n!==null;)wg(t,e,n),n=n.sibling}function wg(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(ru,n)}catch{}switch(n.tag){case 5:He||Li(n,e);case 6:var r=Ve,i=Ht;Ve=null,er(t,e,n),Ve=r,Ht=i,Ve!==null&&(Ht?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ht?(t=Ve,n=n.stateNode,t.nodeType===8?zu(t.parentNode,n):t.nodeType===1&&zu(t,n),so(t)):zu(Ve,n.stateNode));break;case 4:r=Ve,i=Ht,Ve=n.stateNode.containerInfo,Ht=!0,er(t,e,n),Ve=r,Ht=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ed(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!He&&(Li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,er(t,e,n),He=r):er(t,e,n);break;default:er(t,e,n)}}function Ap(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p1),e.forEach(function(r){var i=E1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Ht=!1;break e;case 3:Ve=a.stateNode.containerInfo,Ht=!0;break e;case 4:Ve=a.stateNode.containerInfo,Ht=!0;break e}a=a.return}if(Ve===null)throw Error(N(160));wg(s,o,i),Ve=null,Ht=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sg(e,t),e=e.sibling}function Sg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),on(t),r&4){try{Ws(3,t,t.return),du(3,t)}catch(v){Ne(t,t.return,v)}try{Ws(5,t,t.return)}catch(v){Ne(t,t.return,v)}}break;case 1:Qt(e,t),on(t),r&512&&n!==null&&Li(n,n.return);break;case 5:if(Qt(e,t),on(t),r&512&&n!==null&&Li(n,n.return),t.flags&32){var i=t.stateNode;try{to(i,"")}catch(v){Ne(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$y(i,s),Nc(a,o);var u=Nc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Yy(i,f):c==="dangerouslySetInnerHTML"?Wy(i,f):c==="children"?to(i,f):Zd(i,c,f,u)}switch(a){case"input":bc(i,s);break;case"textarea":Vy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ui(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ui(i,!!s.multiple,s.defaultValue,!0):Ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(v){Ne(t,t.return,v)}}break;case 6:if(Qt(e,t),on(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ne(t,t.return,v)}}break;case 3:if(Qt(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(v){Ne(t,t.return,v)}break;case 4:Qt(e,t),on(t);break;case 13:Qt(e,t),on(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Df=Oe())),r&4&&Ap(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||c,Qt(e,t),He=u):Qt(e,t),on(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(f=F=c;F!==null;){switch(d=F,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ws(4,d,d.return);break;case 1:Li(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Ne(r,n,v)}}break;case 5:Li(d,d.return);break;case 22:if(d.memoizedState!==null){Dp(f);continue}}m!==null?(m.return=d,F=m):Dp(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qy("display",o))}catch(v){Ne(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ne(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(e,t),on(t),r&4&&Ap(t);break;case 21:break;default:Qt(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_g(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=Fp(t);rd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fp(t);nd(t,a,o);break;default:throw Error(N(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m1(t,e,n){F=t,bg(t)}function bg(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||la;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=la;var u=He;if(la=o,(He=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?xp(i):l!==null?(l.return=o,F=l):xp(i);for(;s!==null;)F=s,bg(s),s=s.sibling;F=i,la=a,He=u}Bp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Bp(t)}}function Bp(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&so(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}He||e.flags&512&&td(e)}catch(d){Ne(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Dp(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function xp(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{du(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{td(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{td(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var g1=Math.ceil,pl=Gn.ReactCurrentDispatcher,Af=Gn.ReactCurrentOwner,zt=Gn.ReactCurrentBatchConfig,Z=0,ze=null,Fe=null,Ke=0,bt=0,Mi=Br(0),Le=0,go=null,ai=0,fu=0,Bf=0,Qs=null,ut=null,Df=0,os=1/0,On=null,yl=!1,id=null,vr=null,ua=!1,fr=null,ml=0,Ys=0,sd=null,Aa=-1,Ba=0;function rt(){return Z&6?Oe():Aa!==-1?Aa:Aa=Oe()}function _r(t){return t.mode&1?Z&2&&Ke!==0?Ke&-Ke:e1.transition!==null?(Ba===0&&(Ba=sm()),Ba):(t=ae,t!==0||(t=window.event,t=t===void 0?16:fm(t.type)),t):1}function Xt(t,e,n,r){if(50<Ys)throw Ys=0,sd=null,Error(N(185));xo(t,n,r),(!(Z&2)||t!==ze)&&(t===ze&&(!(Z&2)&&(fu|=n),Le===4&&ur(t,Ke)),yt(t,r),n===1&&Z===0&&!(e.mode&1)&&(os=Oe()+500,lu&&Dr()))}function yt(t,e){var n=t.callbackNode;ew(t,e);var r=Za(t,t===ze?Ke:0);if(r===0)n!==null&&Vh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vh(n),e===1)t.tag===0?Zw(Cp.bind(null,t)):Am(Cp.bind(null,t)),qw(function(){!(Z&6)&&Dr()}),n=null;else{switch(om(r)){case 1:n=sf;break;case 4:n=rm;break;case 16:n=Xa;break;case 536870912:n=im;break;default:n=Xa}n=Fg(n,Ig.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ig(t,e){if(Aa=-1,Ba=0,Z&6)throw Error(N(327));var n=t.callbackNode;if(Ki()&&t.callbackNode!==n)return null;var r=Za(t,t===ze?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gl(t,r);else{e=r;var i=Z;Z|=2;var s=kg();(ze!==t||Ke!==e)&&(On=null,os=Oe()+500,Zr(t,e));do try{w1();break}catch(a){Eg(t,a)}while(1);vf(),pl.current=s,Z=i,Fe!==null?e=0:(ze=null,Ke=0,e=Le)}if(e!==0){if(e===2&&(i=Bc(t),i!==0&&(r=i,e=od(t,i))),e===1)throw n=go,Zr(t,0),ur(t,r),yt(t,Oe()),n;if(e===6)ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!v1(i)&&(e=gl(t,r),e===2&&(s=Bc(t),s!==0&&(r=s,e=od(t,s))),e===1))throw n=go,Zr(t,0),ur(t,r),yt(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:$r(t,ut,On);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=Df+500-Oe(),10<e)){if(Za(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jc($r.bind(null,t,ut,On),e);break}$r(t,ut,On);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g1(r/1960))-r,10<r){t.timeoutHandle=jc($r.bind(null,t,ut,On),r);break}$r(t,ut,On);break;case 5:$r(t,ut,On);break;default:throw Error(N(329))}}}return yt(t,Oe()),t.callbackNode===n?Ig.bind(null,t):null}function od(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&(Zr(t,e).flags|=256),t=gl(t,e),t!==2&&(e=ut,ut=n,e!==null&&ad(e)),t}function ad(t){ut===null?ut=t:ut.push.apply(ut,t)}function v1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~Bf,e&=~fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Cp(t){if(Z&6)throw Error(N(327));Ki();var e=Za(t,0);if(!(e&1))return yt(t,Oe()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var r=Bc(t);r!==0&&(e=r,n=od(t,r))}if(n===1)throw n=go,Zr(t,0),ur(t,e),yt(t,Oe()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,ut,On),yt(t,Oe()),null}function xf(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(os=Oe()+500,lu&&Dr())}}function li(t){fr!==null&&fr.tag===0&&!(Z&6)&&Ki();var e=Z;Z|=1;var n=zt.transition,r=ae;try{if(zt.transition=null,ae=1,t)return t()}finally{ae=r,zt.transition=n,Z=e,!(Z&6)&&Dr()}}function Cf(){bt=Mi.current,me(Mi)}function Zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Hw(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:is(),me(ht),me(Je),Ef();break;case 5:If(r);break;case 4:is();break;case 13:me(be);break;case 19:me(be);break;case 10:_f(r.type._context);break;case 22:case 23:Cf()}n=n.return}if(ze=t,Fe=t=wr(t.current,null),Ke=bt=e,Le=0,go=null,Bf=fu=ai=0,ut=Qs=null,Kr!==null){for(e=0;e<Kr.length;e++)if(n=Kr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kr=null}return t}function Eg(t,e){do{var n=Fe;try{if(vf(),Ra.current=hl,fl){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fl=!1}if(oi=0,je=De=Ee=null,Ks=!1,po=0,Af.current=null,n===null||n.return===null){Le=1,go=e,Fe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=bp(o);if(m!==null){m.flags&=-257,Ip(m,o,a,s,e),m.mode&1&&Sp(s,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){Sp(s,u,e),Lf();break e}l=Error(N(426))}}else if(_e&&a.mode&1){var S=bp(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ip(S,o,a,s,e),mf(ss(l,a));break e}}s=l=ss(l,a),Le!==4&&(Le=2),Qs===null?Qs=[s]:Qs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=ag(s,l,e);pp(s,p);break e;case 1:a=l;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=lg(s,a,e);pp(s,w);break e}}s=s.return}while(s!==null)}Ng(n)}catch(I){e=I,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function kg(){var t=pl.current;return pl.current=hl,t===null?hl:t}function Lf(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(ai&268435455)&&!(fu&268435455)||ur(ze,Ke)}function gl(t,e){var n=Z;Z|=2;var r=kg();(ze!==t||Ke!==e)&&(On=null,Zr(t,e));do try{_1();break}catch(i){Eg(t,i)}while(1);if(vf(),Z=n,pl.current=r,Fe!==null)throw Error(N(261));return ze=null,Ke=0,Le}function _1(){for(;Fe!==null;)Tg(Fe)}function w1(){for(;Fe!==null&&!W_();)Tg(Fe)}function Tg(t){var e=Og(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?Ng(t):Fe=e,Af.current=null}function Ng(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h1(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Fe=null;return}}else if(n=f1(n,e,bt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Le===0&&(Le=5)}function $r(t,e,n){var r=ae,i=zt.transition;try{zt.transition=null,ae=1,S1(t,e,n,r)}finally{zt.transition=i,ae=r}return null}function S1(t,e,n,r){do Ki();while(fr!==null);if(Z&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tw(t,s),t===ze&&(Fe=ze=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ua||(ua=!0,Fg(Xa,function(){return Ki(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var o=ae;ae=1;var a=Z;Z|=4,Af.current=null,y1(t,n),Sg(n,t),zw(Pc),el=!!Mc,Pc=Mc=null,t.current=n,m1(n),Q_(),Z=a,ae=o,zt.transition=s}else t.current=n;if(ua&&(ua=!1,fr=t,ml=i),s=t.pendingLanes,s===0&&(vr=null),q_(n.stateNode),yt(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yl)throw yl=!1,t=id,id=null,t;return ml&1&&t.tag!==0&&Ki(),s=t.pendingLanes,s&1?t===sd?Ys++:(Ys=0,sd=t):Ys=0,Dr(),null}function Ki(){if(fr!==null){var t=om(ml),e=zt.transition,n=ae;try{if(zt.transition=null,ae=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,ml=0,Z&6)throw Error(N(331));var i=Z;for(Z|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ws(8,c,s)}var f=c.child;if(f!==null)f.return=c,F=f;else for(;F!==null;){c=F;var d=c.sibling,m=c.return;if(vg(c),c===u){F=null;break}if(d!==null){d.return=m,F=d;break}F=m}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ws(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var h=t.current;for(F=h;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=h;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:du(9,a)}}catch(I){Ne(a,a.return,I)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(Z=i,Dr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(ru,t)}catch{}r=!0}return r}finally{ae=n,zt.transition=e}}return!1}function Lp(t,e,n){e=ss(n,e),e=ag(t,e,1),t=gr(t,e,1),e=rt(),t!==null&&(xo(t,1,e),yt(t,e))}function Ne(t,e,n){if(t.tag===3)Lp(t,t,n);else for(;e!==null;){if(e.tag===3){Lp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){t=ss(n,t),t=lg(e,t,1),e=gr(e,t,1),t=rt(),e!==null&&(xo(e,1,t),yt(e,t));break}}e=e.return}}function b1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ke&n)===n&&(Le===4||Le===3&&(Ke&130023424)===Ke&&500>Oe()-Df?Zr(t,0):Bf|=n),yt(t,e)}function Rg(t,e){e===0&&(t.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var n=rt();t=Qn(t,e),t!==null&&(xo(t,e,n),yt(t,n))}function I1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rg(t,n)}function E1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Rg(t,n)}var Og;Og=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,d1(t,e,n);ft=!!(t.flags&131072)}else ft=!1,_e&&e.flags&1048576&&Bm(e,al,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fa(t,e),t=e.pendingProps;var i=ts(e,Je.current);Vi(e,n),i=Tf(null,e,r,t,i,n);var s=Nf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,sl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sf(e),i.updater=uu,e.stateNode=i,i._reactInternals=e,Yc(e,r,t,n),e=Gc(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&pf(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=T1(r),t=Yt(r,t),i){case 0:e=qc(null,e,r,t,n);break e;case 1:e=Tp(null,e,r,t,n);break e;case 11:e=Ep(null,e,r,t,n);break e;case 14:e=kp(null,e,r,Yt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),qc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Tp(t,e,r,i,n);case 3:e:{if(fg(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lm(t,e),cl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ss(Error(N(423)),e),e=Np(t,e,r,n,i);break e}else if(r!==i){i=ss(Error(N(424)),e),e=Np(t,e,r,n,i);break e}else for(Tt=mr(e.stateNode.containerInfo.firstChild),Nt=e,_e=!0,Gt=null,n=jm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===i){e=Yn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return zm(e),t===null&&Kc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uc(r,i)?o=null:s!==null&&Uc(r,s)&&(e.flags|=32),dg(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&Kc(e),null;case 13:return hg(t,e,n);case 4:return bf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rs(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Ep(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(ll,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!ht.current){e=Yn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wc(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vi(e,n),i=Vt(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),kp(t,e,r,i,n);case 15:return ug(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Fa(t,e),e.tag=1,pt(r)?(t=!0,sl(e)):t=!1,Vi(e,n),Pm(e,r,i),Yc(e,r,i,n),Gc(null,e,r,!0,t,n);case 19:return pg(t,e,n);case 22:return cg(t,e,n)}throw Error(N(156,e.tag))};function Fg(t,e){return nm(t,e)}function k1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new k1(t,e,n,r)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T1(t){if(typeof t=="function")return Mf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tf)return 11;if(t===nf)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Da(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ni:return ei(n.children,i,s,e);case ef:o=8,i|=8;break;case gc:return t=jt(12,n,e,i|2),t.elementType=gc,t.lanes=s,t;case vc:return t=jt(13,n,e,i),t.elementType=vc,t.lanes=s,t;case _c:return t=jt(19,n,e,i),t.elementType=_c,t.lanes=s,t;case Uy:return hu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case My:o=10;break e;case Py:o=9;break e;case tf:o=11;break e;case nf:o=14;break e;case rr:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ei(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function hu(t,e,n,r){return t=jt(22,t,r,e),t.elementType=Uy,t.lanes=n,t.stateNode={isHidden:!1},t}function qu(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Gu(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pf(t,e,n,r,i,s,o,a,l){return t=new N1(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(s),t}function R1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ag(t){if(!t)return br;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(pt(n))return Fm(t,n,e)}return e}function Bg(t,e,n,r,i,s,o,a,l){return t=Pf(n,r,!0,t,i,s,o,a,l),t.context=Ag(null),n=t.current,r=rt(),i=_r(n),s=zn(r,i),s.callback=e??null,gr(n,s,i),t.current.lanes=i,xo(t,i,r),yt(t,r),t}function pu(t,e,n,r){var i=e.current,s=rt(),o=_r(i);return n=Ag(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,o),t!==null&&(Xt(t,i,o,s),Na(t,i,o)),o}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uf(t,e){Mp(t,e),(t=t.alternate)&&Mp(t,e)}function O1(){return null}var Dg=typeof reportError=="function"?reportError:function(t){console.error(t)};function jf(t){this._internalRoot=t}yu.prototype.render=jf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));pu(t,e,null,null)};yu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){pu(null,t,null,null)}),e[Wn]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=um();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&dm(t)}};function zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function F1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vl(o);s.call(u)}}var o=Bg(e,r,t,0,null,!1,!1,"",Pp);return t._reactRootContainer=o,t[Wn]=o.current,lo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vl(l);a.call(u)}}var l=Pf(t,0,!1,null,null,!1,!1,"",Pp);return t._reactRootContainer=l,t[Wn]=l.current,lo(t.nodeType===8?t.parentNode:t),li(function(){pu(e,l,n,r)}),l}function gu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vl(o);a.call(l)}}pu(e,o,t,i)}else o=F1(n,e,t,i,r);return vl(o)}am=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xs(e.pendingLanes);n!==0&&(of(e,n|1),yt(e,Oe()),!(Z&6)&&(os=Oe()+500,Dr()))}break;case 13:li(function(){var r=Qn(t,1);if(r!==null){var i=rt();Xt(r,t,1,i)}}),Uf(t,1)}};af=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=rt();Xt(e,t,134217728,n)}Uf(t,134217728)}};lm=function(t){if(t.tag===13){var e=_r(t),n=Qn(t,e);if(n!==null){var r=rt();Xt(n,t,e,r)}Uf(t,e)}};um=function(){return ae};cm=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Oc=function(t,e,n){switch(e){case"input":if(bc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=au(r);if(!i)throw Error(N(90));zy(r),bc(r,i)}}}break;case"textarea":Vy(t,n);break;case"select":e=n.value,e!=null&&Ui(t,!!n.multiple,e,!1)}};Gy=xf;Jy=li;var A1={usingClientEntryPoint:!1,Events:[Lo,Ai,au,Hy,qy,xf]},Os={findFiberByHostInstance:Vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},B1={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=em(t),t===null?null:t.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{ru=ca.inject(B1),Sn=ca}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(e))throw Error(N(200));return R1(t,e,null,n)};Bt.createRoot=function(t,e){if(!zf(t))throw Error(N(299));var n=!1,r="",i=Dg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pf(t,1,!1,null,null,n,!1,r,i),t[Wn]=e.current,lo(t.nodeType===8?t.parentNode:t),new jf(e)};Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=em(e),t=t===null?null:t.stateNode,t};Bt.flushSync=function(t){return li(t)};Bt.hydrate=function(t,e,n){if(!mu(e))throw Error(N(200));return gu(null,t,e,!0,n)};Bt.hydrateRoot=function(t,e,n){if(!zf(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Bg(e,null,t,1,n??null,i,!1,s,o),t[Wn]=e.current,lo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yu(e)};Bt.render=function(t,e,n){if(!mu(e))throw Error(N(200));return gu(null,t,e,!1,n)};Bt.unmountComponentAtNode=function(t){if(!mu(t))throw Error(N(40));return t._reactRootContainer?(li(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};Bt.unstable_batchedUpdates=xf;Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mu(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return gu(t,e,n,!1,r)};Bt.version="18.2.0-next-9e3b772b8-20220608";function xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xg)}catch(t){console.error(t)}}xg(),By.exports=Bt;var D1=By.exports,Cg,Up=D1;Cg=Up.createRoot,Up.hydrateRoot;let da;const x1=new Uint8Array(16);function C1(){if(!da&&(da=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!da))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return da(x1)}const $e=[];for(let t=0;t<256;++t)$e.push((t+256).toString(16).slice(1));function L1(t,e=0){return $e[t[e+0]]+$e[t[e+1]]+$e[t[e+2]]+$e[t[e+3]]+"-"+$e[t[e+4]]+$e[t[e+5]]+"-"+$e[t[e+6]]+$e[t[e+7]]+"-"+$e[t[e+8]]+$e[t[e+9]]+"-"+$e[t[e+10]]+$e[t[e+11]]+$e[t[e+12]]+$e[t[e+13]]+$e[t[e+14]]+$e[t[e+15]]}const M1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jp={randomUUID:M1};function ld(t,e,n){if(jp.randomUUID&&!e&&!t)return jp.randomUUID();t=t||{};const r=t.random||(t.rng||C1)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return L1(r)}class P1{constructor({fileManager:e,logger:n,onEvent:r,options:i,instanceManager:s,onDuckDBShutdown:o}){ne(this,"fileManager");ne(this,"instanceManager");ne(this,"connection",null);ne(this,"queriesQueue",[]);ne(this,"tableLockRegistry",{});ne(this,"logger");ne(this,"onEvent");ne(this,"options");ne(this,"terminateDBTimeout",null);ne(this,"onDuckDBShutdown");ne(this,"queryQueueRunning",!1);ne(this,"shutdownLock",!1);ne(this,"currentQueryItem");this.fileManager=e,this.logger=n,this.onEvent=r,this.options=i,this.instanceManager=s,this.onDuckDBShutdown=o}async _shutdown(){this.shutdownLock||(this.connection&&(await this.connection.close(),this.connection=null),this.logger.debug("Shutting down the DB"),this.onDuckDBShutdown&&this.onDuckDBShutdown(),await this.fileManager.onDBShutdownHandler(),await this.instanceManager.terminateDB())}_startShutdownInactiveTimer(){var e;(e=this.options)!=null&&e.shutdownInactiveTime&&(this.terminateDBTimeout&&clearTimeout(this.terminateDBTimeout),this.terminateDBTimeout=setTimeout(async()=>{if(this.queriesQueue.length>0){this.logger.debug("Query queue is not empty, not shutting down the DB");return}await this._shutdown()},this.options.shutdownInactiveTime))}_emitEvent(e){this.onEvent&&this.onEvent(e)}async _getConnection(){if(!this.connection){const e=await this.instanceManager.getDB();this.connection=await e.connect()}return this.connection}async lockTables(e){const n=[];for(const r of e){const i=this.tableLockRegistry[r];if(!i){this.tableLockRegistry[r]={isLocked:!0,promiseQueue:[]};continue}if(i.isLocked){const s=new Promise((o,a)=>{i.promiseQueue.push({reject:a,resolve:o})});n.push(s)}i.isLocked=!0}await Promise.all(n)}async unlockTables(e){var n;for(const r of e){const i=this.tableLockRegistry[r];i||(this.tableLockRegistry[r]={isLocked:!1,promiseQueue:[]});const s=(n=i==null?void 0:i.promiseQueue)==null?void 0:n.shift();s?(i.isLocked=!0,s.resolve()):i.isLocked=!1}}isTableLocked(e){var n;return((n=this.tableLockRegistry[e])==null?void 0:n.isLocked)??!1}async _queryWithTables(e,n,r){const i=Date.now();await this.fileManager.mountFileBufferByTables(n);const s=Date.now();this.logger.debug("Time spent in mounting files:",s-i,"ms",e),this._emitEvent({event_name:"mount_file_buffer_duration",duration:s-i,metadata:r==null?void 0:r.metadata});const o=await this.fileManager.getFilesNameForTables(n);r!=null&&r.preQuery&&await r.preQuery(o);const a=Date.now(),l=await this.query(e),c=Date.now()-a;return this.logger.debug("Time spent in executing query by duckdb:",c,"ms",e),this._emitEvent({event_name:"query_execution_duration",duration:c,metadata:r==null?void 0:r.metadata}),l}async _stopQueryQueue(){this.logger.debug("Query queue is empty, stopping the queue execution"),this.queryQueueRunning=!1,this.queriesQueue=[],await this._startShutdownInactiveTimer()}async _startQueryExecution(e){var n,r;if(this.logger.debug("Query queue length:",this.queriesQueue.length),this._emitEvent({event_name:"query_queue_length",value:this.queriesQueue.length,metadata:e}),this.currentQueryItem=this.queriesQueue.shift(),!this.currentQueryItem){await this._stopQueryQueue();return}try{await this.lockTables(this.currentQueryItem.tables.map(a=>a.name));const i=Date.now();this.logger.debug("Time since query was added to the queue:",i-this.currentQueryItem.timestamp,"ms",this.currentQueryItem.query),this._emitEvent({event_name:"query_queue_duration",duration:i-this.currentQueryItem.timestamp,metadata:e});const s=await this._queryWithTables(this.currentQueryItem.query,this.currentQueryItem.tables,this.currentQueryItem.options),o=Date.now();this.logger.debug("Total time spent along with queue time",o-this.currentQueryItem.timestamp,"ms",this.currentQueryItem.query),this.currentQueryItem.promise.resolve(s)}catch(i){this.logger.warn("Error while executing query:",(n=this.currentQueryItem)==null?void 0:n.query),(r=this.currentQueryItem)==null||r.promise.reject(i)}finally{await this.unlockTables(this.currentQueryItem.tables.map(i=>i.name))}this.currentQueryItem=void 0,this._startQueryExecution()}_startQueryQueue(){if(this.queryQueueRunning){this.logger.debug("Query queue is already running");return}this.logger.debug("Starting query queue"),this.queryQueueRunning=!0,this._startQueryExecution()}getQueueLength(){return this.queriesQueue.length}isQueryRunning(){return this.queryQueueRunning}_signalListener(e,n,r){const i=async s=>{var a;const o=this.queriesQueue.findIndex(l=>l.connectionId===e);o!==-1&&this.queriesQueue.splice(o,1),((a=this.currentQueryItem)==null?void 0:a.connectionId)===e&&await(await this._getConnection()).cancelSent(),r==null||r.removeEventListener("abort",i),n(s)};r==null||r.addEventListener("abort",i)}async queryWithTables({query:e,tables:n,options:r}){const i=ld(),s=new Promise((o,a)=>{this._signalListener(i,a,r==null?void 0:r.signal),this.queriesQueue.push({query:e,tables:n,promise:{resolve:o,reject:a},connectionId:i,timestamp:Date.now(),options:r})});return this._startQueryQueue(),s}async query(e){return(await this._getConnection()).query(e)}async setShutdownLock(e){this.shutdownLock=e}}const wi={RUNNER_ON_READY:"RUNNER_ON_READY",EXEC_QUERY:"EXEC_QUERY",DESTROY:"DESTROY",RUNNER_GET_FILE_BUFFERS:"RUNNER_GET_FILE_BUFFERS",RUNNER_PRE_QUERY:"RUNNER_PRE_QUERY",RUNNER_ON_EVENT:"RUNNER_ON_EVENT"},U1=t=>"RUNNER__"+t,j1=t=>"MAIN__"+t;class z1{constructor({app_name:e}){ne(this,"app_name");ne(this,"enable_logger",!0);this.app_name=e}info(e,...n){this.enable_logger&&console.info(`[${this.app_name}]`,e,...n)}warn(e,...n){this.enable_logger&&console.warn(`[${this.app_name}]`,e,...n)}error(e,...n){this.enable_logger&&console.error(`[${this.app_name}]`,e,...n)}}class $1{constructor({app_name:e,targetWindow:n,targetApp:r,origin:i}){ne(this,"app_name");ne(this,"_targetWindow");ne(this,"_origin");ne(this,"_targetApp");ne(this,"gcRunnerIntervalRef");ne(this,"messagesPromiseMap",new Map);ne(this,"logger");ne(this,"gc",()=>{this.logger.info(`Starting GC with ${this.messagesPromiseMap.size} messages`);const e=Date.now();this.messagesPromiseMap.forEach((n,r)=>{var i;e-n.timestamp>3e4&&(this.logger.info("gc",r,n.timestamp,e-n.timestamp),(i=this.messagesPromiseMap.get(r))==null||i.reject(),this.messagesPromiseMap.delete(r))}),this.logger.info(`GC finished with ${this.messagesPromiseMap.size} messages`)});this.app_name=e,this._targetWindow=n,this._origin=i,this._targetApp=r,this.registerMessageListener(),this.gcRunnerIntervalRef=setInterval(this.gc,1e3*60*10),this.logger=new z1({app_name:this.app_name})}registerMessageListener(){window.addEventListener("message",e=>{if(e.origin!==this._origin){this.logger.warn("IframeCommunication: origin mismatch",e.origin,this._origin);return}if(e.data.target_app!==this.app_name){this.logger.warn("IframeCommunication: target_app mismatch",e.data.target_app,this.app_name);return}const{message:n,timestamp:r,uuid:i}=e.data,s=this.messagesPromiseMap.get(i);s&&(this.messagesPromiseMap.delete(i),s.resolve({message:n,target_app:this._targetApp,timestamp:r,uuid:i}))})}destroy(){clearInterval(this.gcRunnerIntervalRef)}sendRequest(e){if(!this._targetWindow)return this.logger.warn("IframeCommunication: iframe has no contentWindow"),Promise.reject();const n=ld(),r=Date.now();return this._targetWindow.postMessage({message:e,target_app:this._targetApp,timestamp:r,uuid:n},this._origin),new Promise((i,s)=>{this.messagesPromiseMap.set(n,{reject:s,resolve:i,timestamp:r})})}sendRequestWithoutResponse(e){if(!this._targetWindow){this.logger.warn("IframeCommunication: iframe has no contentWindow");return}const n=ld(),r=Date.now();this._targetWindow.postMessage({message:e,target_app:this._targetApp,timestamp:r,uuid:n},this._origin)}sendResponse(e,n){if(!this._targetWindow){this.logger.warn("IframeCommunication: iframe has no contentWindow");return}this._targetWindow.postMessage({message:n,target_app:this._targetApp,timestamp:Date.now(),uuid:e},this._origin)}onMessage(e){window.addEventListener("message",n=>{if(n.origin!==this._origin){this.logger.warn("IframeCommunication: origin mismatch",n.origin,this._origin);return}if(n.data.target_app!==this.app_name){this.logger.warn("IframeCommunication: target_app mismatch",n.data.target_app,this.app_name);return}const{message:r,timestamp:i,uuid:s,target_app:o}=n.data;s&&e({message:r,target_app:o,timestamp:i,uuid:s})})}}const V1=t=>{const e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e};function L(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function zp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(t){return this instanceof Y?(this.v=t,this):new Y(t)}function _n(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(m){return new Promise(function(_,v){s.push([d,m,_,v])>1||a(d,m)})})}function a(d,m){try{l(r[d](m))}catch(_){f(s[0][3],_)}}function l(d){d.value instanceof Y?Promise.resolve(d.value.v).then(u,c):f(s[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function f(d,m){d(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function xa(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Y(t[i](o)),done:!1}:s?s(o):o}:s}}function ti(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zp=="function"?zp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const K1=new TextDecoder("utf-8"),ud=t=>K1.decode(t),W1=new TextEncoder,$f=t=>W1.encode(t),Q1=t=>typeof t=="number",Lg=t=>typeof t=="boolean",xe=t=>typeof t=="function",gt=t=>t!=null&&Object(t)===t,ui=t=>gt(t)&&xe(t.then),Po=t=>gt(t)&&xe(t[Symbol.iterator]),vs=t=>gt(t)&&xe(t[Symbol.asyncIterator]),cd=t=>gt(t)&&gt(t.schema),Mg=t=>gt(t)&&"done"in t&&"value"in t,Pg=t=>gt(t)&&xe(t.stat)&&Q1(t.fd),Ug=t=>gt(t)&&Vf(t.body),vu=t=>"_getDOMStream"in t&&"_getNodeStream"in t,Y1=t=>gt(t)&&xe(t.abort)&&xe(t.getWriter)&&!vu(t),Vf=t=>gt(t)&&xe(t.cancel)&&xe(t.getReader)&&!vu(t),H1=t=>gt(t)&&xe(t.end)&&xe(t.write)&&Lg(t.writable)&&!vu(t),jg=t=>gt(t)&&xe(t.read)&&xe(t.pipe)&&Lg(t.readable)&&!vu(t),q1=t=>gt(t)&&xe(t.clear)&&xe(t.bytes)&&xe(t.position)&&xe(t.setPosition)&&xe(t.capacity)&&xe(t.getBufferIdentifier)&&xe(t.createLong),Kf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function G1(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++u]=a);continue}e[u]=new Uint8Array(o.buffer,n,r-n+s)}return e}function $p(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function In(t,e){const n=G1(t),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?$p(o,s,a):o=s;break}$p(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function le(t,e){let n=Mg(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=$f(n)),n instanceof ArrayBuffer?new t(n):n instanceof Kf?new t(n):q1(n)?le(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Fs=t=>le(Int32Array,t),ee=t=>le(Uint8Array,t),dd=t=>(t.next(),t);function*J1(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Kf?n(e):Po(e)?e:n(e);return yield*dd(function*(i){let s=null;do s=i.next(yield le(t,s));while(!s.done)}(r[Symbol.iterator]())),new t}const X1=t=>J1(Uint8Array,t);function zg(t,e){return _n(this,arguments,function*(){if(ui(e))return yield Y(yield Y(yield*xa(ti(zg(t,yield Y(e))))));const r=function(o){return _n(this,arguments,function*(){yield yield Y(yield Y(o))})},i=function(o){return _n(this,arguments,function*(){yield Y(yield*xa(ti(dd(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Kf?r(e):Po(e)?i(e):vs(e)?e:r(e);return yield Y(yield*xa(ti(dd(function(o){return _n(this,arguments,function*(){let a=null;do a=yield Y(o.next(yield yield Y(le(t,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Y(new t)})}const Z1=t=>zg(Uint8Array,t);function Wf(t,e,n){if(t!==0){n=n.slice(0,e+1);for(let r=-1;++r<=e;)n[r]+=t}return n}function eS(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const Ct={fromIterable(t){return fa(tS(t))},fromAsyncIterable(t){return fa(nS(t))},fromDOMStream(t){return fa(rS(t))},fromNodeStream(t){return fa(sS(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},fa=t=>(t.next(),t);function*tS(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?In(r,o)[0]:([i,r,a]=In(r,o),i)}({cmd:s,size:o}=yield null);const u=X1(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function nS(t){return _n(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?In(i,a)[0]:([s,i,l]=In(i,a),s)}({cmd:o,size:a}=yield yield Y(null));const c=Z1(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.next()):yield Y(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield Y(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield Y(c.return(new Uint8Array(0))))}return yield Y(null)})}function rS(t){return _n(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?In(i,a)[0]:([s,i,l]=In(i,a),s)}({cmd:o,size:a}=yield yield Y(null));const c=new iS(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.read()):yield Y(c.read(a-l)),!n&&s.byteLength>0&&(i.push(ee(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(f){(r=!0)&&(yield Y(c.cancel(f)))}finally{r===!1?yield Y(c.cancel()):t.locked&&c.releaseLock()}return yield Y(null)})}class iS{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return L(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return L(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=ee(n)),n})}}const Ju=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function sS(t){return _n(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function f(){return o==="peek"?In(u,a)[0]:([c,u,l]=In(u,a),c)}if({cmd:o,size:a}=yield yield Y(null),t.isTTY)return yield yield Y(new Uint8Array(0)),yield Y(null);try{n[0]=Ju(t,"end"),n[1]=Ju(t,"error");do{if(n[2]=Ju(t,"readable"),[r,s]=yield Y(Promise.race(n.map(m=>m[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=ee(t.read(a-l)),c.byteLength<a-l&&(c=ee(t.read()))):c=ee(t.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Y(f()));while(a<l)}while(!i)}finally{yield Y(d(n,r==="error"?s:null))}return yield Y(null);function d(m,_){return c=u=null,new Promise((v,S)=>{for(const[p,h]of m)t.off(p,h);try{const p=t.destroy;p&&p.call(t,_),_=void 0}catch(p){_=p||_}finally{_!=null?S(_):v()}})}})}var kt;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(kt||(kt={}));var Ot;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Ot||(Ot={}));var mt;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(mt||(mt={}));var Hn;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Hn||(Hn={}));var te;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(te||(te={}));var Ir;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ir||(Ir={}));var re;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(re||(re={}));var g;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"})(g||(g={}));var Fn;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(Fn||(Fn={}));const oS=void 0;function vo(t){if(t===null)return"null";if(t===oS)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>vo(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}const aS=Symbol.for("isArrowBigNum");function rn(t,...e){return e.length===0?Object.setPrototypeOf(le(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}rn.prototype[aS]=!0;rn.prototype.toJSON=function(){return`"${wo(this)}"`};rn.prototype.valueOf=function(){return $g(this)};rn.prototype.toString=function(){return wo(this)};rn.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return $g(this);case"string":return wo(this);case"default":return lS(this)}return wo(this)};function Wi(...t){return rn.apply(this,t)}function Qi(...t){return rn.apply(this,t)}function _o(...t){return rn.apply(this,t)}Object.setPrototypeOf(Wi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Qi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(_o.prototype,Object.create(Uint32Array.prototype));Object.assign(Wi.prototype,rn.prototype,{constructor:Wi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Qi.prototype,rn.prototype,{constructor:Qi,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(_o.prototype,rn.prototype,{constructor:_o,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function $g(t){const{buffer:e,byteOffset:n,length:r,signed:i}=t,s=new BigUint64Array(e,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of s)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}const wo=t=>{if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return Xu(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return Xu(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${Xu(e)}`},lS=t=>t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:wo(t);function Xu(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class Qf{static new(e,n){switch(n){case!0:return new Wi(e);case!1:return new Qi(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Wi(e)}return e.byteLength===16?new _o(e):new Qi(e)}static signed(e){return new Wi(e)}static unsigned(e){return new Qi(e)}static decimal(e){return new _o(e)}constructor(e,n){return Qf.new(e,n)}}function nn(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}var Vg,Kg,Wg,Qg,Yg,Hg,qg,Gg,Jg,Xg,Zg,ev,tv,nv,rv,iv,sv,ov,av;class M{static isNull(e){return(e==null?void 0:e.typeId)===g.Null}static isInt(e){return(e==null?void 0:e.typeId)===g.Int}static isFloat(e){return(e==null?void 0:e.typeId)===g.Float}static isBinary(e){return(e==null?void 0:e.typeId)===g.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===g.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===g.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===g.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===g.Date}static isTime(e){return(e==null?void 0:e.typeId)===g.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===g.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===g.Interval}static isList(e){return(e==null?void 0:e.typeId)===g.List}static isStruct(e){return(e==null?void 0:e.typeId)===g.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===g.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===g.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===g.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===g.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===g.Dictionary}static isDenseUnion(e){return M.isUnion(e)&&e.mode===Ot.Dense}static isSparseUnion(e){return M.isUnion(e)&&e.mode===Ot.Sparse}get typeId(){return g.NONE}}Vg=Symbol.toStringTag;M[Vg]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(M.prototype);let Er=class extends M{toString(){return"Null"}get typeId(){return g.Null}};Kg=Symbol.toStringTag;Er[Kg]=(t=>t[Symbol.toStringTag]="Null")(Er.prototype);class kr extends M{constructor(e,n){super(),this.isSigned=e,this.bitWidth=n}get typeId(){return g.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Wg=Symbol.toStringTag;kr[Wg]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(kr.prototype);class So extends kr{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(So.prototype,"ArrayType",{value:Int32Array});class bo extends M{constructor(e){super(),this.precision=e}get typeId(){return g.Float}get ArrayType(){switch(this.precision){case mt.HALF:return Uint16Array;case mt.SINGLE:return Float32Array;case mt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Qg=Symbol.toStringTag;bo[Qg]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(bo.prototype);let _l=class extends M{constructor(){super()}get typeId(){return g.Binary}toString(){return"Binary"}};Yg=Symbol.toStringTag;_l[Yg]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(_l.prototype);let wl=class extends M{constructor(){super()}get typeId(){return g.Utf8}toString(){return"Utf8"}};Hg=Symbol.toStringTag;wl[Hg]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(wl.prototype);let Sl=class extends M{constructor(){super()}get typeId(){return g.Bool}toString(){return"Bool"}};qg=Symbol.toStringTag;Sl[qg]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Sl.prototype);let bl=class extends M{constructor(e,n,r=128){super(),this.scale=e,this.precision=n,this.bitWidth=r}get typeId(){return g.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Gg=Symbol.toStringTag;bl[Gg]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(bl.prototype);class Il extends M{constructor(e){super(),this.unit=e}get typeId(){return g.Date}toString(){return`Date${(this.unit+1)*32}<${Hn[this.unit]}>`}}Jg=Symbol.toStringTag;Il[Jg]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Il.prototype);class Io extends M{constructor(e,n){super(),this.unit=e,this.bitWidth=n}get typeId(){return g.Time}toString(){return`Time${this.bitWidth}<${te[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Xg=Symbol.toStringTag;Io[Xg]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Io.prototype);class El extends M{constructor(e,n){super(),this.unit=e,this.timezone=n}get typeId(){return g.Timestamp}toString(){return`Timestamp<${te[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Zg=Symbol.toStringTag;El[Zg]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(El.prototype);class kl extends M{constructor(e){super(),this.unit=e}get typeId(){return g.Interval}toString(){return`Interval<${Ir[this.unit]}>`}}ev=Symbol.toStringTag;kl[ev]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(kl.prototype);let Tl=class extends M{constructor(e){super(),this.children=[e]}get typeId(){return g.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};tv=Symbol.toStringTag;Tl[tv]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Tl.prototype);class et extends M{constructor(e){super(),this.children=e}get typeId(){return g.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}nv=Symbol.toStringTag;et[nv]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(et.prototype);class Nl extends M{constructor(e,n,r){super(),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return g.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}rv=Symbol.toStringTag;Nl[rv]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Nl.prototype);let Rl=class extends M{constructor(e){super(),this.byteWidth=e}get typeId(){return g.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};iv=Symbol.toStringTag;Rl[iv]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Rl.prototype);let Ol=class extends M{constructor(e,n){super(),this.listSize=e,this.children=[n]}get typeId(){return g.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};sv=Symbol.toStringTag;Ol[sv]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Ol.prototype);class Fl extends M{constructor(e,n=!1){super(),this.children=[e],this.keysSorted=n}get typeId(){return g.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ov=Symbol.toStringTag;Fl[ov]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Fl.prototype);const uS=(t=>()=>++t)(-1);class as extends M{constructor(e,n,r,i){super(),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?uS():nn(r)}get typeId(){return g.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}av=Symbol.toStringTag;as[av]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(as.prototype);function An(t){const e=t;switch(t.typeId){case g.Decimal:return t.bitWidth/32;case g.Timestamp:return 2;case g.Date:return 1+e.unit;case g.Interval:return 1+e.unit;case g.FixedSizeList:return e.listSize;case g.FixedSizeBinary:return e.byteWidth;default:return 1}}class J{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return cS(this,e,n)}getVisitFnByTypeId(e,n=!0){return Si(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function cS(t,e,n=!0){return typeof e=="number"?Si(t,e,n):typeof e=="string"&&e in g?Si(t,g[e],n):e&&e instanceof M?Si(t,Vp(e),n):e!=null&&e.type&&e.type instanceof M?Si(t,Vp(e.type),n):Si(t,g.NONE,n)}function Si(t,e,n=!0){let r=null;switch(e){case g.Null:r=t.visitNull;break;case g.Bool:r=t.visitBool;break;case g.Int:r=t.visitInt;break;case g.Int8:r=t.visitInt8||t.visitInt;break;case g.Int16:r=t.visitInt16||t.visitInt;break;case g.Int32:r=t.visitInt32||t.visitInt;break;case g.Int64:r=t.visitInt64||t.visitInt;break;case g.Uint8:r=t.visitUint8||t.visitInt;break;case g.Uint16:r=t.visitUint16||t.visitInt;break;case g.Uint32:r=t.visitUint32||t.visitInt;break;case g.Uint64:r=t.visitUint64||t.visitInt;break;case g.Float:r=t.visitFloat;break;case g.Float16:r=t.visitFloat16||t.visitFloat;break;case g.Float32:r=t.visitFloat32||t.visitFloat;break;case g.Float64:r=t.visitFloat64||t.visitFloat;break;case g.Utf8:r=t.visitUtf8;break;case g.Binary:r=t.visitBinary;break;case g.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case g.Date:r=t.visitDate;break;case g.DateDay:r=t.visitDateDay||t.visitDate;break;case g.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case g.Timestamp:r=t.visitTimestamp;break;case g.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case g.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case g.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case g.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case g.Time:r=t.visitTime;break;case g.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case g.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case g.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case g.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case g.Decimal:r=t.visitDecimal;break;case g.List:r=t.visitList;break;case g.Struct:r=t.visitStruct;break;case g.Union:r=t.visitUnion;break;case g.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case g.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case g.Dictionary:r=t.visitDictionary;break;case g.Interval:r=t.visitInterval;break;case g.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case g.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case g.FixedSizeList:r=t.visitFixedSizeList;break;case g.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${g[e]}'`)}function Vp(t){switch(t.typeId){case g.Null:return g.Null;case g.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?g.Int8:g.Uint8;case 16:return n?g.Int16:g.Uint16;case 32:return n?g.Int32:g.Uint32;case 64:return n?g.Int64:g.Uint64}return g.Int}case g.Float:switch(t.precision){case mt.HALF:return g.Float16;case mt.SINGLE:return g.Float32;case mt.DOUBLE:return g.Float64}return g.Float;case g.Binary:return g.Binary;case g.Utf8:return g.Utf8;case g.Bool:return g.Bool;case g.Decimal:return g.Decimal;case g.Time:switch(t.unit){case te.SECOND:return g.TimeSecond;case te.MILLISECOND:return g.TimeMillisecond;case te.MICROSECOND:return g.TimeMicrosecond;case te.NANOSECOND:return g.TimeNanosecond}return g.Time;case g.Timestamp:switch(t.unit){case te.SECOND:return g.TimestampSecond;case te.MILLISECOND:return g.TimestampMillisecond;case te.MICROSECOND:return g.TimestampMicrosecond;case te.NANOSECOND:return g.TimestampNanosecond}return g.Timestamp;case g.Date:switch(t.unit){case Hn.DAY:return g.DateDay;case Hn.MILLISECOND:return g.DateMillisecond}return g.Date;case g.Interval:switch(t.unit){case Ir.DAY_TIME:return g.IntervalDayTime;case Ir.YEAR_MONTH:return g.IntervalYearMonth}return g.Interval;case g.Map:return g.Map;case g.List:return g.List;case g.Struct:return g.Struct;case g.Union:switch(t.mode){case Ot.Dense:return g.DenseUnion;case Ot.Sparse:return g.SparseUnion}return g.Union;case g.FixedSizeBinary:return g.FixedSizeBinary;case g.FixedSizeList:return g.FixedSizeList;case g.Dictionary:return g.Dictionary}throw new Error(`Unrecognized type '${g[t.typeId]}'`)}J.prototype.visitInt8=null;J.prototype.visitInt16=null;J.prototype.visitInt32=null;J.prototype.visitInt64=null;J.prototype.visitUint8=null;J.prototype.visitUint16=null;J.prototype.visitUint32=null;J.prototype.visitUint64=null;J.prototype.visitFloat16=null;J.prototype.visitFloat32=null;J.prototype.visitFloat64=null;J.prototype.visitDateDay=null;J.prototype.visitDateMillisecond=null;J.prototype.visitTimestampSecond=null;J.prototype.visitTimestampMillisecond=null;J.prototype.visitTimestampMicrosecond=null;J.prototype.visitTimestampNanosecond=null;J.prototype.visitTimeSecond=null;J.prototype.visitTimeMillisecond=null;J.prototype.visitTimeMicrosecond=null;J.prototype.visitTimeNanosecond=null;J.prototype.visitDenseUnion=null;J.prototype.visitSparseUnion=null;J.prototype.visitIntervalDayTime=null;J.prototype.visitIntervalYearMonth=null;const lv=new Float64Array(1),gi=new Uint32Array(lv.buffer);function uv(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function dS(t){if(t!==t)return 32256;lv[0]=t;const e=(gi[1]&2147483648)>>16&65535;let n=gi[1]&2146435072,r=0;return n>=1089470464?gi[0]>0?n=31744:(n=(n&2080374784)>>16,r=(gi[1]&1048575)>>10):n<=1056964608?(r=1048576+(gi[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(gi[1]&1048575)+512>>10),e|n|r&65535}class $ extends J{}function Q(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const fS=(t,e,n)=>{t[e]=Math.trunc(n/864e5)},Yf=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},hS=(t,e,n)=>{t[e]=Math.trunc(n*1e3%4294967296),t[e+1]=Math.trunc(n*1e3/4294967296)},pS=(t,e,n)=>{t[e]=Math.trunc(n*1e6%4294967296),t[e+1]=Math.trunc(n*1e6/4294967296)},cv=(t,e,n,r)=>{if(n+1<e.length){const{[n]:i,[n+1]:s}=e;t.set(r.subarray(0,s-i),i)}},yS=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Jn=({values:t},e,n)=>{t[e]=n},Hf=({values:t},e,n)=>{t[e]=n},dv=({values:t},e,n)=>{t[e]=dS(n)},mS=(t,e,n)=>{switch(t.type.precision){case mt.HALF:return dv(t,e,n);case mt.SINGLE:case mt.DOUBLE:return Hf(t,e,n)}},fv=({values:t},e,n)=>{fS(t,e,n.valueOf())},hv=({values:t},e,n)=>{Yf(t,e*2,n.valueOf())},gS=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},vS=({values:t,valueOffsets:e},n,r)=>cv(t,e,n,r),_S=({values:t,valueOffsets:e},n,r)=>{cv(t,e,n,$f(r))},wS=(t,e,n)=>{t.type.unit===Hn.DAY?fv(t,e,n):hv(t,e,n)},pv=({values:t},e,n)=>Yf(t,e*2,n/1e3),yv=({values:t},e,n)=>Yf(t,e*2,n),mv=({values:t},e,n)=>hS(t,e*2,n),gv=({values:t},e,n)=>pS(t,e*2,n),SS=(t,e,n)=>{switch(t.type.unit){case te.SECOND:return pv(t,e,n);case te.MILLISECOND:return yv(t,e,n);case te.MICROSECOND:return mv(t,e,n);case te.NANOSECOND:return gv(t,e,n)}},vv=({values:t},e,n)=>{t[e]=n},_v=({values:t},e,n)=>{t[e]=n},wv=({values:t},e,n)=>{t[e]=n},Sv=({values:t},e,n)=>{t[e]=n},bS=(t,e,n)=>{switch(t.type.unit){case te.SECOND:return vv(t,e,n);case te.MILLISECOND:return _v(t,e,n);case te.MICROSECOND:return wv(t,e,n);case te.NANOSECOND:return Sv(t,e,n)}},IS=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},ES=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Wt.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},kS=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Wt.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},TS=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),NS=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),RS=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),OS=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),FS=(t,e,n)=>{const r=t.type.children.map(s=>Wt.getVisitFn(s.type)),i=n instanceof Map?RS(e,n):n instanceof ie?NS(e,n):Array.isArray(n)?TS(e,n):OS(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},AS=(t,e,n)=>{t.type.mode===Ot.Dense?bv(t,e,n):Iv(t,e,n)},bv=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Wt.visit(i,t.valueOffsets[e],n)},Iv=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Wt.visit(i,e,n)},BS=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},DS=(t,e,n)=>{t.type.unit===Ir.DAY_TIME?Ev(t,e,n):kv(t,e,n)},Ev=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},kv=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},xS=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Wt.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};$.prototype.visitBool=Q(yS);$.prototype.visitInt=Q(Jn);$.prototype.visitInt8=Q(Jn);$.prototype.visitInt16=Q(Jn);$.prototype.visitInt32=Q(Jn);$.prototype.visitInt64=Q(Jn);$.prototype.visitUint8=Q(Jn);$.prototype.visitUint16=Q(Jn);$.prototype.visitUint32=Q(Jn);$.prototype.visitUint64=Q(Jn);$.prototype.visitFloat=Q(mS);$.prototype.visitFloat16=Q(dv);$.prototype.visitFloat32=Q(Hf);$.prototype.visitFloat64=Q(Hf);$.prototype.visitUtf8=Q(_S);$.prototype.visitBinary=Q(vS);$.prototype.visitFixedSizeBinary=Q(gS);$.prototype.visitDate=Q(wS);$.prototype.visitDateDay=Q(fv);$.prototype.visitDateMillisecond=Q(hv);$.prototype.visitTimestamp=Q(SS);$.prototype.visitTimestampSecond=Q(pv);$.prototype.visitTimestampMillisecond=Q(yv);$.prototype.visitTimestampMicrosecond=Q(mv);$.prototype.visitTimestampNanosecond=Q(gv);$.prototype.visitTime=Q(bS);$.prototype.visitTimeSecond=Q(vv);$.prototype.visitTimeMillisecond=Q(_v);$.prototype.visitTimeMicrosecond=Q(wv);$.prototype.visitTimeNanosecond=Q(Sv);$.prototype.visitDecimal=Q(IS);$.prototype.visitList=Q(ES);$.prototype.visitStruct=Q(FS);$.prototype.visitUnion=Q(AS);$.prototype.visitDenseUnion=Q(bv);$.prototype.visitSparseUnion=Q(Iv);$.prototype.visitDictionary=Q(BS);$.prototype.visitInterval=Q(DS);$.prototype.visitIntervalDayTime=Q(Ev);$.prototype.visitIntervalYearMonth=Q(kv);$.prototype.visitFixedSizeList=Q(xS);$.prototype.visitMap=Q(kS);const Wt=new $,qt=Symbol.for("parent"),Yi=Symbol.for("rowIndex");class qf{constructor(e,n){return this[qt]=e,this[Yi]=n,new Proxy(this,new LS)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Yi],n=this[qt],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=vt.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${vo(e)}: ${vo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new CS(this[qt],this[Yi])}}class CS{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,vt.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(qf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[qt]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class LS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[qt].type.children.map(n=>n.name)}has(e,n){return e[qt].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[qt].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[qt].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=vt.visit(e[qt].children[r],e[Yi]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[qt].type.children.findIndex(s=>s.name===n);return i!==-1?(Wt.visit(e[qt].children[i],e[Yi],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class P extends J{}function V(t){return(e,n)=>e.getValid(n)?t(e,n):null}const MS=(t,e)=>864e5*t[e],Gf=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),PS=(t,e)=>4294967296*(t[e+1]/1e3)+(t[e]>>>0)/1e3,US=(t,e)=>4294967296*(t[e+1]/1e6)+(t[e]>>>0)/1e6,Tv=t=>new Date(t),jS=(t,e)=>Tv(MS(t,e)),zS=(t,e)=>Tv(Gf(t,e)),$S=(t,e)=>null,Nv=(t,e,n)=>{if(n+1>=e.length)return null;const r=e[n],i=e[n+1];return t.subarray(r,i)},VS=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},Rv=({values:t},e)=>jS(t,e),Ov=({values:t},e)=>zS(t,e*2),xr=({stride:t,values:e},n)=>e[t*n],KS=({stride:t,values:e},n)=>uv(e[t*n]),Fv=({values:t},e)=>t[e],WS=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),QS=({values:t,valueOffsets:e},n)=>Nv(t,e,n),YS=({values:t,valueOffsets:e},n)=>{const r=Nv(t,e,n);return r!==null?ud(r):null},HS=({values:t},e)=>t[e],qS=({type:t,values:e},n)=>t.precision!==mt.HALF?e[n]:uv(e[n]),GS=(t,e)=>t.type.unit===Hn.DAY?Rv(t,e):Ov(t,e),Av=({values:t},e)=>1e3*Gf(t,e*2),Bv=({values:t},e)=>Gf(t,e*2),Dv=({values:t},e)=>PS(t,e*2),xv=({values:t},e)=>US(t,e*2),JS=(t,e)=>{switch(t.type.unit){case te.SECOND:return Av(t,e);case te.MILLISECOND:return Bv(t,e);case te.MICROSECOND:return Dv(t,e);case te.NANOSECOND:return xv(t,e)}},Cv=({values:t},e)=>t[e],Lv=({values:t},e)=>t[e],Mv=({values:t},e)=>t[e],Pv=({values:t},e)=>t[e],XS=(t,e)=>{switch(t.type.unit){case te.SECOND:return Cv(t,e);case te.MILLISECOND:return Lv(t,e);case te.MICROSECOND:return Mv(t,e);case te.NANOSECOND:return Pv(t,e)}},ZS=({values:t,stride:e},n)=>Qf.decimal(t.subarray(e*n,e*(n+1))),eb=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new ie([l])},tb=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new Jf(o.slice(i,s-i))},nb=(t,e)=>new qf(t,e),rb=(t,e)=>t.type.mode===Ot.Dense?Uv(t,e):jv(t,e),Uv=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return vt.visit(r,t.valueOffsets[e])},jv=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return vt.visit(r,e)},ib=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},sb=(t,e)=>t.type.unit===Ir.DAY_TIME?zv(t,e):$v(t,e),zv=({values:t},e)=>t.subarray(2*e,2*(e+1)),$v=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},ob=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new ie([s])};P.prototype.visitNull=V($S);P.prototype.visitBool=V(VS);P.prototype.visitInt=V(HS);P.prototype.visitInt8=V(xr);P.prototype.visitInt16=V(xr);P.prototype.visitInt32=V(xr);P.prototype.visitInt64=V(Fv);P.prototype.visitUint8=V(xr);P.prototype.visitUint16=V(xr);P.prototype.visitUint32=V(xr);P.prototype.visitUint64=V(Fv);P.prototype.visitFloat=V(qS);P.prototype.visitFloat16=V(KS);P.prototype.visitFloat32=V(xr);P.prototype.visitFloat64=V(xr);P.prototype.visitUtf8=V(YS);P.prototype.visitBinary=V(QS);P.prototype.visitFixedSizeBinary=V(WS);P.prototype.visitDate=V(GS);P.prototype.visitDateDay=V(Rv);P.prototype.visitDateMillisecond=V(Ov);P.prototype.visitTimestamp=V(JS);P.prototype.visitTimestampSecond=V(Av);P.prototype.visitTimestampMillisecond=V(Bv);P.prototype.visitTimestampMicrosecond=V(Dv);P.prototype.visitTimestampNanosecond=V(xv);P.prototype.visitTime=V(XS);P.prototype.visitTimeSecond=V(Cv);P.prototype.visitTimeMillisecond=V(Lv);P.prototype.visitTimeMicrosecond=V(Mv);P.prototype.visitTimeNanosecond=V(Pv);P.prototype.visitDecimal=V(ZS);P.prototype.visitList=V(eb);P.prototype.visitStruct=V(nb);P.prototype.visitUnion=V(rb);P.prototype.visitDenseUnion=V(Uv);P.prototype.visitSparseUnion=V(jv);P.prototype.visitDictionary=V(ib);P.prototype.visitInterval=V(sb);P.prototype.visitIntervalDayTime=V(zv);P.prototype.visitIntervalYearMonth=V($v);P.prototype.visitFixedSizeList=V(ob);P.prototype.visitMap=V(tb);const vt=new P,hn=Symbol.for("keys"),Hi=Symbol.for("vals");class Jf{constructor(e){return this[hn]=new ie([e.children[0]]).memoize(),this[Hi]=e.children[1],new Proxy(this,new lb)}[Symbol.iterator](){return new ab(this[hn],this[Hi])}get size(){return this[hn].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[hn],n=this[Hi],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=vt.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${vo(e)}: ${vo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ab{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),vt.visit(this.vals,e)]})}}class lb{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[hn].toArray().map(String)}has(e,n){return e[hn].includes(n)}getOwnPropertyDescriptor(e,n){if(e[hn].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[hn].indexOf(n);if(r!==-1){const i=vt.visit(Reflect.get(e,Hi),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[hn].indexOf(n);return i!==-1?(Wt.visit(Reflect.get(e,Hi),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(Jf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[hn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Hi]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Kp;function Vv(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Kp=s,s=o,o=Kp),o>i&&(o=i),r?r(t,s,o):[s,o]}const Wp=t=>t!==t;function _s(t){if(typeof t!=="object"||t===null)return Wp(t)?Wp:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?eS(t,n):!1:t instanceof Map?cb(t):Array.isArray(t)?ub(t):t instanceof ie?db(t):fb(t,!0)}function ub(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=_s(t[n]);return _u(e)}function cb(t){let e=-1;const n=[];for(const r of t.values())n[++e]=_s(r);return _u(n)}function db(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=_s(t.get(n));return _u(e)}function fb(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=_s(t[n[i]]);return _u(r,n)}function _u(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return hb(t,n);case Map:return Qp(t,n,n.keys());case Jf:case qf:case Object:case void 0:return Qp(t,n,e||Object.keys(n))}return n instanceof ie?pb(t,n):!1}}function hb(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function pb(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function Qp(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!t[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Kv(t,e,n,r){return(n&1<<r)!==0}function yb(t,e,n,r){return(n&1<<r)>>r}function Xf(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):Al(new Zf(n,t,e,null,Kv)).subarray(0,r)),i}return n}function Al(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Zf{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function fd(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new Zf(t,e,n-e,t,yb))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return fd(t,e,i)+fd(t,r,n)+mb(t,i>>3,r-i>>3)}function mb(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=Zu(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=Zu(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=Zu(s.getUint8(i)),i+=1;return r}function Zu(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const gb=-1;class de{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,n;return e<=gb&&(n=this.nullBitmap)&&(this._nullCount=e=this.length-fd(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof de?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=An(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}getValid(e){if(this.nullable&&this.nullCount>0){const n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new de(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===g.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Xf(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Fn.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[Fn.TYPE])&&(o[Fn.TYPE]=s.subarray(e,e+n)),(s=o[Fn.OFFSET])&&(o[Fn.OFFSET]=s.subarray(e,e+n+1))||(s=o[Fn.DATA])&&(o[Fn.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}de.prototype.children=Object.freeze([]);class Hs extends J{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new de(n,r,i,0)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Fs(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Fs(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=ee(e.nullBitmap),o=Fs(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=ee(e.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=ee(e.nullBitmap),o=le(n.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(M.isSparseUnion(n))return new de(n,r,a,l,[void 0,void 0,s,o],i);const u=Fs(e.valueOffsets);return new de(n,r,a,l,[u,void 0,s,o],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.indices.ArrayType,e.data),{["dictionary"]:o=new ie([new Hs().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=le(n.ArrayType,e.data),{["length"]:o=s.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Hs().visit({type:n.valueType})}=e,s=ee(e.nullBitmap),{["length"]:o=i.length/An(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Hs().visit({type:n.childType})}=e,s=ee(e.nullBitmap),o=Fs(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,void 0,s],[i])}}function G(t){return new Hs().visit(t)}class Yp{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Wv(t){return t.reduce((e,n)=>e+n.nullCount,0)}function Qv(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function Yv(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),f=Math.min(r-l,u);i.push(a.slice(c,f-c))}return i.length===0&&i.push(t[0].slice(0,0)),i}function eh(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function th(t,e){return t.getValid(e)}function qi(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return eh(r,this._offsets,n,e)}}function Hv(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=eh(s,this._offsets,r,n);return e=void 0,o}}function qv(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const f=r[u];if(~(a=t(f,e,o)))return l+a;o=0,l+=f.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):eh(s,this._offsets,i,n);return e=void 0,o}}class U extends J{}function vb(t,e){return e===null&&t.length>0?0:-1}function _b(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new Zf(n,t.offset+(e||0),t.length,n,Kv)){if(!i)return r;++r}return-1}function H(t,e,n){if(e===void 0)return-1;if(e===null)return _b(t,n);const r=vt.getVisitFn(t),i=_s(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function Gv(t,e,n){const r=vt.getVisitFn(t),i=_s(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}U.prototype.visitNull=vb;U.prototype.visitBool=H;U.prototype.visitInt=H;U.prototype.visitInt8=H;U.prototype.visitInt16=H;U.prototype.visitInt32=H;U.prototype.visitInt64=H;U.prototype.visitUint8=H;U.prototype.visitUint16=H;U.prototype.visitUint32=H;U.prototype.visitUint64=H;U.prototype.visitFloat=H;U.prototype.visitFloat16=H;U.prototype.visitFloat32=H;U.prototype.visitFloat64=H;U.prototype.visitUtf8=H;U.prototype.visitBinary=H;U.prototype.visitFixedSizeBinary=H;U.prototype.visitDate=H;U.prototype.visitDateDay=H;U.prototype.visitDateMillisecond=H;U.prototype.visitTimestamp=H;U.prototype.visitTimestampSecond=H;U.prototype.visitTimestampMillisecond=H;U.prototype.visitTimestampMicrosecond=H;U.prototype.visitTimestampNanosecond=H;U.prototype.visitTime=H;U.prototype.visitTimeSecond=H;U.prototype.visitTimeMillisecond=H;U.prototype.visitTimeMicrosecond=H;U.prototype.visitTimeNanosecond=H;U.prototype.visitDecimal=H;U.prototype.visitList=H;U.prototype.visitStruct=H;U.prototype.visitUnion=H;U.prototype.visitDenseUnion=Gv;U.prototype.visitSparseUnion=Gv;U.prototype.visitDictionary=H;U.prototype.visitInterval=H;U.prototype.visitIntervalDayTime=H;U.prototype.visitIntervalYearMonth=H;U.prototype.visitFixedSizeList=H;U.prototype.visitMap=H;const Bl=new U;class j extends J{}function K(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(e.typeId===g.Timestamp||e instanceof kr&&e.bitWidth!==64||e instanceof Io&&e.bitWidth!==64||e instanceof bo&&e.precision!==mt.HALF))return new Yp(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Yp(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new wb(o)})}class wb{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}j.prototype.visitNull=K;j.prototype.visitBool=K;j.prototype.visitInt=K;j.prototype.visitInt8=K;j.prototype.visitInt16=K;j.prototype.visitInt32=K;j.prototype.visitInt64=K;j.prototype.visitUint8=K;j.prototype.visitUint16=K;j.prototype.visitUint32=K;j.prototype.visitUint64=K;j.prototype.visitFloat=K;j.prototype.visitFloat16=K;j.prototype.visitFloat32=K;j.prototype.visitFloat64=K;j.prototype.visitUtf8=K;j.prototype.visitBinary=K;j.prototype.visitFixedSizeBinary=K;j.prototype.visitDate=K;j.prototype.visitDateDay=K;j.prototype.visitDateMillisecond=K;j.prototype.visitTimestamp=K;j.prototype.visitTimestampSecond=K;j.prototype.visitTimestampMillisecond=K;j.prototype.visitTimestampMicrosecond=K;j.prototype.visitTimestampNanosecond=K;j.prototype.visitTime=K;j.prototype.visitTimeSecond=K;j.prototype.visitTimeMillisecond=K;j.prototype.visitTimeMicrosecond=K;j.prototype.visitTimeNanosecond=K;j.prototype.visitDecimal=K;j.prototype.visitList=K;j.prototype.visitStruct=K;j.prototype.visitUnion=K;j.prototype.visitDenseUnion=K;j.prototype.visitSparseUnion=K;j.prototype.visitDictionary=K;j.prototype.visitInterval=K;j.prototype.visitIntervalDayTime=K;j.prototype.visitIntervalYearMonth=K;j.prototype.visitFixedSizeList=K;j.prototype.visitMap=K;const nh=new j,Sb=(t,e)=>t+e;class Cr extends J{visitNull(e,n){return 0}visitInt(e,n){return e.type.bitWidth/8}visitFloat(e,n){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,n){return 1/8}visitDecimal(e,n){return e.type.bitWidth/8}visitDate(e,n){return(e.type.unit+1)*4}visitTime(e,n){return e.type.bitWidth/8}visitTimestamp(e,n){return e.type.unit===te.SECOND?4:8}visitInterval(e,n){return(e.type.unit+1)*4}visitStruct(e,n){return e.children.reduce((r,i)=>r+En.visit(i,n),0)}visitFixedSizeBinary(e,n){return e.type.byteWidth}visitMap(e,n){return 8+e.children.reduce((r,i)=>r+En.visit(i,n),0)}visitDictionary(e,n){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[n]))||0)}}const bb=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),Ib=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),Eb=({valueOffsets:t,stride:e,children:n},r)=>{const i=n[0],{[r*e]:s}=t,{[r*e+1]:o}=t,a=En.getVisitFn(i.type),l=i.slice(s,o-s);let u=8;for(let c=-1,f=o-s;++c<f;)u+=a(l,c);return u},kb=({stride:t,children:e},n)=>{const r=e[0],i=r.slice(n*t,t),s=En.getVisitFn(r.type);let o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},Tb=(t,e)=>t.type.mode===Ot.Dense?Jv(t,e):Xv(t,e),Jv=({type:t,children:e,typeIds:n,valueOffsets:r},i)=>{const s=t.typeIdToChildIndex[n[i]];return 8+En.visit(e[s],r[i])},Xv=({children:t},e)=>4+En.visitMany(t,t.map(()=>e)).reduce(Sb,0);Cr.prototype.visitUtf8=bb;Cr.prototype.visitBinary=Ib;Cr.prototype.visitList=Eb;Cr.prototype.visitFixedSizeList=kb;Cr.prototype.visitUnion=Tb;Cr.prototype.visitDenseUnion=Jv;Cr.prototype.visitSparseUnion=Xv;const En=new Cr;var Zv;const e0={},t0={};class ie{constructor(e){var n,r,i;const s=e[0]instanceof ie?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof de)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:c}=e0[o.typeId],f=s[0];this.isValid=d=>th(f,d),this.get=d=>a(f,d),this.set=(d,m)=>l(f,d,m),this.indexOf=d=>u(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,t0[o.typeId]),this._offsets=Qv(s);break}this.data=s,this.type=o,this.stride=An(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,n)=>e+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Wv(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${g[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>0}getByteLength(e){return 0}[Symbol.iterator](){return nh.visit(this)}concat(...e){return new ie(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new ie(Vv(this,e,n,({data:r,_offsets:i},s,o)=>Yv(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case g.Int:case g.Float:case g.Decimal:case g.Time:case g.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new ie(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return M.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(M.isDictionary(this.type)){const e=new Dl(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new ie(n)}return new Dl(this)}unmemoize(){if(M.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new ie(n)}return this}}Zv=Symbol.toStringTag;ie[Zv]=(t=>{t.type=M.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(g).map(n=>g[n]).filter(n=>typeof n=="number"&&n!==g.NONE);for(const n of e){const r=vt.getVisitFnByTypeId(n),i=Wt.getVisitFnByTypeId(n),s=Bl.getVisitFnByTypeId(n),o=En.getVisitFnByTypeId(n);e0[n]={get:r,set:i,indexOf:s,byteLength:o},t0[n]=Object.create(t,{isValid:{value:qi(th)},get:{value:qi(vt.getVisitFnByTypeId(n))},set:{value:Hv(Wt.getVisitFnByTypeId(n))},indexOf:{value:qv(Bl.getVisitFnByTypeId(n))},getByteLength:{value:qi(En.getVisitFnByTypeId(n))}})}return"Vector"})(ie.prototype);class Dl extends ie{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Dl(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new ie(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class hd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n??0)),e.offset()}}const ec=2,pn=4,Cn=4,ce=4,sr=new Int32Array(2),Hp=new Float32Array(sr.buffer),qp=new Float64Array(sr.buffer),ha=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var pd;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(pd||(pd={}));let ls=class n0{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new n0(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return sr[0]=this.readInt32(e),Hp[0]}readFloat64(e){return sr[ha?0:1]=this.readInt32(e),sr[ha?1:0]=this.readInt32(e+4),qp[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){Hp[0]=n,this.writeInt32(e,sr[0])}writeFloat64(e,n){qp[0]=n,this.writeInt32(e,sr[ha?0:1]),this.writeInt32(e+4,sr[ha?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+pn+Cn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<Cn;n++)e+=String.fromCharCode(this.readInt8(this.position_+pn+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=pn;const i=this.bytes_.subarray(e,e+r);return n===pd.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+pn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Cn)throw new Error("FlatBuffers: file identifier must be length "+Cn);for(let n=0;n<Cn;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+pn+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},r0=class i0{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=ls.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=i0.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=ls.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(pn,0),this.writeInt32(this.offset()-e+pn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*ec;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=ec;u<s;u+=ec)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?ce:0;if(n){const s=n;if(this.prep(this.minalign,pn+Cn+i),s.length!=Cn)throw new TypeError("FlatBuffers: file identifier must be length "+Cn);for(let o=Cn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,pn+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(pn,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};class Ce{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Ce).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+ce),(n||new Ce).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Ce.startKeyValue(e),Ce.addKey(e,n),Ce.addValue(e,r),Ce.endKeyValue(e)}}var us;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(us||(us={}));var cs;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(cs||(cs={}));var xl;(function(t){t[t.DenseArray=0]="DenseArray"})(xl||(xl={}));class It{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new It).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+ce),(n||new It).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return It.startInt(e),It.addBitWidth(e,n),It.addIsSigned(e,r),It.endInt(e)}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new Ln).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+ce),(n||new Ln).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new It).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):xl.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,xl.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Qr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new Qr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+ce),(n||new Qr).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Qr.startBinary(e),Qr.endBinary(e)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new Yr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+ce),(n||new Yr).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Yr.startBool(e),Yr.endBool(e)}}var Cl;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Cl||(Cl={}));let Ca=class bi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new bi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+ce),(n||new bi).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Cl.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Cl.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return bi.startDate(e),bi.addUnit(e,n),bi.endDate(e)}};class lt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new lt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+ce),(n||new lt).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return lt.startDecimal(e),lt.addPrecision(e,n),lt.addScale(e,r),lt.addBitWidth(e,i),lt.endDecimal(e)}}var ds;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(ds||(ds={}));class yn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+ce),(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return yn.startFixedSizeBinary(e),yn.addByteWidth(e,n),yn.endFixedSizeBinary(e)}}class mn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new mn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+ce),(n||new mn).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return mn.startFixedSizeList(e),mn.addListSize(e,n),mn.endFixedSizeList(e)}}var Ll;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Ll||(Ll={}));class gn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new gn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+ce),(n||new gn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ll.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Ll.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return gn.startFloatingPoint(e),gn.addPrecision(e,n),gn.endFloatingPoint(e)}}var Ml;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ml||(Ml={}));class vn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new vn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+ce),(n||new vn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ml.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Ml.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return vn.startInterval(e),vn.addUnit(e,n),vn.endInterval(e)}}class Hr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new Hr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+ce),(n||new Hr).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Hr.startList(e),Hr.endList(e)}}let La=class Ii{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Ii).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+ce),(n||new Ii).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Ii.startMap(e),Ii.addKeysSorted(e,n),Ii.endMap(e)}};class qr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new qr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+ce),(n||new qr).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return qr.startNull(e),qr.endNull(e)}}class Gr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new Gr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+ce),(n||new Gr).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Gr.startStruct_(e),Gr.endStruct_(e)}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+ce),(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ds.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,ds.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return Pt.startTime(e),Pt.addUnit(e,n),Pt.addBitWidth(e,r),Pt.endTime(e)}}class Ut{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new Ut).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+ce),(n||new Ut).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ds.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,ds.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return Ut.startTimestamp(e),Ut.addUnit(e,n),Ut.addTimezone(e,r),Ut.endTimestamp(e)}}var Pl;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Pl||(Pl={}));class ct{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new ct).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+ce),(n||new ct).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Pl.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Pl.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return ct.startUnion(e),ct.addMode(e,n),ct.addTypeIds(e,r),ct.endUnion(e)}}class Jr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new Jr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+ce),(n||new Jr).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Jr.startUtf8(e),Jr.endUtf8(e)}}var Se;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(Se||(Se={}));let xt=class Ma{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Ma).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+ce),(n||new Ma).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Se.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Ln).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Ma).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,Se.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},un=class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new Rn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+ce),(n||new Rn).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):cs.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new xt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,cs.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return Rn.startSchema(e),Rn.addEndianness(e,n),Rn.addFields(e,r),Rn.addCustomMetadata(e,i),Rn.addFeatures(e,s),Rn.endSchema(e)}};class St{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new St).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+ce),(n||new St).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):us.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new un).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new hd).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new hd).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,us.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class se{constructor(e=[],n,r){this.fields=e||[],this.metadata=n||new Map,r||(r=yd(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new se(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new se(n,this.metadata)}assign(...e){const n=e[0]instanceof se?e[0]:Array.isArray(e[0])?new se(e[0]):new se(e),r=[...this.fields],i=pa(pa(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:pa(pa(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=yd(s,new Map);return new se([...r,...s],i,new Map([...this.dictionaries,...o]))}}se.prototype.fields=null;se.prototype.metadata=null;se.prototype.dictionaries=null;class ge{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new ge(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],ge.new(n,r,i,s)}}ge.prototype.type=null;ge.prototype.name=null;ge.prototype.nullable=null;ge.prototype.metadata=null;function pa(t,e){return new Map([...t||new Map,...e||new Map])}function yd(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(M.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&yd(s.children,e)}return e}var Nb=r0,Rb=ls;class Eo{static decode(e){e=new Rb(ee(e));const n=St.getRootAsFooter(e),r=se.decode(n.schema());return new Ob(r,n)}static encode(e){const n=new Nb,r=se.encode(n,e.schema);St.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())Tr.encode(n,o);const i=n.endVector();St.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())Tr.encode(n,o);const s=n.endVector();return St.startFooter(n),St.addSchema(n,r),St.addVersion(n,kt.V4),St.addRecordBatches(n,i),St.addDictionaries(n,s),St.finishFooterBuffer(n,St.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=kt.V4,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Ob extends Eo{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return Tr.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return Tr.decode(n)}return null}}class Tr{static decode(e){return new Tr(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return hd.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=nn(r),this.bodyLength=nn(n)}}const Ie=Object.freeze({done:!0,value:void 0});class Gp{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class rh{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Fb extends rh{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return L(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Ie);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Ct.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Ct.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return L(this,void 0,void 0,function*(){return yield this.abort(e),Ie})}return(e){return L(this,void 0,void 0,function*(){return yield this.close(),Ie})}read(e){return L(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return L(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Ie)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Pa extends Fb{write(e){if((e=ee(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?ud(this.toUint8Array(!0)):this.toUint8Array(!1).then(ud)}toUint8Array(e=!1){return e?In(this._values)[0]:(()=>L(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=ti(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return In(o,a)[0]}))()}}class Ul{constructor(e){e&&(this.source=new Ab(Ct.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class fs{constructor(e){e instanceof fs?this.source=e.source:e instanceof Pa?this.source=new Ur(Ct.fromAsyncIterable(e)):jg(e)?this.source=new Ur(Ct.fromNodeStream(e)):Vf(e)?this.source=new Ur(Ct.fromDOMStream(e)):Ug(e)?this.source=new Ur(Ct.fromDOMStream(e.body)):Po(e)?this.source=new Ur(Ct.fromIterable(e)):ui(e)?this.source=new Ur(Ct.fromAsyncIterable(e)):vs(e)&&(this.source=new Ur(Ct.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Ab{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Ie)}return(e){return Object.create(this.source.return&&this.source.return(e)||Ie)}}class Ur{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return L(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return L(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return L(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,n="read"){return L(this,void 0,void 0,function*(){return yield this.source.next({cmd:n,size:e})})}throw(e){return L(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||Ie;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return L(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||Ie;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class Jp extends Ul{constructor(e,n){super(),this.position=0,this.buffer=ee(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class jl extends fs{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=(()=>L(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return L(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return L(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return L(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(e,n){return L(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return L(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return L(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return L(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const Bb=65536;function Pi(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const hs=8,ih=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class s0{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?Bb:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Pi(this.buffer[1])} ${Pi(this.buffer[0])}`}}class oe extends s0{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return oe.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return oe.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new oe(n);for(let s=0;s<r;){const o=hs<r-s?hs:r-s,a=new oe(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new oe(new Uint32Array([ih[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)oe.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new oe(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new oe(new Uint32Array(e.buffer)).plus(n)}}class at extends s0{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return at.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return at.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new at(n);for(let o=r?1:0;o<i;){const a=hs<i-o?hs:i-o,l=new at(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),u=new at(new Uint32Array([ih[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)at.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new at(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new at(new Uint32Array(e.buffer)).plus(n)}}class cn{constructor(e){this.buffer=e}high(){return new at(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new at(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new oe(new Uint32Array([this.buffer[3],0])),r=new oe(new Uint32Array([this.buffer[2],0])),i=new oe(new Uint32Array([this.buffer[1],0])),s=new oe(new Uint32Array([this.buffer[0],0])),o=new oe(new Uint32Array([e.buffer[3],0])),a=new oe(new Uint32Array([e.buffer[2],0])),l=new oe(new Uint32Array([e.buffer[1],0])),u=new oe(new Uint32Array([e.buffer[0],0]));let c=oe.multiply(s,u);this.buffer[0]=c.low();const f=new oe(new Uint32Array([c.high(),0]));return c=oe.multiply(i,u),f.plus(c),c=oe.multiply(s,l),f.plus(c),this.buffer[1]=f.low(),this.buffer[3]=f.lessThan(c)?1:0,this.buffer[2]=f.high(),new oe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(oe.multiply(r,u)).plus(oe.multiply(i,l)).plus(oe.multiply(s,a)),this.buffer[3]+=oe.multiply(n,u).plus(oe.multiply(r,l)).plus(oe.multiply(i,a)).plus(oe.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Pi(this.buffer[3])} ${Pi(this.buffer[2])} ${Pi(this.buffer[1])} ${Pi(this.buffer[0])}`}static multiply(e,n){return new cn(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new cn(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return cn.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return cn.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new cn(n);for(let o=r?1:0;o<i;){const a=hs<i-o?hs:i-o,l=new cn(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),u=new cn(new Uint32Array([ih[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)cn.from(e[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class o0 extends J{constructor(e,n,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof ge?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return G({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===Ot.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return G({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Db extends o0{constructor(e,n,r,i){super(new Uint8Array(0),n,r,i),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):Al(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return le(Uint8Array,le(Int32Array,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return le(Uint8Array,le(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return M.isTimestamp(e)||(M.isInt(e)||M.isTime(e))&&e.bitWidth===64||M.isDate(e)&&e.unit===Hn.MILLISECOND?le(Uint8Array,at.convertArray(r[n])):M.isDecimal(e)?le(Uint8Array,cn.convertArray(r[n])):M.isBinary(e)||M.isFixedSizeBinary(e)?xb(r[n]):M.isBool(e)?Al(r[n]):M.isUtf8(e)?$f(r[n].join("")):le(Uint8Array,le(e.ArrayType,r[n].map(i=>+i)))}}function xb(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class z extends J{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function _t(t,e){return e instanceof t.constructor}function Uo(t,e){return t===e||_t(t,e)}function Xn(t,e){return t===e||_t(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function wu(t,e){return t===e||_t(t,e)&&t.precision===e.precision}function Cb(t,e){return t===e||_t(t,e)&&t.byteWidth===e.byteWidth}function sh(t,e){return t===e||_t(t,e)&&t.unit===e.unit}function jo(t,e){return t===e||_t(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function zo(t,e){return t===e||_t(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Lb(t,e){return t===e||_t(t,e)&&t.children.length===e.children.length&&Nr.compareManyFields(t.children,e.children)}function Mb(t,e){return t===e||_t(t,e)&&t.children.length===e.children.length&&Nr.compareManyFields(t.children,e.children)}function oh(t,e){return t===e||_t(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&Nr.compareManyFields(t.children,e.children)}function Pb(t,e){return t===e||_t(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Nr.visit(t.indices,e.indices)&&Nr.visit(t.dictionary,e.dictionary)}function ah(t,e){return t===e||_t(t,e)&&t.unit===e.unit}function Ub(t,e){return t===e||_t(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Nr.compareManyFields(t.children,e.children)}function jb(t,e){return t===e||_t(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Nr.compareManyFields(t.children,e.children)}z.prototype.visitNull=Uo;z.prototype.visitBool=Uo;z.prototype.visitInt=Xn;z.prototype.visitInt8=Xn;z.prototype.visitInt16=Xn;z.prototype.visitInt32=Xn;z.prototype.visitInt64=Xn;z.prototype.visitUint8=Xn;z.prototype.visitUint16=Xn;z.prototype.visitUint32=Xn;z.prototype.visitUint64=Xn;z.prototype.visitFloat=wu;z.prototype.visitFloat16=wu;z.prototype.visitFloat32=wu;z.prototype.visitFloat64=wu;z.prototype.visitUtf8=Uo;z.prototype.visitBinary=Uo;z.prototype.visitFixedSizeBinary=Cb;z.prototype.visitDate=sh;z.prototype.visitDateDay=sh;z.prototype.visitDateMillisecond=sh;z.prototype.visitTimestamp=jo;z.prototype.visitTimestampSecond=jo;z.prototype.visitTimestampMillisecond=jo;z.prototype.visitTimestampMicrosecond=jo;z.prototype.visitTimestampNanosecond=jo;z.prototype.visitTime=zo;z.prototype.visitTimeSecond=zo;z.prototype.visitTimeMillisecond=zo;z.prototype.visitTimeMicrosecond=zo;z.prototype.visitTimeNanosecond=zo;z.prototype.visitDecimal=Uo;z.prototype.visitList=Lb;z.prototype.visitStruct=Mb;z.prototype.visitUnion=oh;z.prototype.visitDenseUnion=oh;z.prototype.visitSparseUnion=oh;z.prototype.visitDictionary=Pb;z.prototype.visitInterval=ah;z.prototype.visitIntervalDayTime=ah;z.prototype.visitIntervalYearMonth=ah;z.prototype.visitFixedSizeList=Ub;z.prototype.visitMap=jb;const Nr=new z;function md(t,e){return Nr.compareSchemas(t,e)}function tc(t,e){return zb(t,e.map(n=>n.data.concat()))}function zb(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=$b(n,o,c,e,i),o>0&&(r[s++]=G({type:new et(n),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(n),r.map(f=>new dt(t,f))]}function $b(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=e)c===e?n[a]=u:(n[a]=u.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(e,c-e))));else{const f=t[a];t[a]=f.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:G({type:f.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var a0;class Ze{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new se([]),this._offsets=[0],this;let i,s;e[0]instanceof se&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof dt)return[l];if(l instanceof Ze)return l.batches;if(l instanceof de){if(l.type instanceof et)return[new dt(new se(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(m=>new ie([l[m]])),f=new se(u.map((m,_)=>new ge(String(m),c[_].type))),[,d]=tc(f,c);return d.length===0?[new dt(l)]:d}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new se([]),!(i instanceof se))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof dt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!md(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Qv(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Wv(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?nh.visit(new ie(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Ze(n,r.map(i=>new dt(n,i)))}slice(e,n){const r=this.schema;[e,n]=Vv({length:this.numRows},e,n);const i=Yv(this.data,this._offsets,e,n);return new Ze(r,i.map(s=>new dt(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=G({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new ie(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new ie([G({type:new Er,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[e],a[e]]=[o,n],[r,i]=tc(r,a)}return new Ze(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Ze(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,u)=>{const[c,f]=a,d=n.findIndex(m=>m.name===l.name);return~d?f[d]=u:c.push(u),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Ze(...tc(s,o))}}a0=Symbol.toStringTag;Ze[a0]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=qi(th),t.get=qi(vt.getVisitFn(g.Struct)),t.set=Hv(Wt.getVisitFn(g.Struct)),t.indexOf=qv(Bl.getVisitFn(g.Struct)),t.getByteLength=qi(En.getVisitFn(g.Struct)),"Table"))(Ze.prototype);var l0;let dt=class Ls{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof se))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=G({nullCount:0,type:new et(this.schema.fields),children:this.schema.fields.map(n=>G({type:n.type,nullCount:0}))})]=e,!(this.data instanceof de))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Xp(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=ge.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new se(r),a=G({type:new et(r),length:s,children:i,nullCount:0});[this.schema,this.data]=Xp(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=u0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return vt.visit(this.data,e)}set(e,n){return Wt.visit(this.data,e,n)}indexOf(e,n){return Bl.visit(this.data,e,n)}getByteLength(e){return En.visit(this.data,e)}[Symbol.iterator](){return nh.visit(new ie([this.data]))}toArray(){return[...this]}concat(...e){return new Ze(this.schema,[this,...e])}slice(e,n){const[r]=new ie([this.data]).slice(e,n).data;return new Ls(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new ie([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new ie([G({type:new Er,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new se(s,new Map(this.schema.metadata)),i=G({type:new et(s),children:o})}return new Ls(r,i)}select(e){const n=this.schema.select(e),r=new et(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Ls(n,G({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=G({type:new et(n.fields),length:this.numRows,children:r});return new Ls(n,i)}};l0=Symbol.toStringTag;dt[l0]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(dt.prototype);function Xp(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const u=e[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:G({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),G({type:new et(i),length:n,children:s})]}function u0(t,e,n=new Map){for(let r=-1,i=t.length;++r<i;){const o=t[r].type,a=e[r];if(M.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&u0(o.children,a.children,n)}return n}class lh extends dt{constructor(e){const n=e.fields.map(i=>G({type:i.type})),r=G({type:new et(e.fields),nullCount:0,children:n});super(e,r)}}var zl;(function(t){t[t.BUFFER=0]="BUFFER"})(zl||(zl={}));var $l;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})($l||($l={}));class or{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new or).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+ce),(n||new or).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):$l.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):zl.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,$l.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,zl.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return or.startBodyCompression(e),or.addCodec(e,n),or.addMethod(e,r),or.endBodyCompression(e)}}class c0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}}let d0=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},Bn=class gd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new gd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+ce),(n||new gd).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new d0).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new c0).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new or).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},Ei=class vd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new vd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+ce),(n||new vd).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Bn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var Vl;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Vl||(Vl={}));let tr=class an{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new an).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+ce),(n||new an).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):us.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Vl.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,us.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,Vl.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return an.startMessage(e),an.addVersion(e,n),an.addHeaderType(e,r),an.addHeader(e,i),an.addBodyLength(e,s),an.addCustomMetadata(e,o),an.endMessage(e)}};class Vb extends J{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return qr.startNull(n),qr.endNull(n)}visitInt(e,n){return It.startInt(n),It.addBitWidth(n,e.bitWidth),It.addIsSigned(n,e.isSigned),It.endInt(n)}visitFloat(e,n){return gn.startFloatingPoint(n),gn.addPrecision(n,e.precision),gn.endFloatingPoint(n)}visitBinary(e,n){return Qr.startBinary(n),Qr.endBinary(n)}visitBool(e,n){return Yr.startBool(n),Yr.endBool(n)}visitUtf8(e,n){return Jr.startUtf8(n),Jr.endUtf8(n)}visitDecimal(e,n){return lt.startDecimal(n),lt.addScale(n,e.scale),lt.addPrecision(n,e.precision),lt.addBitWidth(n,e.bitWidth),lt.endDecimal(n)}visitDate(e,n){return Ca.startDate(n),Ca.addUnit(n,e.unit),Ca.endDate(n)}visitTime(e,n){return Pt.startTime(n),Pt.addUnit(n,e.unit),Pt.addBitWidth(n,e.bitWidth),Pt.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return Ut.startTimestamp(n),Ut.addUnit(n,e.unit),r!==void 0&&Ut.addTimezone(n,r),Ut.endTimestamp(n)}visitInterval(e,n){return vn.startInterval(n),vn.addUnit(n,e.unit),vn.endInterval(n)}visitList(e,n){return Hr.startList(n),Hr.endList(n)}visitStruct(e,n){return Gr.startStruct_(n),Gr.endStruct_(n)}visitUnion(e,n){ct.startTypeIdsVector(n,e.typeIds.length);const r=ct.createTypeIdsVector(n,e.typeIds);return ct.startUnion(n),ct.addMode(n,e.mode),ct.addTypeIds(n,r),ct.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return Ln.startDictionaryEncoding(n),Ln.addId(n,BigInt(e.id)),Ln.addIsOrdered(n,e.isOrdered),r!==void 0&&Ln.addIndexType(n,r),Ln.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return yn.startFixedSizeBinary(n),yn.addByteWidth(n,e.byteWidth),yn.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return mn.startFixedSizeList(n),mn.addListSize(n,e.listSize),mn.endFixedSizeList(n)}visitMap(e,n){return La.startMap(n),La.addKeysSorted(n,e.keysSorted),La.endMap(n)}}const nc=new Vb;function Kb(t,e=new Map){return new se(Qb(t,e),Ua(t.customMetadata),e)}function f0(t){return new Ft(t.count,h0(t.columns),p0(t.columns))}function Wb(t){return new kn(f0(t.data),t.id,t.isDelta)}function Qb(t,e){return(t.fields||[]).filter(Boolean).map(n=>ge.fromJSON(n,e))}function Zp(t,e){return(t.children||[]).filter(Boolean).map(n=>ge.fromJSON(n,e))}function h0(t){return(t||[]).reduce((e,n)=>[...e,new pi(n.count,Yb(n.VALIDITY)),...h0(n.children)],[])}function p0(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new wn(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new wn(e.length,i.TYPE.length)),i.OFFSET&&e.push(new wn(e.length,i.OFFSET.length)),i.DATA&&e.push(new wn(e.length,i.DATA.length)),e=p0(i.children,e)}return e}function Yb(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function Hb(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=ty(t,Zp(t,e)),i=new ge(t.name,o,t.nullable,Ua(t.customMetadata))):e.has(n=s.id)?(r=(r=s.indexType)?ey(r):new So,a=new as(e.get(n),r,n,s.isOrdered),i=new ge(t.name,a,t.nullable,Ua(t.customMetadata))):(r=(r=s.indexType)?ey(r):new So,e.set(n,o=ty(t,Zp(t,e))),a=new as(o,r,n,s.isOrdered),i=new ge(t.name,a,t.nullable,Ua(t.customMetadata))),i||null}function Ua(t){return new Map(Object.entries(t||{}))}function ey(t){return new kr(t.isSigned,t.bitWidth)}function ty(t,e){const n=t.type.name;switch(n){case"NONE":return new Er;case"null":return new Er;case"binary":return new _l;case"utf8":return new wl;case"bool":return new Sl;case"list":return new Tl((e||[])[0]);case"struct":return new et(e||[]);case"struct_":return new et(e||[])}switch(n){case"int":{const r=t.type;return new kr(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new bo(mt[r.precision])}case"decimal":{const r=t.type;return new bl(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new Il(Hn[r.unit])}case"time":{const r=t.type;return new Io(te[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new El(te[r.unit],r.timezone)}case"interval":{const r=t.type;return new kl(Ir[r.unit])}case"union":{const r=t.type;return new Nl(Ot[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new Rl(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new Ol(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new Fl((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var qb=r0,Gb=ls;class tt{static fromJSON(e,n){const r=new tt(0,kt.V4,n);return r._createHeader=Jb(e,n),r}static decode(e){e=new Gb(ee(e));const n=tr.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new tt(r,i,s);return o._createHeader=Xb(n,s),o}static encode(e){const n=new qb;let r=-1;return e.isSchema()?r=se.encode(n,e.header()):e.isRecordBatch()?r=Ft.encode(n,e.header()):e.isDictionaryBatch()&&(r=kn.encode(n,e.header())),tr.startMessage(n),tr.addVersion(n,kt.V4),tr.addHeader(n,r),tr.addHeaderType(n,e.headerType),tr.addBodyLength(n,BigInt(e.bodyLength)),tr.finishMessageBuffer(n,tr.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof se)return new tt(0,kt.V4,re.Schema,e);if(e instanceof Ft)return new tt(n,kt.V4,re.RecordBatch,e);if(e instanceof kn)return new tt(n,kt.V4,re.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===re.Schema}isRecordBatch(){return this.headerType===re.RecordBatch}isDictionaryBatch(){return this.headerType===re.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=nn(e)}}class Ft{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=nn(e)}}class kn{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=nn(n)}}class wn{constructor(e,n){this.offset=nn(e),this.length=nn(n)}}class pi{constructor(e,n){this.length=nn(e),this.nullCount=nn(n)}}function Jb(t,e){return()=>{switch(e){case re.Schema:return se.fromJSON(t);case re.RecordBatch:return Ft.fromJSON(t);case re.DictionaryBatch:return kn.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}function Xb(t,e){return()=>{switch(e){case re.Schema:return se.decode(t.header(new un));case re.RecordBatch:return Ft.decode(t.header(new Bn),t.version());case re.DictionaryBatch:return kn.decode(t.header(new Ei),t.version())}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}ge.encode=uI;ge.decode=aI;ge.fromJSON=Hb;se.encode=lI;se.decode=Zb;se.fromJSON=Kb;Ft.encode=cI;Ft.decode=eI;Ft.fromJSON=f0;kn.encode=dI;kn.decode=tI;kn.fromJSON=Wb;pi.encode=fI;pi.decode=rI;wn.encode=hI;wn.decode=nI;function Zb(t,e=new Map){const n=oI(t,e);return new se(n,ja(t),e)}function eI(t,e=kt.V4){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new Ft(t.length(),iI(t),sI(t,e))}function tI(t,e=kt.V4){return new kn(Ft.decode(t.data(),e),t.id(),t.isDelta())}function nI(t){return new wn(t.offset(),t.length())}function rI(t){return new pi(t.length(),t.nullCount())}function iI(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=pi.decode(n));return e}function sI(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<kt.V4&&(r.bb_pos+=8*(i+1)),n[++s]=wn.decode(r));return n}function oI(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=ge.decode(r,e));return n}function ny(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=ge.decode(r,e));return n}function aI(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=iy(t,ny(t,e)),r=new ge(t.name(),i,t.nullable(),ja(t))):e.has(n=nn(a.id()))?(s=(s=a.indexType())?ry(s):new So,o=new as(e.get(n),s,n,a.isOrdered()),r=new ge(t.name(),o,t.nullable(),ja(t))):(s=(s=a.indexType())?ry(s):new So,e.set(n,i=iy(t,ny(t,e))),o=new as(i,s,n,a.isOrdered()),r=new ge(t.name(),o,t.nullable(),ja(t))),r||null}function ja(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function ry(t){return new kr(t.isSigned(),t.bitWidth())}function iy(t,e){const n=t.typeType();switch(n){case Se.NONE:return new Er;case Se.Null:return new Er;case Se.Binary:return new _l;case Se.Utf8:return new wl;case Se.Bool:return new Sl;case Se.List:return new Tl((e||[])[0]);case Se.Struct_:return new et(e||[])}switch(n){case Se.Int:{const r=t.type(new It);return new kr(r.isSigned(),r.bitWidth())}case Se.FloatingPoint:{const r=t.type(new gn);return new bo(r.precision())}case Se.Decimal:{const r=t.type(new lt);return new bl(r.scale(),r.precision(),r.bitWidth())}case Se.Date:{const r=t.type(new Ca);return new Il(r.unit())}case Se.Time:{const r=t.type(new Pt);return new Io(r.unit(),r.bitWidth())}case Se.Timestamp:{const r=t.type(new Ut);return new El(r.unit(),r.timezone())}case Se.Interval:{const r=t.type(new vn);return new kl(r.unit())}case Se.Union:{const r=t.type(new ct);return new Nl(r.mode(),r.typeIdsArray()||[],e||[])}case Se.FixedSizeBinary:{const r=t.type(new yn);return new Rl(r.byteWidth())}case Se.FixedSizeList:{const r=t.type(new mn);return new Ol(r.listSize(),(e||[])[0])}case Se.Map:{const r=t.type(new La);return new Fl((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Se[n]}" (${n})`)}function lI(t,e){const n=e.fields.map(s=>ge.encode(t,s));un.startFieldsVector(t,n.length);const r=un.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?un.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Ce.startKeyValue(t),Ce.addKey(t,a),Ce.addValue(t,l),Ce.endKeyValue(t)})):-1;return un.startSchema(t),un.addFields(t,r),un.addEndianness(t,pI?cs.Little:cs.Big),i!==-1&&un.addCustomMetadata(t,i),un.endSchema(t)}function uI(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;M.isDictionary(s)?(o=s.dictionary.typeId,i=nc.visit(s,t),r=nc.visit(s.dictionary,t)):r=nc.visit(s,t);const a=(s.children||[]).map(c=>ge.encode(t,c)),l=xt.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?xt.createCustomMetadataVector(t,[...e.metadata].map(([c,f])=>{const d=t.createString(`${c}`),m=t.createString(`${f}`);return Ce.startKeyValue(t),Ce.addKey(t,d),Ce.addValue(t,m),Ce.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),xt.startField(t),xt.addType(t,r),xt.addTypeType(t,o),xt.addChildren(t,l),xt.addNullable(t,!!e.nullable),n!==-1&&xt.addName(t,n),i!==-1&&xt.addDictionary(t,i),u!==-1&&xt.addCustomMetadata(t,u),xt.endField(t)}function cI(t,e){const n=e.nodes||[],r=e.buffers||[];Bn.startNodesVector(t,n.length);for(const o of n.slice().reverse())pi.encode(t,o);const i=t.endVector();Bn.startBuffersVector(t,r.length);for(const o of r.slice().reverse())wn.encode(t,o);const s=t.endVector();return Bn.startRecordBatch(t),Bn.addLength(t,BigInt(e.length)),Bn.addNodes(t,i),Bn.addBuffers(t,s),Bn.endRecordBatch(t)}function dI(t,e){const n=Ft.encode(t,e.data);return Ei.startDictionaryBatch(t),Ei.addId(t,BigInt(e.id)),Ei.addIsDelta(t,e.isDelta),Ei.addData(t,n),Ei.endDictionaryBatch(t)}function fI(t,e){return d0.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function hI(t,e){return c0.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const pI=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),uh=t=>`Expected ${re[t]} Message in stream, but was null or length 0.`,ch=t=>`Header pointer of flatbuffer-encoded ${re[t]} Message is null or length 0.`,y0=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,m0=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class g0{constructor(e){this.source=e instanceof Ul?e:new Ul(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Ie:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(uh(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=ee(this.source.read(e));if(n.byteLength<e)throw new Error(m0(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=re.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(ch(n));return i}readMetadataLength(){const e=this.source.read(Su),n=e&&new ls(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return Ie;if(n.byteLength<e)throw new Error(y0(e,n.byteLength));return{done:!1,value:tt.decode(n)}}}class yI{constructor(e,n){this.source=e instanceof fs?e:Pg(e)?new jl(e,n):new fs(e)}[Symbol.asyncIterator](){return this}next(){return L(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Ie:e})}throw(e){return L(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return L(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return L(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(uh(e));return n.value})}readMessageBody(e){return L(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=ee(yield this.source.read(e));if(n.byteLength<e)throw new Error(m0(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(e=!1){return L(this,void 0,void 0,function*(){const n=re.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(ch(n));return i})}readMetadataLength(){return L(this,void 0,void 0,function*(){const e=yield this.source.read(Su),n=e&&new ls(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return L(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return Ie;if(n.byteLength<e)throw new Error(y0(e,n.byteLength));return{done:!1,value:tt.decode(n)}})}}class mI extends g0{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Gp?e:new Gp(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:tt.fromJSON(e.schema,re.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:tt.fromJSON(n,re.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:tt.fromJSON(n,re.RecordBatch)}}return this._body=[],Ie}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(uh(e));return n.value}readSchema(){const e=re.Schema,n=this.readMessage(e),r=n==null?void 0:n.header();if(!n||!r)throw new Error(ch(e));return r}}const Su=4,_d="ARROW1",ko=new Uint8Array(_d.length);for(let t=0;t<_d.length;t+=1)ko[t]=_d.codePointAt(t);function dh(t,e=0){for(let n=-1,r=ko.length;++n<r;)if(ko[n]!==t[e+n])return!1;return!0}const $o=ko.length,v0=$o+Su,gI=$o*2+Su;class $t extends rh{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return ui(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ct.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ct.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof $t?e:cd(e)?SI(e):Pg(e)?EI(e):ui(e)?(()=>L(this,void 0,void 0,function*(){return yield $t.from(yield e)}))():Ug(e)||Vf(e)||jg(e)||vs(e)?II(new fs(e)):bI(new Ul(e))}static readAll(e){return e instanceof $t?e.isSync()?sy(e):oy(e):cd(e)||ArrayBuffer.isView(e)||Po(e)||Mg(e)?sy(e):oy(e)}}class Kl extends $t{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return _n(this,arguments,function*(){yield Y(yield*xa(ti(this[Symbol.iterator]())))})}}class Wl extends $t{constructor(e){super(e),this._impl=e}readAll(){var e,n,r,i;return L(this,void 0,void 0,function*(){const s=new Array;try{for(var o=!0,a=ti(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class _0 extends Kl{constructor(e){super(e),this._impl=e}}class vI extends Wl{constructor(e){super(e),this._impl=e}}class w0{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=G({type:new et(this.schema.fields),length:e.length,children:r});return new dt(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){const l=o.dictionaries.get(r),u=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new ie(u)):new ie(u)).memoize()}return a.memoize()}_loadVectors(e,n,r){return new o0(n,e.nodes,e.buffers,this.dictionaries).visitMany(r)}}class Ql extends w0{constructor(e,n){super(n),this._reader=cd(e)?new mI(this._handle=e):new g0(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=b0(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Ie}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Ie}next(){if(this.closed)return Ie;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new lh(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Yl extends w0{constructor(e,n){super(n),this._reader=new yI(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return L(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return L(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=b0(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return L(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Ie})}return(e){return L(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Ie})}next(){return L(this,void 0,void 0,function*(){if(this.closed)return Ie;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new lh(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return L(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class S0 extends Ql{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof Jp?e:new Jp(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(re.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(re.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-v0,r=e.readInt32(n),i=e.readAt(n-r,r);return Eo.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class _I extends Yl{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof jl?e:new jl(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return L(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){var n;return L(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(re.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var n;return L(this,void 0,void 0,function*(){const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(re.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return L(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-v0,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return Eo.decode(i)})}_readNextMessageAndValidate(e){return L(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class wI extends Ql{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new Db(n,e.nodes,e.buffers,this.dictionaries).visitMany(r)}}function b0(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*sy(t){const e=$t.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function oy(t){return _n(this,arguments,function*(){const n=yield Y($t.from(t));try{if(!(yield Y(n.open({autoDestroy:!1}))).closed)do yield yield Y(n);while(!(yield Y(n.reset().open())).closed)}finally{yield Y(n.cancel())}})}function SI(t){return new Kl(new wI(t))}function bI(t){const e=t.peek($o+7&-8);return e&&e.byteLength>=4?dh(e)?new _0(new S0(t.read())):new Kl(new Ql(t)):new Kl(new Ql(function*(){}()))}function II(t){return L(this,void 0,void 0,function*(){const e=yield t.peek($o+7&-8);return e&&e.byteLength>=4?dh(e)?new _0(new S0(yield t.read())):new Wl(new Yl(t)):new Wl(new Yl(function(){return _n(this,arguments,function*(){})}()))})}function EI(t){return L(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new jl(t,e);return e>=gI&&dh(yield n.readAt(0,$o+7&-8))?new vI(new _I(n)):new Wl(new Yl(n))})}class Be extends J{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof dt?s.data.children:s.data),r=new Be;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof ie)return this.visitMany(e.data),this;const{type:n}=e;if(!M.isDictionary(n)){const{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");M.isNull(n)||Zt.call(this,i<=0?new Uint8Array(0):Xf(e.offset,r,e.nullBitmap)),this.nodes.push(new pi(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Zt(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new wn(this._byteLength,e)),this._byteLength+=e,this}function kI(t){const{type:e,length:n,typeIds:r,valueOffsets:i}=t;if(Zt.call(this,r),e.mode===Ot.Sparse)return wd.call(this,t);if(e.mode===Ot.Dense){if(t.offset<=0)return Zt.call(this,i),wd.call(this,t);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(n),u=Wf(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=u[c]),l[d]=u[d]-f,++o[c];Zt.call(this,l);for(let c,f=-1,d=e.children.length;++f<d;)if(c=t.children[f]){const m=e.typeIds[f],_=Math.min(n,o[m]);this.visit(c.slice(a[m],_))}}}return this}function TI(t){let e;return t.nullCount>=t.length?Zt.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Zt.call(this,Xf(t.offset,t.length,e)):Zt.call(this,Al(t.values))}function Lr(t){return Zt.call(this,t.values.subarray(0,t.length*t.stride))}function I0(t){const{length:e,values:n,valueOffsets:r}=t,i=r[0],s=r[e],o=Math.min(s-i,n.byteLength-i);return Zt.call(this,Wf(-r[0],e,r)),Zt.call(this,n.subarray(i,i+o)),this}function fh(t){const{length:e,valueOffsets:n}=t;return n&&Zt.call(this,Wf(n[0],e,n)),this.visit(t.children[0])}function wd(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}Be.prototype.visitBool=TI;Be.prototype.visitInt=Lr;Be.prototype.visitFloat=Lr;Be.prototype.visitUtf8=I0;Be.prototype.visitBinary=I0;Be.prototype.visitFixedSizeBinary=Lr;Be.prototype.visitDate=Lr;Be.prototype.visitTimestamp=Lr;Be.prototype.visitTime=Lr;Be.prototype.visitDecimal=Lr;Be.prototype.visitList=fh;Be.prototype.visitStruct=wd;Be.prototype.visitUnion=kI;Be.prototype.visitInterval=Lr;Be.prototype.visitFixedSizeList=fh;Be.prototype.visitMap=fh;class E0 extends rh{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Pa,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,gt(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return ui(e)?e.then(n=>this.writeAll(n)):vs(e)?mh(this,e):yh(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Pa?this._sink=e:(this._sink=new Pa,e&&Y1(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&H1(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!md(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Ze&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof dt&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!md(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof dt?e instanceof lh||this._writeRecordBatch(e):e instanceof Ze?this.writeAll(e.batches):Po(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=tt.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===re.RecordBatch?this._recordBatchBlocks.push(new Tr(a,e.bodyLength,this._position)):e.headerType===re.DictionaryBatch&&this._dictionaryBlocks.push(new Tr(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=ee(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(tt.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(ko)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Be.assemble(e),o=new Ft(e.numRows,r,i),a=tt.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Be.assemble(new ie([e])),l=new Ft(e.length,s,o),u=new kn(l,n,r),c=tt.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[n,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class hh extends E0{static writeAll(e,n){const r=new hh(n);return ui(e)?e.then(i=>r.writeAll(i)):vs(e)?mh(r,e):yh(r,e)}}class ph extends E0{static writeAll(e){const n=new ph;return ui(e)?e.then(r=>n.writeAll(r)):vs(e)?mh(n,e):yh(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=Eo.encode(new Eo(e,kt.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function yh(t,e){let n=e;e instanceof Ze&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function mh(t,e){var n,r,i,s,o,a,l;return L(this,void 0,void 0,function*(){try{for(n=!0,r=ti(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;t.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function NI(t,e="stream"){return(e==="stream"?hh:ph).writeAll(t).toUint8Array(!0)}function RI(t){return t==null}var OI=RI;const FI=Sy(OI),k0=(t,e)=>{if(FI(e))return e;switch(t.typeId){case g.Null:return null;case g.Date:case g.Timestamp:return new Date(e).toISOString();case g.Float:case g.Float16:case g.Float32:case g.Float64:return e;case g.Int:case g.Int8:case g.Int16:case g.Int32:case g.Int64:case g.Uint8:case g.Uint16:case g.Uint32:case g.Uint64:return parseInt(e.toString());case g.Decimal:return parseFloat(e.toString());case g.List:if(t.type.children[0]){const n=[];return e.toArray().forEach(r=>n.push(k0(t.type.children[0],r))),n}return[];default:return e}},AI=t=>t.toArray().map(e=>e.toJSON()).map(e=>t.schema.fields.reduce((n,r)=>(n[r.name]=k0(r,e[r.name]),n),{})),BI=async({instanceManager:t,json:e,tableName:n,logger:r,onEvent:i,metadata:s})=>{const o=`${n}.json`,a=`${n}.parquet`,l=await t.getDB(),u=await l.connect(),c=performance.now();await l.registerFileText(o,JSON.stringify(e)),await u.insertJSONFromPath(o,{name:n}),await u.query(`COPY ${n} TO '${a}' (FORMAT PARQUET);`);const f=await l.copyFileToBuffer(a),m=performance.now()-c;return r==null||r.debug("Time spent in converting JSON to buffer:",m,"ms",e),i==null||i({event_name:"json_to_buffer_conversion_duration",duration:m,metadata:{...s,json:e}}),await u.query(`DROP TABLE ${n};`),await l.registerEmptyFileBuffer(o),await u.close(),f},ye=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ae=Object.keys,Ge=Array.isArray;function it(t,e){return typeof e!="object"||Ae(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||ye.Promise||(ye.Promise=Promise);const To=Object.getPrototypeOf,DI={}.hasOwnProperty;function At(t,e){return DI.call(t,e)}function ps(t,e){typeof e=="function"&&(e=e(To(t))),(typeof Reflect>"u"?Ae:Reflect.ownKeys)(e).forEach(n=>{$n(t,n,e[n])})}const T0=Object.defineProperty;function $n(t,e,n,r){T0(t,e,it(n&&At(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Gi(t){return{from:function(e){return t.prototype=Object.create(e.prototype),$n(t.prototype,"constructor",t),{extend:ps.bind(null,t.prototype)}}}}const xI=Object.getOwnPropertyDescriptor;function gh(t,e){let n;return xI(t,e)||(n=To(t))&&gh(n,e)}const CI=[].slice;function Hl(t,e,n){return CI.call(t,e,n)}function N0(t,e){return e(t)}function Ms(t){if(!t)throw new Error("Assertion Failed")}function R0(t){ye.setImmediate?setImmediate(t):setTimeout(t,0)}function O0(t,e){return t.reduce((n,r,i)=>{var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Vn(t,e){if(At(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=Vn(t,e[r]);n.push(s)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a===void 0?void 0:Vn(a,e.substr(o+1))}}function en(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Ms(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)en(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),a=e.substr(s+1);if(a==="")n===void 0?Ge(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var l=t[o];l&&At(t,o)||(l=t[o]={}),en(l,a,n)}}else n===void 0?Ge(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function F0(t){var e={};for(var n in t)At(t,n)&&(e[n]=t[n]);return e}const LI=[].concat;function A0(t){return LI.apply([],t)}const B0="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(A0([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ye[t]),MI=B0.map(t=>ye[t]);O0(B0,t=>[t,!0]);let ar=null;function Vo(t){ar=typeof WeakMap<"u"&&new WeakMap;const e=Sd(t);return ar=null,e}function Sd(t){if(!t||typeof t!="object")return t;let e=ar&&ar.get(t);if(e)return e;if(Ge(t)){e=[],ar&&ar.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Sd(t[n]))}else if(MI.indexOf(t.constructor)>=0)e=t;else{const s=To(t);for(var i in e=s===Object.prototype?{}:Object.create(s),ar&&ar.set(t,e),t)At(t,i)&&(e[i]=Sd(t[i]))}return e}const{toString:PI}={};function bd(t){return PI.call(t).slice(8,-1)}const Id=typeof Symbol<"u"?Symbol.iterator:"@@iterator",UI=typeof Id=="symbol"?function(t){var e;return t!=null&&(e=t[Id])&&e.apply(t)}:function(){return null},ki={};function Mn(t){var e,n,r,i;if(arguments.length===1){if(Ge(t))return t.slice();if(this===ki&&typeof t=="string")return[t];if(i=UI(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const vh=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Tn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function D0(t,e){Tn=t,x0=e}var x0=()=>!0;const jI=!new Error("").stack;function yi(){if(jI)try{throw yi.arguments,new Error}catch(t){return t}return new Error}function Ed(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(x0).map(r=>`
`+r).join("")):""}var C0=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_h=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(C0),zI={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ji(t,e){this._e=yi(),this.name=t,this.message=e}function L0(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function ql(t,e,n,r){this._e=yi(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=L0(t,e)}function qs(t,e){this._e=yi(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=L0(t,e)}Gi(Ji).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ed(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Gi(ql).from(Ji),Gi(qs).from(Ji);var wh=_h.reduce((t,e)=>(t[e]=e+"Error",t),{});const $I=Ji;var D=_h.reduce((t,e)=>{var n=e+"Error";function r(i,s){this._e=yi(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=zI[e]||n,this.inner=null)}return Gi(r).from($I),t[e]=r,t},{});D.Syntax=SyntaxError,D.Type=TypeError,D.Range=RangeError;var ay=C0.reduce((t,e)=>(t[e+"Error"]=D[e],t),{}),za=_h.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=D[e]),t),{});function ue(){}function No(t){return t}function VI(t,e){return t==null||t===No?e:function(n){return e(t(n))}}function ci(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function KI(t,e){return t===ue?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ci(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ci(i,this.onerror):i),s!==void 0?s:n}}function WI(t,e){return t===ue?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ci(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ci(r,this.onerror):r)}}function QI(t,e){return t===ue?e:function(n){var r=t.apply(this,arguments);it(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ci(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ci(s,this.onerror):s),r===void 0?o===void 0?void 0:o:it(r,o)}}function YI(t,e){return t===ue?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function Sh(t,e){return t===ue?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}za.ModifyError=ql,za.DexieError=Ji,za.BulkError=qs;var Ro={};const M0=100,[kd,Gl,Td]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,To(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,To(e),t]})(),P0=Gl&&Gl.then,$a=kd&&kd.constructor,bh=!!Td;var Nd=!1,HI=Td?()=>{Td.then(ya)}:ye.setImmediate?setImmediate.bind(null,ya):ye.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{ya(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(ya,0)},Gs=function(t,e){Ps.push([t,e]),Jl&&(HI(),Jl=!1)},Rd=!0,Jl=!0,ni=[],Va=[],Od=null,Fd=No,Xi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:cy,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{cy(t[0],t[1])}catch{}})}},B=Xi,Ps=[],ri=0,Ka=[];function A(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ue,this._lib=!1;var e=this._PSD=B;if(Tn&&(this._stackHolder=yi(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Ro)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bd(this,this._value))}this._state=null,this._value=null,++e.ref,j0(this,t)}const Ad={get:function(){var t=B,e=Xl;function n(r,i){var s=!t.global&&(t!==B||e!==Xl);const o=s&&!qn();var a=new A((l,u)=>{Ih(this,new U0(Zl(r,t,s,o),Zl(i,t,s,o),l,u,t))});return Tn&&V0(a,this),a}return n.prototype=Ro,n},set:function(t){$n(this,"then",t&&t.prototype===Ro?Ad:{get:function(){return t},set:Ad.set})}};function U0(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}function j0(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ko();n&&typeof n.then=="function"?j0(t,(i,s)=>{n instanceof A?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,z0(t)),r&&Wo()}},Bd.bind(null,t))}catch(n){Bd(t,n)}}function Bd(t,e){if(Va.push(e),t._state===null){var n=t._lib&&Ko();e=Fd(e),t._state=!1,t._value=e,Tn&&e!==null&&typeof e=="object"&&!e._promise&&function(r,i,s){try{r.apply(null,s)}catch(o){i&&i(o)}}(()=>{var r=gh(e,"stack");e._promise=t,$n(e,"stack",{get:()=>Nd?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){ni.some(i=>i._value===r._value)||ni.push(r)}(t),z0(t),n&&Wo()}}function z0(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Ih(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),ri===0&&(++ri,Gs(()=>{--ri==0&&Eh()},[]))}function Ih(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ri,Gs(qI,[n,t,e])}else t._listeners.push(e)}function qI(t,e,n){try{Od=e;var r,i=e._value;e._state?r=t(i):(Va.length&&(Va=[]),r=t(i),Va.indexOf(i)===-1&&function(s){for(var o=ni.length;o;)if(ni[--o]._value===s._value)return void ni.splice(o,1)}(e)),n.resolve(r)}catch(s){n.reject(s)}finally{Od=null,--ri==0&&Eh(),--n.psd.ref||n.psd.finalize()}}function $0(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i,s,o=t._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Ed(o,0)):(i=o,s=""),e.push(i+(s?": "+s:"")+r)}return Tn&&((r=Ed(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&$0(t._prev,e,n)),e}function V0(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function ya(){Ko()&&Wo()}function Ko(){var t=Rd;return Rd=!1,Jl=!1,t}function Wo(){var t,e,n;do for(;Ps.length>0;)for(t=Ps,Ps=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ps.length>0);Rd=!0,Jl=!0}function Eh(){var t=ni;ni=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Ka.slice(0),n=e.length;n;)e[--n]()}function ma(t){return new A(Ro,!1,t)}function ve(t,e){var n=B;return function(){var r=Ko(),i=B;try{return Or(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{Or(i,!1),r&&Wo()}}}ps(A.prototype,{then:Ad,_then:function(t,e){Ih(this,new U0(null,null,t,e,B))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):ma(r)):this.then(null,r=>r&&r.name===e?n(r):ma(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),ma(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Nd=!0;var t=$0(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Nd=!1}}},timeout:function(t,e){return t<1/0?new A((n,r)=>{var i=setTimeout(()=>r(new D.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$n(A.prototype,Symbol.toStringTag,"Dexie.Promise"),Xi.env=K0(),ps(A,{all:function(){var t=Mn.apply(null,arguments).map(ga);return new A(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((i,s)=>A.resolve(i).then(o=>{t[s]=o,--r||e(t)},n))})},resolve:t=>{if(t instanceof A)return t;if(t&&typeof t.then=="function")return new A((n,r)=>{t.then(n,r)});var e=new A(Ro,!0,t);return V0(e,Od),e},reject:ma,race:function(){var t=Mn.apply(null,arguments).map(ga);return new A((e,n)=>{t.map(r=>A.resolve(r).then(e,n))})},PSD:{get:()=>B,set:t=>B=t},totalEchoes:{get:()=>Xl},newPSD:Rr,usePSD:Ss,scheduler:{get:()=>Gs,set:t=>{Gs=t}},rejectionMapper:{get:()=>Fd,set:t=>{Fd=t}},follow:(t,e)=>new A((n,r)=>Rr((i,s)=>{var o=B;o.unhandleds=[],o.onunhandled=s,o.finalize=ci(function(){(function(a){function l(){a(),Ka.splice(Ka.indexOf(l),1)}Ka.push(l),++ri,Gs(()=>{--ri==0&&Eh()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),t()},e,n,r))}),$a&&($a.allSettled&&$n(A,"allSettled",function(){const t=Mn.apply(null,arguments).map(ga);return new A(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((i,s)=>A.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||e(r)))})}),$a.any&&typeof AggregateError<"u"&&$n(A,"any",function(){const t=Mn.apply(null,arguments).map(ga);return new A((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach((s,o)=>A.resolve(s).then(a=>e(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const qe={awaits:0,echoes:0,id:0};var GI=0,Wa=[],rc=0,Xl=0,JI=0;function Rr(t,e,n,r){var i=B,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++JI;var o=Xi.env;s.env=bh?{Promise:A,PromiseProp:{value:A,configurable:!0,writable:!0},all:A.all,race:A.race,allSettled:A.allSettled,any:A.any,resolve:A.resolve,reject:A.reject,nthen:ly(o.nthen,s),gthen:ly(o.gthen,s)}:{},e&&it(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Ss(s,t,n,r);return s.ref===0&&s.finalize(),a}function ws(){return qe.id||(qe.id=++GI),++qe.awaits,qe.echoes+=M0,qe.id}function qn(){return!!qe.awaits&&(--qe.awaits==0&&(qe.id=0),qe.echoes=qe.awaits*M0,!0)}function ga(t){return qe.echoes&&t&&t.constructor===$a?(ws(),t.then(e=>(qn(),e),e=>(qn(),Me(e)))):t}function XI(t){++Xl,qe.echoes&&--qe.echoes!=0||(qe.echoes=qe.id=0),Wa.push(B),Or(t,!0)}function ZI(){var t=Wa[Wa.length-1];Wa.pop(),Or(t,!1)}function Or(t,e){var n=B;if((e?!qe.echoes||rc++&&t===B:!rc||--rc&&t===B)||W0(e?XI.bind(null,t):ZI),t!==B&&(B=t,n===Xi&&(Xi.env=K0()),bh)){var r=Xi.env.Promise,i=t.env;Gl.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(ye,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function K0(){var t=ye.Promise;return bh?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ye,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Gl.then,gthen:t.prototype.then}:{}}function Ss(t,e,n,r,i){var s=B;try{return Or(t,!0),e(n,r,i)}finally{Or(s,!1)}}function W0(t){P0.call(kd,t)}function Zl(t,e,n,r){return typeof t!="function"?t:function(){var i=B;n&&ws(),Or(e,!0);try{return t.apply(this,arguments)}finally{Or(i,!1),r&&W0(qn)}}}function ly(t,e){return function(n,r){return t.call(this,Zl(n,e),Zl(r,e))}}(""+P0).indexOf("[native code]")===-1&&(ws=qn=ue);const uy="unhandledrejection";function cy(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(ye.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(uy,!0,!0),it(r,i)):ye.CustomEvent&&it(r=new CustomEvent(uy,{detail:i}),i),r&&ye.dispatchEvent&&(dispatchEvent(r),!ye.PromiseRejectionEvent&&ye.onunhandledrejection))try{ye.onunhandledrejection(r)}catch{}Tn&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Me=A.reject;function Dd(t,e,n,r){if(t.idbdb&&(t._state.openComplete||B.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===wh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Dd(t,e,n,r))):Me(s)}return i._promise(e,(s,o)=>Rr(()=>(B.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(t._state.openComplete)return Me(new D.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Me(new D.DatabaseClosed);t.open().catch(ue)}return t._state.dbReadyPromise.then(()=>Dd(t,e,n,r))}const dy="3.2.4",Xr=String.fromCharCode(65535),xd=-1/0,Nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Q0="String expected.",Js=[],bu=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),eE=bu,tE=bu,Y0=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Iu="__dbnames",ic="readonly",sc="readwrite";function di(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const H0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function va(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Vo(e))[t],e)}class nE{_trans(e,n,r){const i=this._tx||B.trans,s=this.name;function o(l,u,c){if(!c.schema[s])throw new D.NotFound("Table "+s+" not part of transaction");return n(c.idbtrans,c)}const a=Ko();try{return i&&i.db===this.db?i===B.trans?i._promise(e,o,r):Rr(()=>i._promise(e,o,r),{trans:i,transless:B.transless||B}):Dd(this.db,e,[this.name],o)}finally{a&&Wo()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Ge(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=Ae(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==Xr)return this.where(r.name).equals(r.keyPath.map(u=>e[u]));!r&&Tn&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,c){try{return s.cmp(u,c)===0}catch{return!1}}const[a,l]=n.reduce(([u,c],f)=>{const d=i[f],m=e[f];return[u||d,u||!d?di(c,d&&d.multi?_=>{const v=Vn(_,f);return Ge(v)&&v.some(S=>o(m,S))}:_=>o(m,Vn(_,f))):c]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Ge(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const i=Object.create(e.prototype);for(var s in r)if(At(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){it(this,e)})}add(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=va(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?A.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{en(e,i,o)}catch{}return o})}update(e,n){if(typeof e!="object"||Ge(e))return this.where(":id").equals(e).modify(n);{const r=Vn(e,this.schema.primKey.keyPath);if(r===void 0)return Me(new D.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Ae(n).forEach(i=>{en(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=va(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?A.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{en(e,i,o)}catch{}return o})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?A.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:H0})).then(e=>e.numFailures?A.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(va(l)):e;return this.core.mutate({trans:o,type:"add",keys:i,values:c,wantResults:s}).then(({numFailures:f,results:d,lastResult:m,failures:_})=>{if(f===0)return s?d:m;throw new qs(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,_)})})}bulkPut(e,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(va(l)):e;return this.core.mutate({trans:o,type:"put",keys:i,values:c,wantResults:s}).then(({numFailures:f,results:d,lastResult:m,failures:_})=>{if(f===0)return s?d:m;throw new qs(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,_)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new qs(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Xs(t){var e={},n=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return e[o].subscribe.apply(null,u),t}if(typeof o=="string")return e[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,l){if(typeof o!="object"){var u;a||(a=YI),l||(l=ue);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=a(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(a,l)}};return e[o]=n[o]=c,c}Ae(u=o).forEach(function(f){var d=u[f];if(Ge(d))s(f,u[f][0],u[f][1]);else{if(d!=="asap")throw new D.InvalidArgument("Invalid event config");var m=s(f,No,function(){for(var _=arguments.length,v=new Array(_);_--;)v[_]=arguments[_];m.subscribers.forEach(function(S){R0(function(){S.apply(null,v)})})})}})}}function As(t,e){return Gi(e).from({prototype:t}),e}function vi(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function oc(t,e){t.filter=di(t.filter,e)}function ac(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>di(r(),e()):e,t.justLimit=n&&!r}function Qa(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new D.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function fy(t,e,n){const r=Qa(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function _a(t,e,n,r){const i=t.replayFilter?di(t.filter,t.replayFilter()):t.filter;if(t.or){const s={},o=(a,l,u)=>{if(!i||i(l,u,d=>l.stop(d),d=>l.fail(d))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),At(s,f)||(s[f]=!0,e(a,l,u))}};return Promise.all([t.or._iterate(o,n),hy(fy(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return hy(fy(t,r,n),di(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function hy(t,e,n,r){var i=ve(r?(s,o,a)=>n(r(s),o,a):n);return t.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();e&&!e(s,a=>o=a,a=>{s.stop(a),o=ue},a=>{s.fail(a),o=ue})||i(s.value,s,a=>o=a),o()})})}function nt(t,e){try{const n=py(t),r=py(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===a?0:o<a?-1:1}(yy(t),yy(e));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u){const c=nt(i[u],s[u]);if(c!==0)return c}return o===a?0:o<a?-1:1}(t,e)}}catch{}return NaN}function py(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=bd(t);return n==="ArrayBuffer"?"binary":n}function yy(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class rE{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Me.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Me.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=di(n.algorithm,e)}_iterate(e,n){return _a(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&it(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>_a(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,i=r.table.core;if(vi(r,!0))return i.count({trans:n,query:{index:Qa(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return _a(r,()=>(++s,!1),n,i).then(()=>s)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var f=o(u,s),d=o(c,s);return f<d?-a:f>d?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&vi(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=Qa(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return _a(r,s=>i.push(s),n,r.table.core).then(()=>i)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,vi(n)?ac(n,()=>{var r=e;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):ac(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ac(this._ctx,()=>{var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(e,n){return oc(this._ctx,function(r,i,s){return!e(r.value)||(i(s),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return oc(this._ctx,function(i){return e(i.value)}),n=this._ctx,r=e,n.isMatch=di(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&vi(n,!0)&&n.limit>0)return this._read(i=>{var s=Qa(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return oc(this._ctx,function(i){var s=i.primaryKey.toString(),o=At(r,s);return r[s]=!0,!o}),this}modify(e){var n=this._ctx;return this._write(r=>{var i;if(typeof e=="function")i=e;else{var s=Ae(e),o=s.length;i=function(v){for(var S=!1,p=0;p<o;++p){var h=s[p],y=e[h];Vn(v,h)!==y&&(en(v,h,y),S=!0)}return S}}const a=n.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const m=[],_=(v,S)=>{const{failures:p,numFailures:h}=S;d+=v-h;for(let y of Ae(p))f.push(p[y])};return this.clone().primaryKeys().then(v=>{const S=p=>{const h=Math.min(c,v.length-p);return a.getMany({trans:r,keys:v.slice(p,p+h),cache:"immutable"}).then(y=>{const w=[],I=[],E=l?[]:null,b=[];for(let k=0;k<h;++k){const O=y[k],C={value:Vo(O),primKey:v[p+k]};i.call(C,C.value,C)!==!1&&(C.value==null?b.push(v[p+k]):l||nt(u(O),u(C.value))===0?(I.push(C.value),l&&E.push(v[p+k])):(b.push(v[p+k]),w.push(C.value)))}const T=vi(n)&&n.limit===1/0&&(typeof e!="function"||e===lc)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(k=>{for(let O in k.failures)b.splice(parseInt(O),1);_(w.length,k)})).then(()=>(I.length>0||T&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:E,values:I,criteria:T,changeSpec:typeof e!="function"&&e}).then(k=>_(I.length,k))).then(()=>(b.length>0||T&&e===lc)&&a.mutate({trans:r,type:"delete",keys:b,criteria:T}).then(k=>_(b.length,k))).then(()=>v.length>p+h&&S(p+c))})};return S(0).then(()=>{if(f.length>0)throw new ql("Error modifying one or more objects",f,d,m);return v.length})})})}delete(){var e=this._ctx,n=e.range;return vi(e)&&(e.isPrimKey&&!tE||n.type===3)?this._write(r=>{const{primaryKey:i}=e.table.core.schema,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:u,numFailures:c})=>{if(c)throw new ql("Could not delete some values",Object.keys(a).map(f=>a[f]),o-c);return o-c}))}):this.modify(lc)}}const lc=(t,e)=>e.value=null;function iE(t,e){return t<e?-1:t===e?0:1}function sE(t,e){return t>e?-1:t===e?0:1}function wt(t,e,n){var r=t instanceof G0?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function _i(t){return new t.Collection(t,()=>q0("")).limit(0)}function oE(t,e,n,r,i,s){for(var o=Math.min(t.length,r.length),a=-1,l=0;l<o;++l){var u=e[l];if(u!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[l],u)<0&&(a=l)}return o<r.length&&s==="next"?t+n.substr(t.length):o<t.length&&s==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function wa(t,e,n,r){var i,s,o,a,l,u,c,f=n.length;if(!n.every(v=>typeof v=="string"))return wt(t,Q0);function d(v){i=function(p){return p==="next"?h=>h.toUpperCase():h=>h.toLowerCase()}(v),s=function(p){return p==="next"?h=>h.toLowerCase():h=>h.toUpperCase()}(v),o=v==="next"?iE:sE;var S=n.map(function(p){return{lower:s(p),upper:i(p)}}).sort(function(p,h){return o(p.lower,h.lower)});a=S.map(function(p){return p.upper}),l=S.map(function(p){return p.lower}),u=v,c=v==="next"?"":r}d("next");var m=new t.Collection(t,()=>nr(a[0],l[f-1]+r));m._ondirectionchange=function(v){d(v)};var _=0;return m._addAlgorithm(function(v,S,p){var h=v.key;if(typeof h!="string")return!1;var y=s(h);if(e(y,l,_))return!0;for(var w=null,I=_;I<f;++I){var E=oE(h,y,a[I],l[I],o,u);E===null&&w===null?_=I+1:(w===null||o(w,E)>0)&&(w=E)}return S(w!==null?function(){v.continue(w+c)}:p),!1}),m}function nr(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function q0(t){return{type:1,lower:t,upper:t}}class G0{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&(!r||!i)?_i(this):new this.Collection(this,()=>nr(e,n,!r,!i))}catch{return wt(this,Nn)}}equals(e){return e==null?wt(this,Nn):new this.Collection(this,()=>q0(e))}above(e){return e==null?wt(this,Nn):new this.Collection(this,()=>nr(e,void 0,!0))}aboveOrEqual(e){return e==null?wt(this,Nn):new this.Collection(this,()=>nr(e,void 0,!1))}below(e){return e==null?wt(this,Nn):new this.Collection(this,()=>nr(void 0,e,!1,!0))}belowOrEqual(e){return e==null?wt(this,Nn):new this.Collection(this,()=>nr(void 0,e))}startsWith(e){return typeof e!="string"?wt(this,Q0):this.between(e,e+Xr,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):wa(this,(n,r)=>n.indexOf(r[0])===0,[e],Xr)}equalsIgnoreCase(e){return wa(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=Mn.apply(ki,arguments);return e.length===0?_i(this):wa(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=Mn.apply(ki,arguments);return e.length===0?_i(this):wa(this,(n,r)=>r.some(i=>n.indexOf(i)===0),e,Xr)}anyOf(){const e=Mn.apply(ki,arguments);let n=this._cmp;try{e.sort(n)}catch{return wt(this,Nn)}if(e.length===0)return _i(this);const r=new this.Collection(this,()=>nr(e[0],e[e.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,e.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;n(l,e[i])>0;)if(++i,i===e.length)return o(a),!1;return n(l,e[i])===0||(o(()=>{s.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[xd,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Mn.apply(ki,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return wt(this,Nn)}const n=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[xd,i]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(e.length===0)return _i(this);if(!e.every(h=>h[0]!==void 0&&h[1]!==void 0&&i(h[0],h[1])<=0))return wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,f=i;function d(h,y){return f(h[0],y[0])}try{c=e.reduce(function(h,y){let w=0,I=h.length;for(;w<I;++w){const E=h[w];if(r(y[0],E[1])<0&&r(y[1],E[0])>0){E[0]=o(E[0],y[0]),E[1]=a(E[1],y[1]);break}}return w===I&&h.push(y),h},[]),c.sort(d)}catch{return wt(this,Nn)}let m=0;const _=u?h=>i(h,c[m][1])>0:h=>i(h,c[m][1])>=0,v=l?h=>s(h,c[m][0])>0:h=>s(h,c[m][0])>=0;let S=_;const p=new this.Collection(this,()=>nr(c[0][0],c[c.length-1][1],!l,!u));return p._ondirectionchange=h=>{h==="next"?(S=_,f=i):(S=v,f=s),c.sort(d)},p._addAlgorithm((h,y,w)=>{for(var I=h.key;S(I);)if(++m,m===c.length)return y(w),!1;return!!function(E){return!_(E)&&!v(E)}(I)||(this._cmp(I,c[m][1])===0||this._cmp(I,c[m][0])===0||y(()=>{f===i?h.continue(c[m][0]):h.continue(c[m][1])}),!1)}),p}startsWithAnyOf(){const e=Mn.apply(ki,arguments);return e.every(n=>typeof n=="string")?e.length===0?_i(this):this.inAnyRange(e.map(n=>[n,n+Xr])):wt(this,"startsWithAnyOf() only works with strings")}}function dn(t){return ve(function(e){return Oo(e),t(e.target.error),!1})}function Oo(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Fo="storagemutated",cr="x-storagemutated-1",Fr=Xs(null,Fo);class aE{_lock(){return Ms(!B.global),++this._reculock,this._reculock!==1||B.global||(B.lockOwnerFor=this),this}_unlock(){if(Ms(!B.global),--this._reculock==0)for(B.global||(B.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ss(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&B.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ms(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new D.DatabaseClosed(r);case"MissingAPIError":throw new D.MissingAPI(r.message,r);default:throw new D.OpenFailed(r)}if(!this.active)throw new D.TransactionInactive;return Ms(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ve(i=>{Oo(i),this._reject(e.error)}),e.onabort=ve(i=>{Oo(i),this.active&&this._reject(new D.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=ve(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Fr.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Me(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Me(new D.TransactionInactive);if(this._locked())return new A((s,o)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(s,o)},B])});if(r)return Rr(()=>{var s=new A((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new A((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=A.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new A((o,a)=>{r.then(l=>n._waitingQueue.push(ve(o.bind(null,l))),l=>n._waitingQueue.push(ve(a.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(At(n,e))return n[e];const r=this.schema[e];if(!r)throw new D.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i}}function Cd(t,e,n,r,i,s,o){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+J0(e)}}function J0(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function X0(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:O0(n,r=>[r.name,r])}}let Ao=t=>{try{return t.only([[]]),Ao=()=>[[]],[[]]}catch{return Ao=()=>Xr,Xr}};function Ld(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>Vn(r,e)}(t):e=>Vn(e,t)}function my(t){return[].slice.call(t)}let lE=0;function Zs(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function uE(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:f,upperOpen:d}=l;return u===void 0?c===void 0?null:e.upperBound(c,!!d):c===void 0?e.lowerBound(u,!!f):e.bound(u,c,!!f,!!d)}const{schema:i,hasGetAll:s}=function(l,u){const c=my(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(f=>u.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:m}=f,_=Ge(d),v=d==null,S={},p={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:_,keyPath:d,autoIncrement:m,unique:!0,extractKey:Ld(d)},indexes:my(f.indexNames).map(h=>f.index(h)).map(h=>{const{name:y,unique:w,multiEntry:I,keyPath:E}=h,b={name:y,compound:Ge(E),keyPath:E,unique:w,multiEntry:I,extractKey:Ld(E)};return S[Zs(E)]=b,b}),getIndexByKeyPath:h=>S[Zs(h)]};return S[":id"]=p.primaryKey,d!=null&&(S[Zs(d)]=p.primaryKey),p})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),o=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:f,type:d,keys:m,values:_,range:v}){return new Promise((S,p)=>{S=ve(S);const h=f.objectStore(c),y=h.keyPath==null,w=d==="put"||d==="add";if(!w&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:I}=m||_||{length:1};if(m&&_&&m.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(I===0)return S({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const b=[],T=[];let k=0;const O=we=>{++k,Oo(we)};if(d==="deleteRange"){if(v.type===4)return S({numFailures:k,failures:T,results:[],lastResult:void 0});v.type===3?b.push(E=h.clear()):b.push(E=h.delete(r(v)))}else{const[we,Te]=w?y?[_,m]:[_,null]:[m,null];if(w)for(let he=0;he<I;++he)b.push(E=Te&&Te[he]!==void 0?h[d](we[he],Te[he]):h[d](we[he])),E.onerror=O;else for(let he=0;he<I;++he)b.push(E=h[d](we[he])),E.onerror=O}const C=we=>{const Te=we.target.result;b.forEach((he,Zn)=>he.error!=null&&(T[Zn]=he.error)),S({numFailures:k,failures:T,results:d==="delete"?m:b.map(he=>he.result),lastResult:Te})};E.onerror=we=>{O(we),C(we)},E.onsuccess=C})},getMany:({trans:f,keys:d})=>new Promise((m,_)=>{m=ve(m);const v=f.objectStore(c),S=d.length,p=new Array(S);let h,y=0,w=0;const I=b=>{const T=b.target;p[T._pos]=T.result,++w===y&&m(p)},E=dn(_);for(let b=0;b<S;++b)d[b]!=null&&(h=v.get(d[b]),h._pos=b,h.onsuccess=I,h.onerror=E,++y);y===0&&m(p)}),get:({trans:f,key:d})=>new Promise((m,_)=>{m=ve(m);const v=f.objectStore(c).get(d);v.onsuccess=S=>m(S.target.result),v.onerror=dn(_)}),query:function(f){return d=>new Promise((m,_)=>{m=ve(m);const{trans:v,values:S,limit:p,query:h}=d,y=p===1/0?void 0:p,{index:w,range:I}=h,E=v.objectStore(c),b=w.isPrimaryKey?E:E.index(w.name),T=r(I);if(p===0)return m({result:[]});if(f){const k=S?b.getAll(T,y):b.getAllKeys(T,y);k.onsuccess=O=>m({result:O.target.result}),k.onerror=dn(_)}else{let k=0;const O=S||!("openKeyCursor"in b)?b.openCursor(T):b.openKeyCursor(T),C=[];O.onsuccess=we=>{const Te=O.result;return Te?(C.push(S?Te.value:Te.primaryKey),++k===p?m({result:C}):void Te.continue()):m({result:C})},O.onerror=dn(_)}})}(s),openCursor:function({trans:f,values:d,query:m,reverse:_,unique:v}){return new Promise((S,p)=>{S=ve(S);const{index:h,range:y}=m,w=f.objectStore(c),I=h.isPrimaryKey?w:w.index(h.name),E=_?v?"prevunique":"prev":v?"nextunique":"next",b=d||!("openKeyCursor"in I)?I.openCursor(r(y),E):I.openKeyCursor(r(y),E);b.onerror=dn(p),b.onsuccess=ve(T=>{const k=b.result;if(!k)return void S(null);k.___id=++lE,k.done=!1;const O=k.continue.bind(k);let C=k.continuePrimaryKey;C&&(C=C.bind(k));const we=k.advance.bind(k),Te=()=>{throw new Error("Cursor not stopped")};k.trans=f,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=ve(p),k.next=function(){let he=1;return this.start(()=>he--?this.continue():this.stop()).then(()=>this)},k.start=he=>{const Zn=new Promise((Pe,R)=>{Pe=ve(Pe),b.onerror=dn(R),k.fail=R,k.stop=x=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=Te,Pe(x)}}),sn=()=>{if(b.result)try{he()}catch(Pe){k.fail(Pe)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return b.onsuccess=ve(Pe=>{b.onsuccess=sn,sn()}),k.continue=O,k.continuePrimaryKey=C,k.advance=we,sn(),Zn},S(k)},p)})},count({query:f,trans:d}){const{index:m,range:_}=f;return new Promise((v,S)=>{const p=d.objectStore(c),h=m.isPrimaryKey?p:p.index(m.name),y=r(_),w=y?h.count(y):h.count();w.onsuccess=ve(I=>v(I.target.result)),w.onerror=dn(S)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Ao(e),schema:i}}function Md({_novip:t},e){const n=e.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(c,f){return f.reduce((d,{create:m})=>({...d,...m(d)}),c)}(uE(s,o,l),i.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(i=>{const s=i.name;t.core.schema.tables.some(o=>o.name===s)&&(i.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=i.core))})}function eu({_novip:t},e,n,r){n.forEach(i=>{const s=r[i];e.forEach(o=>{const a=gh(o,i);(!a||"value"in a&&a.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?$n(o,i,{get(){return this.table(i)},set(l){T0(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new t.Table(i,s))})})}function Pd({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function cE(t,e){return t._cfg.version-e._cfg.version}function dE(t,e,n,r){const i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=B.transless||B;Rr(()=>{B.trans=s,B.transless=a,e===0?(Ae(i).forEach(l=>{uc(n,l,i[l].primKey,i[l].indexes)}),Md(t,n),A.follow(()=>t.on.populate.fire(s)).catch(o)):function({_novip:l},u,c,f){const d=[],m=l._versions;let _=l._dbSchema=jd(l,l.idbdb,f),v=!1;const S=m.filter(h=>h._cfg.version>=u);function p(){return d.length?A.resolve(d.shift()(c.idbtrans)).then(p):A.resolve()}return S.forEach(h=>{d.push(()=>{const y=_,w=h._cfg.dbschema;zd(l,y,f),zd(l,w,f),_=l._dbSchema=w;const I=Z0(y,w);I.add.forEach(b=>{uc(f,b[0],b[1].primKey,b[1].indexes)}),I.change.forEach(b=>{if(b.recreate)throw new D.Upgrade("Not yet support for changing primary key");{const T=f.objectStore(b.name);b.add.forEach(k=>Ud(T,k)),b.change.forEach(k=>{T.deleteIndex(k.name),Ud(T,k)}),b.del.forEach(k=>T.deleteIndex(k))}});const E=h._cfg.contentUpgrade;if(E&&h._cfg.version>u){Md(l,f),c._memoizedTables={},v=!0;let b=F0(w);I.del.forEach(C=>{b[C]=y[C]}),Pd(l,[l.Transaction.prototype]),eu(l,[l.Transaction.prototype],Ae(b),b),c.schema=b;const T=vh(E);let k;T&&ws();const O=A.follow(()=>{if(k=E(c),k&&T){var C=qn.bind(null,null);k.then(C,C)}});return k&&typeof k.then=="function"?A.resolve(k):O.then(()=>k)}}),d.push(y=>{(!v||!eE)&&function(w,I){[].slice.call(I.db.objectStoreNames).forEach(E=>w[E]==null&&I.db.deleteObjectStore(E))}(h._cfg.dbschema,y),Pd(l,[l.Transaction.prototype]),eu(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),p().then(()=>{var h,y;y=f,Ae(h=_).forEach(w=>{y.db.objectStoreNames.contains(w)||uc(y,w,h[w].primKey,h[w].indexes)})})}(t,e,s,n).catch(o)})}function Z0(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],s=e[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!bu)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,l=s.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const c=a[u],f=l[u];c?c.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function uc(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>Ud(i,s)),i}function Ud(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function jd(t,e,n){const r={};return Hl(e.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=Cd(J0(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let c=0;c<s.indexNames.length;++c){const f=s.index(s.indexNames[c]);o=f.keyPath;var u=Cd(f.name,o,!!f.unique,!!f.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}r[i]=X0(i,a,l)}),r}function zd({_novip:t},e,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);t._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,c=typeof u=="string"?u:"["+Hl(u).join("+")+"]";if(e[s]){const f=e[s].idxByName[c];f&&(f.name=l,delete e[s].idxByName[c],e[s].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ye.WorkerGlobalScope&&ye instanceof ye.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class fE{_parseStoresSpec(e,n){Ae(e).forEach(r=>{if(e[r]!==null){var i=e[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Cd(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Ge(u),a===0)}),s=i.shift();if(s.multi)throw new D.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")}),n[r]=X0(r,s,i)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?it(this._cfg.storesSource,e):e;const r=n._versions,i={};let s={};return r.forEach(o=>{it(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,Pd(n,[n._allTables,n,n.Transaction.prototype]),eu(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Ae(s),s),n._storeNames=Ae(s),this}upgrade(e){return this._cfg.contentUpgrade=Sh(this._cfg.contentUpgrade||ue,e),this}}function kh(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Zi(Iu,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Th(t){return t&&typeof t.databases=="function"}function $d(t){return Rr(function(){return B.letThrough=!0,t()})}function hE(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function pE(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Me(e.dbOpenError):t);Tn&&(e.openCanceller._stackHolder=yi()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new D.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,o=null,a=!1;return A.race([r,(typeof navigator>"u"?A.resolve():hE()).then(()=>new A((l,u)=>{if(i(),!n)throw new D.MissingAPI;const c=t.name,f=e.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!f)throw new D.MissingAPI;f.onerror=dn(u),f.onblocked=ve(t._fireOnBlocked),f.onupgradeneeded=ve(d=>{if(o=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=Oo,o.abort(),f.result.close();const _=n.deleteDatabase(c);_.onsuccess=_.onerror=ve(()=>{u(new D.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{o.onerror=dn(u);var m=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=m<1,t._novip.idbdb=f.result,dE(t,m/10,o,u)}},u),f.onsuccess=ve(()=>{o=null;const d=t._novip.idbdb=f.result,m=Hl(d.objectStoreNames);if(m.length>0)try{const v=d.transaction((_=m).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:S},p,h){S.verno=p.version/10;const y=S._dbSchema=jd(0,p,h);S._storeNames=Hl(p.objectStoreNames,0),eu(S,[S._allTables],Ae(y),y)}(t,d,v):(zd(t,t._dbSchema,v),function(S,p){const h=Z0(jd(0,S.idbdb,p),S._dbSchema);return!(h.add.length||h.change.some(y=>y.add.length||y.change.length))}(t,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Md(t,v)}catch{}var _;Js.push(t),d.onversionchange=ve(v=>{e.vcFired=!0,t.on("versionchange").fire(v)}),d.onclose=ve(v=>{t.on("close").fire(v)}),a&&function({indexedDB:v,IDBKeyRange:S},p){!Th(v)&&p!==Iu&&kh(v,S).put({name:p}).catch(ue)}(t._deps,c),l()},u)}))]).then(()=>(i(),e.onReadyBeingFired=[],A.resolve($d(()=>t.on.ready.fire(t.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let u=e.onReadyBeingFired.reduce(Sh,ue);return e.onReadyBeingFired=[],A.resolve($d(()=>u(t.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(l=>{e.dbOpenError=l;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),Me(l)}).finally(()=>{e.openComplete=!0,s()})}function Vd(t){var e=s=>t.next(s),n=i(e),r=i(s=>t.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):Ge(l)?Promise.all(l).then(n,r):n(l)}}return i(e)()}function yE(t,e,n){var r=arguments.length;if(r<2)throw new D.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,A0(i),n]}function e_(t,e,n,r,i){return A.resolve().then(()=>{const s=B.transless||B,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===wh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>e_(t,e,n,null,i))):Me(f)}const l=vh(i);let u;l&&ws();const c=A.follow(()=>{if(u=i.call(o,o),u)if(l){var f=qn.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Vd(u))},a);return(u&&typeof u.then=="function"?A.resolve(u).then(f=>o.active?f:Me(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(r&&o._resolve(),o._completion.then(()=>f))).catch(f=>(o._reject(f),Me(f)))})}function Sa(t,e,n){const r=Ge(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}const mE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},s=[];function o(c,f,d){const m=Zs(c),_=i[m]=i[m]||[],v=c==null?0:typeof c=="string"?1:c.length,S=f>0,p={...d,isVirtual:S,keyTail:f,keyLength:v,extractKey:Ld(c),unique:!S&&d.unique};return _.push(p),p.isPrimaryKey||s.push(p),v>1&&o(v===2?c[0]:c.slice(0,v-1),f+1,d),_.sort((h,y)=>h.keyTail-y.keyTail),p}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const c of r.indexes)o(c.keyPath,0,c);function l(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(d=c.query.range,m=f.keyTail,{type:d.type===1?2:d.type,lower:Sa(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:Sa(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0})}}:c;var d,m}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(c){const f=i[Zs(c)];return f&&f[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:f,isVirtual:d,keyLength:m}=c.query.index;return d?n.openCursor(l(c)).then(_=>_&&function(v){return Object.create(v,{continue:{value:function(p){p!=null?v.continue(Sa(p,c.reverse?t.MAX_KEY:t.MIN_KEY,f)):c.unique?v.continue(v.key.slice(0,m).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,f)):v.continue()}},continuePrimaryKey:{value(p,h){v.continuePrimaryKey(Sa(p,t.MAX_KEY,f),h)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const p=v.key;return m===1?p[0]:p.slice(0,m)}},value:{get:()=>v.value}})}(_)):n.openCursor(c)}}}}}};function Nh(t,e,n,r){return n=n||{},r=r||"",Ae(t).forEach(i=>{if(At(e,i)){var s=t[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=bd(s);a!==bd(o)?n[r+i]=e[i]:a==="Object"?Nh(s,o,n,r+i+"."):s!==o&&(n[r+i]=e[i])}else s!==o&&(n[r+i]=e[i])}else n[r+i]=void 0}),Ae(e).forEach(i=>{At(t,i)||(n[r+i]=e[i])}),n}const gE={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=B.trans,{deleting:a,creating:l,updating:u}=o.table(e).hook;switch(s.type){case"add":if(l.fire===ue)break;return o._promise("readwrite",()=>c(s),!0);case"put":if(l.fire===ue&&u.fire===ue)break;return o._promise("readwrite",()=>c(s),!0);case"delete":if(a.fire===ue)break;return o._promise("readwrite",()=>c(s),!0);case"deleteRange":if(a.fire===ue)break;return o._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function c(d){const m=B.trans,_=d.keys||function(v,S){return S.type==="delete"?S.keys:S.keys||S.values.map(v.extractKey)}(r,d);if(!_)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:_}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(v,S,p){return S.type==="add"?Promise.resolve([]):v.getMany({trans:S.trans,keys:p,cache:"immutable"})}(n,d,_).then(v=>{const S=_.map((p,h)=>{const y=v[h],w={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call(w,p,y,m);else if(d.type==="add"||y===void 0){const I=l.fire.call(w,p,d.values[h],m);p==null&&I!=null&&(p=I,d.keys[h]=p,r.outbound||en(d.values[h],r.keyPath,p))}else{const I=Nh(y,d.values[h]),E=u.fire.call(w,I,p,y,m);if(E){const b=d.values[h];Object.keys(E).forEach(T=>{At(b,T)?b[T]=E[T]:en(b,T,E[T])})}}return w});return n.mutate(d).then(({failures:p,results:h,numFailures:y,lastResult:w})=>{for(let I=0;I<_.length;++I){const E=h?h[I]:_[I],b=S[I];E==null?b.onerror&&b.onerror(p[I]):b.onsuccess&&b.onsuccess(d.type==="put"&&v[I]?d.values[I]:E)}return{failures:p,results:h,numFailures:y,lastResult:w}}).catch(p=>(S.forEach(h=>h.onerror&&h.onerror(p)),Promise.reject(p)))})}function f(d,m,_){return n.query({trans:d,values:!1,query:{index:r,range:m},limit:_}).then(({result:v})=>c({type:"delete",keys:v,trans:d}).then(S=>S.numFailures>0?Promise.reject(S.failures[0]):v.length<_?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...m,lower:v[v.length-1],lowerOpen:!0},_)))}}}}})};function t_(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let i=0,s=0;i<e.keys.length&&s<t.length;++i)nt(e.keys[i],t[s])===0&&(r.push(n?Vo(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}const vE={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=t_(r.keys,r.trans._cache,r.cache==="clone");return i?A.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Vo(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rh(t){return!("from"in t)}const xn=function(t,e){if(!this){const n=new xn;return t&&"d"in t&&it(n,t),n}it(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Bo(t,e,n){const r=nt(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rh(t))return it(t,{from:e,to:n,d:1});const i=t.l,s=t.r;if(nt(n,t.from)<0)return i?Bo(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},gy(t);if(nt(e,t.to)>0)return s?Bo(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},gy(t);nt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),nt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;i&&!t.l&&tu(t,i),s&&o&&tu(t,s)}function tu(t,e){Rh(e)||function n(r,{from:i,to:s,l:o,r:a}){Bo(r,i,s),o&&n(r,o),a&&n(r,a)}(t,e)}function _E(t,e){const n=Kd(e);let r=n.next();if(r.done)return!1;let i=r.value;const s=Kd(t);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(nt(a.from,i.to)<=0&&nt(a.to,i.from)>=0)return!0;nt(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Kd(t){let e=Rh(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&nt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||nt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function gy(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...t},a=t[i];t.from=a.from,t.to=a.to,t[i]=a[i],o[i]=a[s],t[s]=o,o.d=vy(o)}t.d=vy(t)}function vy({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}ps(xn.prototype,{add(t){return tu(this,t),this},addKey(t){return Bo(this,t,t),this},addKeys(t){return t.forEach(e=>Bo(this,e,e)),this},[Id](){return Kd(this)}});const wE={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new xn(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const i=t.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,u={...i,mutate:d=>{const m=d.trans,_=m.mutatedParts||(m.mutatedParts={}),v=E=>{const b=`idb://${e}/${r}/${E}`;return _[b]||(_[b]=new xn)},S=v(""),p=v(":dels"),{type:h}=d;let[y,w]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const I=d.trans._cache;return i.mutate(d).then(E=>{if(Ge(y)){h!=="delete"&&(y=E.results),S.addKeys(y);const b=t_(y,I);b||h==="add"||p.addKeys(y),(b||w)&&function(T,k,O,C){function we(Te){const he=T(Te.name||"");function Zn(Pe){return Pe!=null?Te.extractKey(Pe):null}const sn=Pe=>Te.multiEntry&&Ge(Pe)?Pe.forEach(R=>he.addKey(R)):he.addKey(Pe);(O||C).forEach((Pe,R)=>{const x=O&&Zn(O[R]),W=C&&Zn(C[R]);nt(x,W)!==0&&(x!=null&&sn(x),W!=null&&sn(W))})}k.indexes.forEach(we)}(v,s,b,w)}else if(y){const b={from:y.lower,to:y.upper};p.add(b),S.add(b)}else S.add(n),p.add(n),s.indexes.forEach(b=>v(b.name).add(n));return E})}},c=({query:{index:d,range:m}})=>{var _,v;return[d,new xn((_=m.lower)!==null&&_!==void 0?_:t.MIN_KEY,(v=m.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},f={get:d=>[o,new xn(d.key)],getMany:d=>[o,new xn().addKeys(d.keys)],count:c,query:c,openCursor:c};return Ae(f).forEach(d=>{u[d]=function(m){const{subscr:_}=B;if(_){const v=w=>{const I=`idb://${e}/${r}/${w}`;return _[I]||(_[I]=new xn)},S=v(""),p=v(":dels"),[h,y]=f[d](m);if(v(h.name||"").add(y),!h.isPrimaryKey){if(d!=="count"){const w=d==="query"&&l&&m.values&&i.query({...m,values:!1});return i[d].apply(this,arguments).then(I=>{if(d==="query"){if(l&&m.values)return w.then(({result:b})=>(S.addKeys(b),I));const E=m.values?I.result.map(a):I.result;m.values?S.addKeys(E):p.addKeys(E)}else if(d==="openCursor"){const E=I,b=m.values;return E&&Object.create(E,{key:{get:()=>(p.addKey(E.primaryKey),E.key)},primaryKey:{get(){const T=E.primaryKey;return p.addKey(T),T}},value:{get:()=>(b&&S.addKey(E.primaryKey),E.value)}})}return I})}p.add(n)}}return i[d].apply(this,arguments)}}),u}}}};class Zi{constructor(e,n){this._middlewares={},this.verno=0;const r=Zi.dependencies;this._options=n={addons:Zi.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new A(a=>{s.dbReadyResolve=a}),s.openCanceller=new A((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=e,this.on=Xs(this,"populate","blocked","versionchange","close",{ready:[Sh,ue]}),this.on.ready.subscribe=N0(this.on.ready.subscribe,a=>(l,u)=>{Zi.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||A.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);const f=this;u||a(function d(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(d)})}})}),this.Collection=(o=this,As(rE.prototype,function(a,l){this.db=o;let u=H0,c=null;if(l)try{u=l()}catch(_){c=_}const f=a._ctx,d=f.table,m=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:m!==No?m:null}})),this.Table=function(a){return As(nE.prototype,function(l,u,c){this.db=a,this._tx=c,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:Xs(null,{creating:[KI,ue],reading:[VI,No],updating:[QI,ue],deleting:[WI,ue]})})}(this),this.Transaction=function(a){return As(aE.prototype,function(l,u,c,f,d){this.db=a,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=Xs(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new A((m,_)=>{this._resolve=m,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var _=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):_&&this.idbtrans&&this.idbtrans.abort(),Me(m)})})}(this),this.Version=function(a){return As(fE.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return As(G0.prototype,function(l,u,c){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:c};const f=a._deps.indexedDB;if(!f)throw new D.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,m)=>f.cmp(m,d),this._max=(d,m)=>f.cmp(d,m)>0?d:m,this._min=(d,m)=>f.cmp(d,m)<0?d:m,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Ao(n.IDBKeyRange),this._createTransaction=(a,l,u,c)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Js.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(mE),this.use(gE),this.use(wE),this.use(vE),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new D.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(cE),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||B.letThrough||this._vip)?e():new A((n,r)=>{if(this._state.openComplete)return r(new D.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new D.DatabaseClosed);this.open().catch(ue)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:i}){i&&this.unuse({stack:e,name:i});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return pE(this)}_close(){const e=this._state,n=Js.indexOf(this);if(n>=0&&Js.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new A(r=>{e.dbReadyResolve=r}),e.openCanceller=new A((r,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new D.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new A((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=ve(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!Th(a)&&u!==Iu&&kh(a,l).delete(u).catch(ue)})(this._deps,this.name),r()}),o.onerror=dn(i),o.onblocked=this._fireOnBlocked};if(e)throw new D.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ae(this._allTables).map(e=>this._allTables[e])}transaction(){const e=yE.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let i=B.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);const s=e.indexOf("?")!==-1;let o,a;e=e.replace("!","").replace("?","");try{if(a=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===ic)o=ic;else{if(e!="rw"&&e!=sc)throw new D.InvalidArgument("Invalid transaction mode: "+e);o=sc}if(i){if(i.mode===ic&&o===sc){if(!s)throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new D.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,f)=>{f(u)}):Me(u)}const l=e_.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):B.trans?Ss(B.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!At(this._allTables,e))throw new D.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const SE=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class bE{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[SE](){return this}}function n_(t,e){return Ae(e).forEach(n=>{tu(t[n]||(t[n]=new xn),e[n])}),t}function IE(t){let e,n=!1;const r=new bE(i=>{const s=vh(t);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Fr.storagemutated.unsubscribe(m)}};i.start&&i.start(u);let c=!1,f=!1;function d(){return Ae(l).some(v=>a[v]&&_E(a[v],l[v]))}const m=v=>{n_(a,v),d()&&_()},_=()=>{if(c||o)return;a={};const v={},S=function(p){s&&ws();const h=()=>Rr(t,{subscr:p,trans:null}),y=B.trans?Ss(B.transless,h):h();return s&&y.then(qn,qn),y}(v);f||(Fr(Fo,m),f=!0),c=!0,Promise.resolve(S).then(p=>{n=!0,e=p,c=!1,o||(d()?_():(a={},l=v,i.next&&i.next(p)))},p=>{c=!1,n=!1,i.error&&i.error(p),u.unsubscribe()})};return _(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let Wd;try{Wd={indexedDB:ye.indexedDB||ye.mozIndexedDB||ye.webkitIndexedDB||ye.msIndexedDB,IDBKeyRange:ye.IDBKeyRange||ye.webkitIDBKeyRange}}catch{Wd={indexedDB:null,IDBKeyRange:null}}const jr=Zi;function Ya(t){let e=jn;try{jn=!0,Fr.storagemutated.fire(t)}finally{jn=e}}ps(jr,{...za,delete:t=>new jr(t,{addons:[]}).delete(),exists:t=>new jr(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return Th(e)?Promise.resolve(e.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Iu)):kh(e,n).toCollection().primaryKeys()}(jr.dependencies).then(t)}catch{return Me(new D.MissingAPI)}},defineClass:()=>function(t){it(this,t)},ignoreTransaction:t=>B.trans?Ss(B.transless,t):t(),vip:$d,async:function(t){return function(){try{var e=Vd(t.apply(this,arguments));return e&&typeof e.then=="function"?e:A.resolve(e)}catch(n){return Me(n)}}},spawn:function(t,e,n){try{var r=Vd(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:A.resolve(r)}catch(i){return Me(i)}},currentTransaction:{get:()=>B.trans||null},waitFor:function(t,e){const n=A.resolve(typeof t=="function"?jr.ignoreTransaction(t):t).timeout(e||6e4);return B.trans?B.trans.waitFor(n):n},Promise:A,debug:{get:()=>Tn,set:t=>{D0(t,t==="dexie"?()=>!0:Y0)}},derive:Gi,extend:it,props:ps,override:N0,Events:Xs,on:Fr,liveQuery:IE,extendObservabilitySet:n_,getByKeyPath:Vn,setByKeyPath:en,delByKeyPath:function(t,e){typeof e=="string"?en(t,e,void 0):"length"in e&&[].map.call(e,function(n){en(t,n,void 0)})},shallowClone:F0,deepClone:Vo,getObjectDiff:Nh,cmp:nt,asap:R0,minKey:xd,addons:[],connections:Js,errnames:wh,dependencies:Wd,semVer:dy,version:dy.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),jr.maxKey=Ao(jr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fr(Fo,t=>{if(!jn){let e;bu?(e=document.createEvent("CustomEvent"),e.initCustomEvent(cr,!0,!0,t)):e=new CustomEvent(cr,{detail:t}),jn=!0,dispatchEvent(e),jn=!1}}),addEventListener(cr,({detail:t})=>{jn||Ya(t)}));let jn=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(cr);typeof t.unref=="function"&&t.unref(),Fr(Fo,e=>{jn||t.postMessage(e)}),t.onmessage=e=>{e.data&&Ya(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Fr(Fo,e=>{try{jn||(typeof localStorage<"u"&&localStorage.setItem(cr,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:cr,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===cr){const n=JSON.parse(e.newValue);n&&Ya(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===cr&&Ya(e.changedParts)})}A.rejectionMapper=function(t,e){if(!t||t instanceof Ji||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ay[t.name])return t;var n=new ay[t.name](e||t.message,t);return"stack"in t&&$n(n,"stack",{get:function(){return this.inner.stack}}),n},D0(Tn,Y0);class EE{constructor({instanceManager:e,logger:n,onEvent:r,communication:i}){ne(this,"instanceManager");ne(this,"communication");ne(this,"logger");ne(this,"onEvent");ne(this,"mountedTablesMap",new Map);this.instanceManager=e,this.logger=n,this.onEvent=r,this.communication=i}async bulkRegisterFileBuffer(e){const n=e.map(r=>this.registerFileBuffer(r));await Promise.all(n)}async registerFileBuffer(e){await(await this.instanceManager.getDB()).registerFileBuffer(e.fileName,e.buffer)}async bulkRegisterJSON(e){const n=e.map(r=>this.registerJSON(r));await Promise.all(n)}async registerJSON(e){const{json:n,tableName:r,...i}=e,s=await BI({instanceManager:this.instanceManager,json:n,tableName:r,logger:this.logger,onEvent:this.onEvent,metadata:e.metadata});await this.registerFileBuffer({buffer:s,tableName:r,...i})}getFileBuffer(e){throw new Error("Method not implemented.")}async mountFileBufferByTables(e){var u;const n=e.filter(c=>!this.mountedTablesMap.has(c.name));if(n.length===0)return;const r=new Map,i=performance.now(),a=(await this.communication.sendRequest({type:wi.RUNNER_GET_FILE_BUFFERS,payload:{tables:n}})).message.map(c=>{const f=V1(c.buffer),d=r.get(c.tableName)??[];return d.push(c.fileName),r.set(c.tableName,d),{...c,buffer:f}}),l=performance.now();(u=this.onEvent)==null||u.call(this,{event_name:"clone_buffer_duration",duration:l-i}),await this.bulkRegisterFileBuffer(a),r.forEach((c,f)=>{this.mountedTablesMap.set(f,c.map(d=>({fileName:d,tableName:f})))})}async getFilesNameForTables(e){return e.map(r=>r.name).map(r=>{const i=this.mountedTablesMap.get(r)??[];return{tableName:r,files:i}})}async getTableData(e){}async setTableMetadata(e,n){}async dropFilesByTableName(e,n){}async onDBShutdownHandler(){}}var r_={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(l_,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function s(v,S){var p=v[S];if(typeof p.bind=="function")return p.bind(v);try{return Function.prototype.bind.call(p,v)}catch{return function(){return Function.prototype.apply.apply(p,[v,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?o:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):e}function l(v,S){for(var p=0;p<i.length;p++){var h=i[p];this[h]=p<v?e:this.methodFactory(h,v,S)}this.log=this.debug}function u(v,S,p){return function(){typeof console!==n&&(l.call(this,S,p),this[v].apply(this,arguments))}}function c(v,S,p){return a(v)||u.apply(this,arguments)}function f(v,S,p){var h=this,y;S=S??"WARN";var w="loglevel";typeof v=="string"?w+=":"+v:typeof v=="symbol"&&(w=void 0);function I(k){var O=(i[k]||"silent").toUpperCase();if(!(typeof window===n||!w)){try{window.localStorage[w]=O;return}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+O+";"}catch{}}}function E(){var k;if(!(typeof window===n||!w)){try{k=window.localStorage[w]}catch{}if(typeof k===n)try{var O=window.document.cookie,C=O.indexOf(encodeURIComponent(w)+"=");C!==-1&&(k=/^([^;]+)/.exec(O.slice(C))[1])}catch{}return h.levels[k]===void 0&&(k=void 0),k}}function b(){if(!(typeof window===n||!w)){try{window.localStorage.removeItem(w);return}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}h.name=v,h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=p||c,h.getLevel=function(){return y},h.setLevel=function(k,O){if(typeof k=="string"&&h.levels[k.toUpperCase()]!==void 0&&(k=h.levels[k.toUpperCase()]),typeof k=="number"&&k>=0&&k<=h.levels.SILENT){if(y=k,O!==!1&&I(k),l.call(h,k,v),typeof console===n&&k<h.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+k},h.setDefaultLevel=function(k){S=k,E()||h.setLevel(k,!1)},h.resetLevel=function(){h.setLevel(S,!1),b()},h.enableAll=function(k){h.setLevel(h.levels.TRACE,k)},h.disableAll=function(k){h.setLevel(h.levels.SILENT,k)};var T=E();T==null&&(T=S),h.setLevel(T,!1)}var d=new f,m={};d.getLogger=function(S){if(typeof S!="symbol"&&typeof S!="string"||S==="")throw new TypeError("You must supply a name when creating a logger.");var p=m[S];return p||(p=m[S]=new f(S,d.getLevel(),d.methodFactory)),p};var _=typeof window!==n?window.log:void 0;return d.noConflict=function(){return typeof window!==n&&window.log===d&&(window.log=_),d},d.getLoggers=function(){return m},d.default=d,d})})(r_);var kE=r_.exports;const _y=Sy(kE);var TE=Object.create,i_=Object.defineProperty,NE=Object.getOwnPropertyDescriptor,RE=Object.getOwnPropertyNames,OE=Object.getPrototypeOf,FE=Object.prototype.hasOwnProperty,AE=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),BE=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of RE(e))!FE.call(t,i)&&i!==n&&i_(t,i,{get:()=>e[i],enumerable:!(r=NE(e,i))||r.enumerable});return t},DE=(t,e,n)=>(n=t!=null?TE(OE(t)):{},BE(e||!t||!t.__esModule?i_(n,"default",{value:t,enumerable:!0}):n,t)),xE=AE((t,e)=>{e.exports=Worker}),CE=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(CE||{}),LE=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(LE||{}),ME=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(ME||{}),PE=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(PE||{}),UE=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(UE||{}),jE=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(jE||{}),zE=(t=>(t[t.SUCCESS=0]="SUCCESS",t))(zE||{}),$E=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),n=$t.from(e);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new Ze(n)}async send(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.startPendingQuery(this._conn,t);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let n=new s_(this._bindings,this._conn,e),r=await $t.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new VE(this._bindings,this._conn,e)}async insertArrowTable(t,e){let n=NI(t,"stream");await this.insertArrowFromIPCStream(n,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},s_=class{constructor(t,e,n){this.db=t,this.conn=e,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t;return this._inFlight!=null?(t=await this._inFlight,this._inFlight=null):t=await this.db.fetchQueryResults(this.conn),this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},VE=class{constructor(t,e,n){this.bindings=t,this.connectionId=e,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),n=$t.from(e);return console.assert(n.isSync()),console.assert(n.isFile()),new Ze(n)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),n=new s_(this.bindings,this.connectionId,e),r=await $t.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},KE=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(KE||{}),WE=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(WE||{}),X=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function Ha(t){switch(t.typeId){case g.Binary:return{sqlType:"binary"};case g.Bool:return{sqlType:"bool"};case g.Date:return{sqlType:"date"};case g.DateDay:return{sqlType:"date32[d]"};case g.DateMillisecond:return{sqlType:"date64[ms]"};case g.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case g.Float:return{sqlType:"float"};case g.Float16:return{sqlType:"float16"};case g.Float32:return{sqlType:"float32"};case g.Float64:return{sqlType:"float64"};case g.Int:return{sqlType:"int32"};case g.Int16:return{sqlType:"int16"};case g.Int32:return{sqlType:"int32"};case g.Int64:return{sqlType:"int64"};case g.Uint16:return{sqlType:"uint16"};case g.Uint32:return{sqlType:"uint32"};case g.Uint64:return{sqlType:"uint64"};case g.Uint8:return{sqlType:"uint8"};case g.IntervalDayTime:return{sqlType:"interval[dt]"};case g.IntervalYearMonth:return{sqlType:"interval[m]"};case g.List:return{sqlType:"list",valueType:Ha(t.valueType)};case g.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case g.Null:return{sqlType:"null"};case g.Utf8:return{sqlType:"utf8"};case g.Struct:return{sqlType:"struct",fields:t.children.map(e=>Qd(e.name,e.type))};case g.Map:{let e=t;return{sqlType:"map",keyType:Ha(e.keyType),valueType:Ha(e.valueType)}}case g.Time:return{sqlType:"time[s]"};case g.TimeMicrosecond:return{sqlType:"time[us]"};case g.TimeMillisecond:return{sqlType:"time[ms]"};case g.TimeNanosecond:return{sqlType:"time[ns]"};case g.TimeSecond:return{sqlType:"time[s]"};case g.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case g.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case g.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case g.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case g.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function Qd(t,e){let n=Ha(e);return n.name=t,n}var QE=new TextEncoder,YE=class{constructor(t,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,n)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,t),this._worker.postMessage({messageId:n,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let n=t.data;switch(n.type){case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(e=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&e.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new X("RESET",null);return await this.postTask(t)}async ping(){let t=new X("PING",null);await this.postTask(t)}async dropFile(t){let e=new X("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new X("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new X("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new X("INSTANTIATE",[t,e]);return await this.postTask(r)}async getVersion(){let t=new X("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new X("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new X("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new X("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new X("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new $E(this,t)}async disconnect(t){let e=new X("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let n=new X("RUN_QUERY",[t,e]);return await this.postTask(n)}async startPendingQuery(t,e){let n=new X("START_PENDING_QUERY",[t,e]);return await this.postTask(n)}async pollPendingQuery(t){let e=new X("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new X("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new X("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let n=new X("GET_TABLE_NAMES",[t,e]);return await this.postTask(n)}async createPrepared(t,e){let n=new X("CREATE_PREPARED",[t,e]);return await this.postTask(n)}async closePrepared(t,e){let n=new X("CLOSE_PREPARED",[t,e]);await this.postTask(n)}async runPrepared(t,e,n){let r=new X("RUN_PREPARED",[t,e,n]);return await this.postTask(r)}async sendPrepared(t,e,n){let r=new X("SEND_PREPARED",[t,e,n]);return await this.postTask(r)}async globFiles(t){let e=new X("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let n=QE.encode(e);await this.registerFileBuffer(t,n)}async registerFileURL(t,e,n,r){e===void 0&&(e=t);let i=new X("REGISTER_FILE_URL",[t,e,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(t){let e=new X("REGISTER_FILE_BUFFER",[t,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(t,e){let n=new X("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(n,[e.buffer])}async registerFileHandle(t,e,n,r){let i=new X("REGISTER_FILE_HANDLE",[t,e,n,r]);await this.postTask(i,[])}async collectFileStatistics(t,e){let n=new X("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(n,[])}async exportFileStatistics(t){let e=new X("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new X("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let n=new X("COPY_FILE_TO_PATH",[t,e]);await this.postTask(n)}async insertArrowFromIPCStream(t,e,n){if(e.length==0)return;let r=new X("INSERT_ARROW_FROM_IPC_STREAM",[t,e,n]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(Qd(s,o))}n.columnsFlat=i,delete n.columns}let r=new X("IMPORT_CSV_FROM_PATH",[t,e,n]);await this.postTask(r)}async insertJSONFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(Qd(s,o))}n.columnsFlat=i,delete n.columns}let r=new X("IMPORT_JSON_FROM_PATH",[t,e,n]);await this.postTask(r)}},HE=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),qE=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),GE=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),JE=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Oh={name:"@devrev/duckdb-wasm",version:"1.14.3",description:"DevRev fork of DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"git+https://github.com/devrev/duckdb-wasm.git"},publishConfig:{registry:"https://registry.npmjs.org"},author:"devrev",keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^13.0.0"},devDependencies:{"@types/emscripten":"^1.39.7","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^6.5.0","@typescript-eslint/parser":"^6.4.1",esbuild:"^0.18.13",eslint:"^8.47.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.33.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.0.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.0.2",puppeteer:"^21.1.1",rimraf:"^5.0.1",s3rver:"^3.7.1",typedoc:"^0.25.0",typescript:"^5.1.6","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},XE=Oh.name,ZE=Oh.version,Fh=Oh.version.split(".");Fh[0];Fh[1];Fh[2];var ek=()=>typeof navigator>"u";function tk(){let t="https://cdn.jsdelivr.net/npm/".concat(XE,"@").concat(ZE,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var cc=null,dc=null,fc=null,hc=null,pc=null;async function nk(){return cc==null&&(cc=typeof BigInt64Array<"u"),dc==null&&(dc=await qE()),fc==null&&(fc=await JE()),hc==null&&(hc=await GE()),pc==null&&(pc=await HE()),{bigInt64Array:cc,crossOriginIsolated:ek()||globalThis.crossOriginIsolated||!1,wasmExceptions:dc,wasmSIMD:hc,wasmThreads:fc,wasmBulkMemory:pc}}async function rk(t){let e=await nk();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}DE(xE());function ik(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}ik();var sk=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(sk||{});const ok=tk();class ak{constructor(){ne(this,"db",null)}async initDB(){const e=await rk(ok),n=URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"})),r=new Worker(n),i={log:o=>console.log(o)},s=new YE(i,r);return await s.instantiate(e.mainModule,e.pthreadWorker),URL.revokeObjectURL(n),s}async getDB(){return this.db||(console.info("Creating new DB"),this.db=await this.initDB()),this.db}async terminateDB(){var e;console.info("terminateDB"),await((e=this.db)==null?void 0:e.terminate()),this.db=null}}function wy(t){const e=Et.useRef(),n=Et.useRef(!1),r=Et.useRef(!1),[,i]=Et.useState(0);n.current&&(r.current=!0),Et.useEffect(()=>(n.current||(e.current=t(),n.current=!0),i(s=>s+1),()=>{r.current&&e.current&&e.current()}),[])}function lk(){const t=Et.useRef(!1),e=Et.useRef(),n=Et.useRef(),r=Et.useRef(),i=Et.useRef(),s=new URLSearchParams(window.location.search),o=s.get("uuid")??"",a=s.get("origin");return e.current||(e.current=new $1({app_name:U1(o),origin:a,targetApp:j1(o),targetWindow:window.parent})),n.current||(n.current=new ak),r.current||(r.current=new EE({instanceManager:n.current,fetchTableFileBuffers:async()=>[],logger:_y,onEvent:l=>{var u;(u=e.current)==null||u.sendRequestWithoutResponse({type:wi.RUNNER_ON_EVENT,payload:l})},communication:e.current})),i.current||(i.current=new P1({instanceManager:n.current,fileManager:r.current,logger:_y,onEvent:l=>{var u;(u=e.current)==null||u.sendRequestWithoutResponse({type:wi.RUNNER_ON_EVENT,payload:l})}})),wy(()=>{var l;t.current||((l=e.current)==null||l.onMessage(u=>{var c;switch(u.message.type){case wi.EXEC_QUERY:(c=i.current)==null||c.queryWithTables({...u.message.payload,options:{...u.message.payload.options,preQuery:async f=>{var _,v;const d=await((_=e.current)==null?void 0:_.sendRequest({type:wi.RUNNER_PRE_QUERY,payload:{runnerId:o,tableWiseFiles:f}})),m=(d==null?void 0:d.message)??[];for(const S of m)await((v=i.current)==null?void 0:v.query(S))}}}).then(f=>{var d;(d=e.current)==null||d.sendResponse(u.uuid,{data:AI(f),isError:!1,error:null})}).catch(f=>{var d;(d=e.current)==null||d.sendResponse(u.uuid,{data:null,isError:!0,error:f})});break}}),t.current=!0)}),wy(()=>{(async()=>{var l,u;await((l=i.current)==null?void 0:l.query("SELECT 1")),(u=e.current)==null||u.sendRequestWithoutResponse({type:wi.RUNNER_ON_READY})})()}),yc.jsx("div",{children:"Runners "})}const uk=Cg(document.getElementById("root"));uk.render(yc.jsx(Et.StrictMode,{children:yc.jsx(lk,{})}));

</script>
    <style>

</style>
  </head>
  <body>
    <div id="root"></div>
    
  </body>
</html>
