<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MeerkatBrowserRunner</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <script type="module" crossorigin>
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ly={exports:{}},su={},Cy={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=Symbol.for("react.element"),x_=Symbol.for("react.portal"),L_=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),M_=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),j_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),V_=Symbol.for("react.lazy"),Ah=Symbol.iterator;function K_(t){return t===null||typeof t!="object"?null:(t=Ah&&t[Ah]||t["@@iterator"],typeof t=="function"?t:null)}var My={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Py=Object.assign,Uy={};function as(t,e,n){this.props=t,this.context=e,this.refs=Uy,this.updater=n||My}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zy(){}zy.prototype=as.prototype;function Xd(t,e,n){this.props=t,this.context=e,this.refs=Uy,this.updater=n||My}var Zd=Xd.prototype=new zy;Zd.constructor=Xd;Py(Zd,as.prototype);Zd.isPureReactComponent=!0;var xh=Array.isArray,jy=Object.prototype.hasOwnProperty,ef={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Vy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jy.call(e,r)&&!$y.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bo,type:t,key:s,ref:o,props:i,_owner:ef.current}}function W_(t,e){return{$$typeof:Bo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bo}function Q_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lh=/\/+/g;function Ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q_(""+t.key):e.toString(36)}function wa(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bo:case x_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ou(o,0):r,xh(i)?(n="",t!=null&&(n=t.replace(Lh,"$&/")+"/"),wa(i,e,n,"",function(u){return u})):i!=null&&(tf(i)&&(i=W_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xh(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ou(s,a);o+=wa(s,e,n,l,i)}else if(l=K_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ou(s,a++),o+=wa(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qo(t,e,n){if(t==null)return t;var r=[],i=0;return wa(t,r,"","",function(s){return e.call(n,s,i++)}),r}function H_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},Sa={transition:null},Y_={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:ef};Z.Children={map:Qo,forEach:function(t,e,n){Qo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qo(t,function(){e++}),e},toArray:function(t){return Qo(t,function(e){return e})||[]},only:function(t){if(!tf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=as;Z.Fragment=L_;Z.Profiler=M_;Z.PureComponent=Xd;Z.StrictMode=C_;Z.Suspense=j_;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Py({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ef.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jy.call(e,l)&&!$y.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bo,type:t.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:U_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P_,_context:t},t.Consumer=t};Z.createElement=Vy;Z.createFactory=function(t){var e=Vy.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:z_,render:t}};Z.isValidElement=tf;Z.lazy=function(t){return{$$typeof:V_,_payload:{_status:-1,_result:t},_init:H_}};Z.memo=function(t,e){return{$$typeof:$_,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Sa.transition;Sa.transition={};try{t()}finally{Sa.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return lt.current.useCallback(t,e)};Z.useContext=function(t){return lt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return lt.current.useEffect(t,e)};Z.useId=function(){return lt.current.useId()};Z.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return lt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};Z.useRef=function(t){return lt.current.useRef(t)};Z.useState=function(t){return lt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return lt.current.useTransition()};Z.version="18.2.0";Cy.exports=Z;var Tt=Cy.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=Tt,G_=Symbol.for("react.element"),J_=Symbol.for("react.fragment"),X_=Object.prototype.hasOwnProperty,Z_=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function Ky(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)X_.call(e,r)&&!ew.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:G_,type:t,key:s,ref:o,props:i,_owner:Z_.current}}su.Fragment=J_;su.jsx=Ky;su.jsxs=Ky;Ly.exports=su;var _c=Ly.exports,Wy={exports:{}},Bt={},Qy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,W){var Y=k.length;k.push(W);e:for(;0<Y;){var Oe=Y-1>>>1,ze=k[Oe];if(0<i(ze,W))k[Oe]=W,k[Y]=ze,Y=Oe;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],Y=k.pop();if(Y!==W){k[0]=Y;e:for(var Oe=0,ze=k.length,Ko=ze>>>1;Oe<Ko;){var Br=2*(Oe+1)-1,ku=k[Br],Fr=Br+1,Wo=k[Fr];if(0>i(ku,Y))Fr<ze&&0>i(Wo,ku)?(k[Oe]=Wo,k[Fr]=Y,Oe=Fr):(k[Oe]=ku,k[Br]=Y,Oe=Br);else if(Fr<ze&&0>i(Wo,Y))k[Oe]=Wo,k[Fr]=Y,Oe=Fr;else break e}}return W}function i(k,W){var Y=k.sortIndex-W.sortIndex;return Y!==0?Y:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,_=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=k)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function w(k){if(v=!1,m(k),!_)if(n(l)!==null)_=!0,sn(S);else{var W=n(u);W!==null&&Ue(w,W.startTime-k)}}function S(k,W){_=!1,v&&(v=!1,h(N),N=-1),g=!0;var Y=f;try{for(m(W),d=n(l);d!==null&&(!(d.expirationTime>W)||k&&!R());){var Oe=d.callback;if(typeof Oe=="function"){d.callback=null,f=d.priorityLevel;var ze=Oe(d.expirationTime<=W);W=t.unstable_now(),typeof ze=="function"?d.callback=ze:d===n(l)&&r(l),m(W)}else r(l);d=n(l)}if(d!==null)var Ko=!0;else{var Br=n(u);Br!==null&&Ue(w,Br.startTime-W),Ko=!1}return Ko}finally{d=null,f=Y,g=!1}}var E=!1,b=null,N=-1,T=5,F=-1;function R(){return!(t.unstable_now()-F<T)}function J(){if(b!==null){var k=t.unstable_now();F=k;var W=!0;try{W=b(!0,k)}finally{W?fe():(E=!1,b=null)}}else E=!1}var fe;if(typeof p=="function")fe=function(){p(J)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,rn=de.port2;de.port1.onmessage=J,fe=function(){rn.postMessage(null)}}else fe=function(){I(J,0)};function sn(k){b=k,E||(E=!0,fe())}function Ue(k,W){N=I(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,sn(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Y=f;f=W;try{return k()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=f;f=k;try{return W()}finally{f=Y}},t.unstable_scheduleCallback=function(k,W,Y){var Oe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Oe+Y:Oe):Y=Oe,k){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Y+ze,k={id:c++,callback:W,priorityLevel:k,startTime:Y,expirationTime:ze,sortIndex:-1},Y>Oe?(k.sortIndex=Y,e(u,k),n(l)===null&&k===n(u)&&(v?(h(N),N=-1):v=!0,Ue(w,Y-Oe))):(k.sortIndex=ze,e(l,k),_||g||(_=!0,sn(S))),k},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(k){var W=f;return function(){var Y=f;f=W;try{return k.apply(this,arguments)}finally{f=Y}}}})(Hy);Qy.exports=Hy;var tw=Qy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Tt,kt=tw;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qy=new Set,eo={};function ri(t,e){Yi(t,e),Yi(t+"Capture",e)}function Yi(t,e){for(eo[t]=e,t=0;t<e.length;t++)qy.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=Object.prototype.hasOwnProperty,nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Mh={};function rw(t){return wc.call(Mh,t)?!0:wc.call(Ch,t)?!1:nw.test(t)?Mh[t]=!0:(Ch[t]=!0,!1)}function iw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sw(t,e,n,r){if(e===null||typeof e>"u"||iw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var nf=/[\-:]([a-z])/g;function rf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nf,rf);Qe[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nf,rf);Qe[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nf,rf);Qe[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function sf(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sw(e,n,i,r)&&(n=null),r||i===null?rw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),Sc=Symbol.for("react.profiler"),Gy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),Ic=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),Xy=Symbol.for("react.offscreen"),Ph=Symbol.iterator;function ps(t){return t===null||typeof t!="object"?null:(t=Ph&&t[Ph]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Ru;function Ts(t){if(Ru===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ru=e&&e[1]||""}return`
`+Ru+t}var Bu=!1;function Fu(t,e){if(!t||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ts(t):""}function ow(t){switch(t.tag){case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return t=Fu(t.type,!1),t;case 11:return t=Fu(t.type.render,!1),t;case 1:return t=Fu(t.type,!0),t;default:return""}}function Ec(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case bi:return"Portal";case Sc:return"Profiler";case of:return"StrictMode";case bc:return"Suspense";case Ic:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jy:return(t.displayName||"Context")+".Consumer";case Gy:return(t._context.displayName||"Context")+".Provider";case af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lf:return e=t.displayName||null,e!==null?e:Ec(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return Ec(t(e))}catch{}}return null}function aw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ec(e);case 8:return e===of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lw(t){var e=Zy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yo(t){t._valueTracker||(t._valueTracker=lw(t))}function em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tc(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tm(t,e){e=e.checked,e!=null&&sf(t,"checked",e,!1)}function Dc(t,e){tm(t,e);var n=vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nc(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nc(t,e,n){(e!=="number"||Ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Ds(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function nm(t,e){var n=vr(e.value),r=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $h(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qo,im=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function to(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){uw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function sm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function om(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cw=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rc(t,e){if(e){if(cw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Bc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=null;function uf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ac=null,Ci=null,Mi=null;function Vh(t){if(t=xo(t)){if(typeof Ac!="function")throw Error(D(280));var e=t.stateNode;e&&(e=cu(e),Ac(t.stateNode,t.type,e))}}function am(t){Ci?Mi?Mi.push(t):Mi=[t]:Ci=t}function lm(){if(Ci){var t=Ci,e=Mi;if(Mi=Ci=null,Vh(t),e)for(t=0;t<e.length;t++)Vh(e[t])}}function um(t,e){return t(e)}function cm(){}var Au=!1;function dm(t,e,n){if(Au)return t(e,n);Au=!0;try{return um(t,e,n)}finally{Au=!1,(Ci!==null||Mi!==null)&&(cm(),lm())}}function no(t,e){var n=t.stateNode;if(n===null)return null;var r=cu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var xc=!1;if(jn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){xc=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{xc=!1}function dw(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var zs=!1,Ja=null,Xa=!1,Lc=null,fw={onError:function(t){zs=!0,Ja=t}};function hw(t,e,n,r,i,s,o,a,l){zs=!1,Ja=null,dw.apply(fw,arguments)}function pw(t,e,n,r,i,s,o,a,l){if(hw.apply(this,arguments),zs){if(zs){var u=Ja;zs=!1,Ja=null}else throw Error(D(198));Xa||(Xa=!0,Lc=u)}}function ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kh(t){if(ii(t)!==t)throw Error(D(188))}function yw(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kh(i),t;if(s===r)return Kh(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function hm(t){return t=yw(t),t!==null?pm(t):null}function pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pm(t);if(e!==null)return e;t=t.sibling}return null}var ym=kt.unstable_scheduleCallback,Wh=kt.unstable_cancelCallback,mw=kt.unstable_shouldYield,gw=kt.unstable_requestPaint,Re=kt.unstable_now,vw=kt.unstable_getCurrentPriorityLevel,cf=kt.unstable_ImmediatePriority,mm=kt.unstable_UserBlockingPriority,Za=kt.unstable_NormalPriority,_w=kt.unstable_LowPriority,gm=kt.unstable_IdlePriority,ou=null,vn=null;function ww(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ou,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Iw,Sw=Math.log,bw=Math.LN2;function Iw(t){return t>>>=0,t===0?32:31-(Sw(t)/bw|0)|0}var Go=64,Jo=4194304;function Ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function el(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ns(a):(s&=o,s!==0&&(r=Ns(s)))}else o=n&~i,o!==0?r=Ns(o):s!==0&&(r=Ns(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function Ew(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ew(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vm(){var t=Go;return Go<<=1,!(Go&4194240)&&(Go=64),t}function xu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function Dw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function _m(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wm,ff,Sm,bm,Im,Mc=!1,Xo=[],cr=null,dr=null,fr=null,ro=new Map,io=new Map,sr=[],Nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qh(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function ms(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xo(e),e!==null&&ff(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kw(t,e,n,r,i){switch(e){case"focusin":return cr=ms(cr,t,e,n,r,i),!0;case"dragenter":return dr=ms(dr,t,e,n,r,i),!0;case"mouseover":return fr=ms(fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,ms(ro.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,ms(io.get(s)||null,t,e,n,r,i)),!0}return!1}function Em(t){var e=Mr(t.target);if(e!==null){var n=ii(e);if(n!==null){if(e=n.tag,e===13){if(e=fm(n),e!==null){t.blockedOn=e,Im(t.priority,function(){Sm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ba(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fc=r,n.target.dispatchEvent(r),Fc=null}else return e=xo(n),e!==null&&ff(e),t.blockedOn=n,!1;e.shift()}return!0}function Hh(t,e,n){ba(t)&&n.delete(e)}function Ow(){Mc=!1,cr!==null&&ba(cr)&&(cr=null),dr!==null&&ba(dr)&&(dr=null),fr!==null&&ba(fr)&&(fr=null),ro.forEach(Hh),io.forEach(Hh)}function gs(t,e){t.blockedOn===e&&(t.blockedOn=null,Mc||(Mc=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Ow)))}function so(t){function e(i){return gs(i,t)}if(0<Xo.length){gs(Xo[0],t);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&gs(cr,t),dr!==null&&gs(dr,t),fr!==null&&gs(fr,t),ro.forEach(e),io.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&sr.shift()}var Pi=Qn.ReactCurrentBatchConfig,tl=!0;function Rw(t,e,n,r){var i=ce,s=Pi.transition;Pi.transition=null;try{ce=1,hf(t,e,n,r)}finally{ce=i,Pi.transition=s}}function Bw(t,e,n,r){var i=ce,s=Pi.transition;Pi.transition=null;try{ce=4,hf(t,e,n,r)}finally{ce=i,Pi.transition=s}}function hf(t,e,n,r){if(tl){var i=Pc(t,e,n,r);if(i===null)Ku(t,e,r,nl,n),Qh(t,r);else if(kw(i,t,e,n,r))r.stopPropagation();else if(Qh(t,r),e&4&&-1<Nw.indexOf(t)){for(;i!==null;){var s=xo(i);if(s!==null&&wm(s),s=Pc(t,e,n,r),s===null&&Ku(t,e,r,nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ku(t,e,r,null,n)}}var nl=null;function Pc(t,e,n,r){if(nl=null,t=uf(r),t=Mr(t),t!==null)if(e=ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nl=t,null}function Tm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vw()){case cf:return 1;case mm:return 4;case Za:case _w:return 16;case gm:return 536870912;default:return 16}default:return 16}}var lr=null,pf=null,Ia=null;function Dm(){if(Ia)return Ia;var t,e=pf,n=e.length,r,i="value"in lr?lr.value:lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ia=i.slice(t,1<r?1-r:void 0)}function Ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zo(){return!0}function Yh(){return!1}function Ft(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zo:Yh,this.isPropagationStopped=Yh,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=Ft(ls),Ao=De({},ls,{view:0,detail:0}),Fw=Ft(Ao),Lu,Cu,vs,au=De({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(Lu=t.screenX-vs.screenX,Cu=t.screenY-vs.screenY):Cu=Lu=0,vs=t),Lu)},movementY:function(t){return"movementY"in t?t.movementY:Cu}}),qh=Ft(au),Aw=De({},au,{dataTransfer:0}),xw=Ft(Aw),Lw=De({},Ao,{relatedTarget:0}),Mu=Ft(Lw),Cw=De({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Mw=Ft(Cw),Pw=De({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uw=Ft(Pw),zw=De({},ls,{data:0}),Gh=Ft(zw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vw[t])?!!e[t]:!1}function mf(){return Kw}var Ww=De({},Ao,{key:function(t){if(t.key){var e=jw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$w[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qw=Ft(Ww),Hw=De({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=Ft(Hw),Yw=De({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),qw=Ft(Yw),Gw=De({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jw=Ft(Gw),Xw=De({},au,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zw=Ft(Xw),eS=[9,13,27,32],gf=jn&&"CompositionEvent"in window,js=null;jn&&"documentMode"in document&&(js=document.documentMode);var tS=jn&&"TextEvent"in window&&!js,Nm=jn&&(!gf||js&&8<js&&11>=js),Xh=" ",Zh=!1;function km(t,e){switch(t){case"keyup":return eS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function nS(t,e){switch(t){case"compositionend":return Om(e);case"keypress":return e.which!==32?null:(Zh=!0,Xh);case"textInput":return t=e.data,t===Xh&&Zh?null:t;default:return null}}function rS(t,e){if(Ei)return t==="compositionend"||!gf&&km(t,e)?(t=Dm(),Ia=pf=lr=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nm&&e.locale!=="ko"?null:e.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iS[t.type]:e==="textarea"}function Rm(t,e,n,r){am(r),e=rl(e,"onChange"),0<e.length&&(n=new yf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $s=null,oo=null;function sS(t){jm(t,0)}function lu(t){var e=Ni(t);if(em(e))return t}function oS(t,e){if(t==="change")return e}var Bm=!1;if(jn){var Pu;if(jn){var Uu="oninput"in document;if(!Uu){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),Uu=typeof tp.oninput=="function"}Pu=Uu}else Pu=!1;Bm=Pu&&(!document.documentMode||9<document.documentMode)}function np(){$s&&($s.detachEvent("onpropertychange",Fm),oo=$s=null)}function Fm(t){if(t.propertyName==="value"&&lu(oo)){var e=[];Rm(e,oo,t,uf(t)),dm(sS,e)}}function aS(t,e,n){t==="focusin"?(np(),$s=e,oo=n,$s.attachEvent("onpropertychange",Fm)):t==="focusout"&&np()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(oo)}function uS(t,e){if(t==="click")return lu(e)}function cS(t,e){if(t==="input"||t==="change")return lu(e)}function dS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:dS;function ao(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wc.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,e){var n=rp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rp(n)}}function Am(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Am(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xm(){for(var t=window,e=Ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ga(t.document)}return e}function vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fS(t){var e=xm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(r!==null&&vf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ip(n,s);var o=ip(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hS=jn&&"documentMode"in document&&11>=document.documentMode,Ti=null,Uc=null,Vs=null,zc=!1;function sp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zc||Ti==null||Ti!==Ga(r)||(r=Ti,"selectionStart"in r&&vf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&ao(Vs,r)||(Vs=r,r=rl(Uc,"onSelect"),0<r.length&&(e=new yf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ti)))}function ea(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Di={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},zu={},Lm={};jn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function uu(t){if(zu[t])return zu[t];if(!Di[t])return t;var e=Di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lm)return zu[t]=e[n];return t}var Cm=uu("animationend"),Mm=uu("animationiteration"),Pm=uu("animationstart"),Um=uu("transitionend"),zm=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){zm.set(t,e),ri(e,[t])}for(var ju=0;ju<op.length;ju++){var $u=op[ju],pS=$u.toLowerCase(),yS=$u[0].toUpperCase()+$u.slice(1);Nr(pS,"on"+yS)}Nr(Cm,"onAnimationEnd");Nr(Mm,"onAnimationIteration");Nr(Pm,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Um,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function ap(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pw(r,e,void 0,t),t.currentTarget=null}function jm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ap(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ap(i,a,u),s=l}}}if(Xa)throw t=Lc,Xa=!1,Lc=null,t}function ge(t,e){var n=e[Wc];n===void 0&&(n=e[Wc]=new Set);var r=t+"__bubble";n.has(r)||($m(e,t,2,!1),n.add(r))}function Vu(t,e,n){var r=0;e&&(r|=4),$m(n,t,r,e)}var ta="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[ta]){t[ta]=!0,qy.forEach(function(n){n!=="selectionchange"&&(mS.has(n)||Vu(n,!1,t),Vu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ta]||(e[ta]=!0,Vu("selectionchange",!1,e))}}function $m(t,e,n,r){switch(Tm(e)){case 1:var i=Rw;break;case 4:i=Bw;break;default:i=hf}n=i.bind(null,e,n,t),i=void 0,!xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ku(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dm(function(){var u=s,c=uf(n),d=[];e:{var f=zm.get(t);if(f!==void 0){var g=yf,_=t;switch(t){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":g=Qw;break;case"focusin":_="focus",g=Mu;break;case"focusout":_="blur",g=Mu;break;case"beforeblur":case"afterblur":g=Mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qw;break;case Cm:case Mm:case Pm:g=Mw;break;case Um:g=Jw;break;case"scroll":g=Fw;break;case"wheel":g=Zw;break;case"copy":case"cut":case"paste":g=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jh}var v=(e&4)!==0,I=!v&&t==="scroll",h=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,h!==null&&(w=no(p,h),w!=null&&v.push(uo(p,w,m)))),I)break;p=p.return}0<v.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Fc&&(_=n.relatedTarget||n.fromElement)&&(Mr(_)||_[$n]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Mr(_):null,_!==null&&(I=ii(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=qh,w="onMouseLeave",h="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Jh,w="onPointerLeave",h="onPointerEnter",p="pointer"),I=g==null?f:Ni(g),m=_==null?f:Ni(_),f=new v(w,p+"leave",g,n,c),f.target=I,f.relatedTarget=m,w=null,Mr(c)===u&&(v=new v(h,p+"enter",_,n,c),v.target=m,v.relatedTarget=I,w=v),I=w,g&&_)t:{for(v=g,h=_,p=0,m=v;m;m=ai(m))p++;for(m=0,w=h;w;w=ai(w))m++;for(;0<p-m;)v=ai(v),p--;for(;0<m-p;)h=ai(h),m--;for(;p--;){if(v===h||h!==null&&v===h.alternate)break t;v=ai(v),h=ai(h)}v=null}else v=null;g!==null&&lp(d,f,g,v,!1),_!==null&&I!==null&&lp(d,I,_,v,!0)}}e:{if(f=u?Ni(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=oS;else if(ep(f))if(Bm)S=cS;else{S=lS;var E=aS}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=uS);if(S&&(S=S(t,u))){Rm(d,S,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Nc(f,"number",f.value)}switch(E=u?Ni(u):window,t){case"focusin":(ep(E)||E.contentEditable==="true")&&(Ti=E,Uc=u,Vs=null);break;case"focusout":Vs=Uc=Ti=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,sp(d,n,c);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":sp(d,n,c)}var b;if(gf)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ei?km(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Nm&&n.locale!=="ko"&&(Ei||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ei&&(b=Dm()):(lr=c,pf="value"in lr?lr.value:lr.textContent,Ei=!0)),E=rl(u,N),0<E.length&&(N=new Gh(N,t,null,n,c),d.push({event:N,listeners:E}),b?N.data=b:(b=Om(n),b!==null&&(N.data=b)))),(b=tS?nS(t,n):rS(t,n))&&(u=rl(u,"onBeforeInput"),0<u.length&&(c=new Gh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}jm(d,e)})}function uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(t,n),s!=null&&r.unshift(uo(t,s,i)),s=no(t,e),s!=null&&r.push(uo(t,s,i))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=no(n,s),l!=null&&o.unshift(uo(n,l,a))):i||(l=no(n,s),l!=null&&o.push(uo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(vS,"")}function na(t,e,n){if(e=up(e),up(t)!==e&&n)throw Error(D(425))}function il(){}var jc=null,$c=null;function Vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(t){return cp.resolve(null).then(t).catch(SS)}:Kc;function SS(t){setTimeout(function(){throw t})}function Wu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),so(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),fn="__reactFiber$"+us,co="__reactProps$"+us,$n="__reactContainer$"+us,Wc="__reactEvents$"+us,bS="__reactListeners$"+us,IS="__reactHandles$"+us;function Mr(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dp(t);t!==null;){if(n=t[fn])return n;t=dp(t)}return e}t=n,n=t.parentNode}return null}function xo(t){return t=t[fn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function cu(t){return t[co]||null}var Qc=[],ki=-1;function kr(t){return{current:t}}function _e(t){0>ki||(t.current=Qc[ki],Qc[ki]=null,ki--)}function me(t,e){ki++,Qc[ki]=t.current,t.current=e}var _r={},Ze=kr(_r),mt=kr(!1),Yr=_r;function qi(t,e){var n=t.type.contextTypes;if(!n)return _r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gt(t){return t=t.childContextTypes,t!=null}function sl(){_e(mt),_e(Ze)}function fp(t,e,n){if(Ze.current!==_r)throw Error(D(168));me(Ze,e),me(mt,n)}function Vm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,aw(t)||"Unknown",i));return De({},n,r)}function ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,Yr=Ze.current,me(Ze,t),me(mt,mt.current),!0}function hp(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Vm(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,_e(mt),_e(Ze),me(Ze,t)):_e(mt),me(mt,n)}var Rn=null,du=!1,Qu=!1;function Km(t){Rn===null?Rn=[t]:Rn.push(t)}function ES(t){du=!0,Km(t)}function Or(){if(!Qu&&Rn!==null){Qu=!0;var t=0,e=ce;try{var n=Rn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rn=null,du=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(t+1)),ym(cf,Or),i}finally{ce=e,Qu=!1}}return null}var Oi=[],Ri=0,al=null,ll=0,Lt=[],Ct=0,qr=null,Ln=1,Cn="";function Lr(t,e){Oi[Ri++]=ll,Oi[Ri++]=al,al=t,ll=e}function Wm(t,e,n){Lt[Ct++]=Ln,Lt[Ct++]=Cn,Lt[Ct++]=qr,qr=t;var r=Ln;t=Cn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ln=1<<32-Jt(e)+i|n<<i|r,Cn=s+t}else Ln=1<<s|n<<i|r,Cn=t}function _f(t){t.return!==null&&(Lr(t,1),Wm(t,1,0))}function wf(t){for(;t===al;)al=Oi[--Ri],Oi[Ri]=null,ll=Oi[--Ri],Oi[Ri]=null;for(;t===qr;)qr=Lt[--Ct],Lt[Ct]=null,Cn=Lt[--Ct],Lt[Ct]=null,Ln=Lt[--Ct],Lt[Ct]=null}var Nt=null,Dt=null,be=!1,Gt=null;function Qm(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:Ln,overflow:Cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Dt=null,!0):!1;default:return!1}}function Hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yc(t){if(be){var e=Dt;if(e){var n=e;if(!pp(t,e)){if(Hc(t))throw Error(D(418));e=hr(n.nextSibling);var r=Nt;e&&pp(t,e)?Qm(r,n):(t.flags=t.flags&-4097|2,be=!1,Nt=t)}}else{if(Hc(t))throw Error(D(418));t.flags=t.flags&-4097|2,be=!1,Nt=t}}}function yp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function ra(t){if(t!==Nt)return!1;if(!be)return yp(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vc(t.type,t.memoizedProps)),e&&(e=Dt)){if(Hc(t))throw Hm(),Error(D(418));for(;e;)Qm(t,e),e=hr(e.nextSibling)}if(yp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Nt?hr(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=Dt;t;)t=hr(t.nextSibling)}function Gi(){Dt=Nt=null,be=!1}function Sf(t){Gt===null?Gt=[t]:Gt.push(t)}var TS=Qn.ReactCurrentBatchConfig;function Ht(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ul=kr(null),cl=null,Bi=null,bf=null;function If(){bf=Bi=cl=null}function Ef(t){var e=ul.current;_e(ul),t._currentValue=e}function qc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){cl=t,bf=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(bf!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(cl===null)throw Error(D(308));Bi=t,cl.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Pr=null;function Tf(t){Pr===null?Pr=[t]:Pr.push(t)}function Ym(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vn(t,n)}return i=r.interleaved,i===null?(e.next=e,Tf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vn(t,n)}function Ta(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}function mp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dl(t,e,n,r){var i=t.updateQueue;tr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=De({},d,f);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=d}}function gp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Gm=new Yy.Component().refs;function Gc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fu={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),i=mr(t),s=Pn(r,i);s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,i),e!==null&&(Xt(e,t,i,r),Ta(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),i=mr(t),s=Pn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,i),e!==null&&(Xt(e,t,i,r),Ta(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=mr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=pr(t,i,r),e!==null&&(Xt(e,t,r,n),Ta(e,t,r))}};function vp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function Jm(t,e,n){var r=!1,i=_r,s=e.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=gt(e)?Yr:Ze.current,r=e.contextTypes,s=(r=r!=null)?qi(t,i):_r),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _p(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fu.enqueueReplaceState(e,e.state,null)}function Jc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Gm,Df(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=gt(e)?Yr:Ze.current,i.context=qi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fu.enqueueReplaceState(i,i.state,null),dl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Gm&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ia(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wp(t){var e=t._init;return e(t._payload)}function Xm(t){function e(h,p){if(t){var m=h.deletions;m===null?(h.deletions=[p],h.flags|=16):m.push(p)}}function n(h,p){if(!t)return null;for(;p!==null;)e(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function i(h,p){return h=gr(h,p),h.index=0,h.sibling=null,h}function s(h,p,m){return h.index=m,t?(m=h.alternate,m!==null?(m=m.index,m<p?(h.flags|=2,p):m):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function a(h,p,m,w){return p===null||p.tag!==6?(p=Zu(m,h.mode,w),p.return=h,p):(p=i(p,m),p.return=h,p)}function l(h,p,m,w){var S=m.type;return S===Ii?c(h,p,m.props.children,w,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&wp(S)===p.type)?(w=i(p,m.props),w.ref=_s(h,p,m),w.return=h,w):(w=Ba(m.type,m.key,m.props,null,h.mode,w),w.ref=_s(h,p,m),w.return=h,w)}function u(h,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ec(m,h.mode,w),p.return=h,p):(p=i(p,m.children||[]),p.return=h,p)}function c(h,p,m,w,S){return p===null||p.tag!==7?(p=Vr(m,h.mode,w,S),p.return=h,p):(p=i(p,m),p.return=h,p)}function d(h,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Zu(""+p,h.mode,m),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ho:return m=Ba(p.type,p.key,p.props,null,h.mode,m),m.ref=_s(h,null,p),m.return=h,m;case bi:return p=ec(p,h.mode,m),p.return=h,p;case er:var w=p._init;return d(h,w(p._payload),m)}if(Ds(p)||ps(p))return p=Vr(p,h.mode,m,null),p.return=h,p;ia(h,p)}return null}function f(h,p,m,w){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(h,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ho:return m.key===S?l(h,p,m,w):null;case bi:return m.key===S?u(h,p,m,w):null;case er:return S=m._init,f(h,p,S(m._payload),w)}if(Ds(m)||ps(m))return S!==null?null:c(h,p,m,w,null);ia(h,m)}return null}function g(h,p,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(m)||null,a(p,h,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ho:return h=h.get(w.key===null?m:w.key)||null,l(p,h,w,S);case bi:return h=h.get(w.key===null?m:w.key)||null,u(p,h,w,S);case er:var E=w._init;return g(h,p,m,E(w._payload),S)}if(Ds(w)||ps(w))return h=h.get(m)||null,c(p,h,w,S,null);ia(p,w)}return null}function _(h,p,m,w){for(var S=null,E=null,b=p,N=p=0,T=null;b!==null&&N<m.length;N++){b.index>N?(T=b,b=null):T=b.sibling;var F=f(h,b,m[N],w);if(F===null){b===null&&(b=T);break}t&&b&&F.alternate===null&&e(h,b),p=s(F,p,N),E===null?S=F:E.sibling=F,E=F,b=T}if(N===m.length)return n(h,b),be&&Lr(h,N),S;if(b===null){for(;N<m.length;N++)b=d(h,m[N],w),b!==null&&(p=s(b,p,N),E===null?S=b:E.sibling=b,E=b);return be&&Lr(h,N),S}for(b=r(h,b);N<m.length;N++)T=g(b,h,N,m[N],w),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?N:T.key),p=s(T,p,N),E===null?S=T:E.sibling=T,E=T);return t&&b.forEach(function(R){return e(h,R)}),be&&Lr(h,N),S}function v(h,p,m,w){var S=ps(m);if(typeof S!="function")throw Error(D(150));if(m=S.call(m),m==null)throw Error(D(151));for(var E=S=null,b=p,N=p=0,T=null,F=m.next();b!==null&&!F.done;N++,F=m.next()){b.index>N?(T=b,b=null):T=b.sibling;var R=f(h,b,F.value,w);if(R===null){b===null&&(b=T);break}t&&b&&R.alternate===null&&e(h,b),p=s(R,p,N),E===null?S=R:E.sibling=R,E=R,b=T}if(F.done)return n(h,b),be&&Lr(h,N),S;if(b===null){for(;!F.done;N++,F=m.next())F=d(h,F.value,w),F!==null&&(p=s(F,p,N),E===null?S=F:E.sibling=F,E=F);return be&&Lr(h,N),S}for(b=r(h,b);!F.done;N++,F=m.next())F=g(b,h,N,F.value,w),F!==null&&(t&&F.alternate!==null&&b.delete(F.key===null?N:F.key),p=s(F,p,N),E===null?S=F:E.sibling=F,E=F);return t&&b.forEach(function(J){return e(h,J)}),be&&Lr(h,N),S}function I(h,p,m,w){if(typeof m=="object"&&m!==null&&m.type===Ii&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ho:e:{for(var S=m.key,E=p;E!==null;){if(E.key===S){if(S=m.type,S===Ii){if(E.tag===7){n(h,E.sibling),p=i(E,m.props.children),p.return=h,h=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&wp(S)===E.type){n(h,E.sibling),p=i(E,m.props),p.ref=_s(h,E,m),p.return=h,h=p;break e}n(h,E);break}else e(h,E);E=E.sibling}m.type===Ii?(p=Vr(m.props.children,h.mode,w,m.key),p.return=h,h=p):(w=Ba(m.type,m.key,m.props,null,h.mode,w),w.ref=_s(h,p,m),w.return=h,h=w)}return o(h);case bi:e:{for(E=m.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(h,p.sibling),p=i(p,m.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else e(h,p);p=p.sibling}p=ec(m,h.mode,w),p.return=h,h=p}return o(h);case er:return E=m._init,I(h,p,E(m._payload),w)}if(Ds(m))return _(h,p,m,w);if(ps(m))return v(h,p,m,w);ia(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(h,p.sibling),p=i(p,m),p.return=h,h=p):(n(h,p),p=Zu(m,h.mode,w),p.return=h,h=p),o(h)):n(h,p)}return I}var Ji=Xm(!0),Zm=Xm(!1),Lo={},_n=kr(Lo),fo=kr(Lo),ho=kr(Lo);function Ur(t){if(t===Lo)throw Error(D(174));return t}function Nf(t,e){switch(me(ho,e),me(fo,t),me(_n,Lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oc(e,t)}_e(_n),me(_n,e)}function Xi(){_e(_n),_e(fo),_e(ho)}function eg(t){Ur(ho.current);var e=Ur(_n.current),n=Oc(e,t.type);e!==n&&(me(fo,t),me(_n,n))}function kf(t){fo.current===t&&(_e(_n),_e(fo))}var Ie=kr(0);function fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hu=[];function Of(){for(var t=0;t<Hu.length;t++)Hu[t]._workInProgressVersionPrimary=null;Hu.length=0}var Da=Qn.ReactCurrentDispatcher,Yu=Qn.ReactCurrentBatchConfig,Gr=0,Te=null,xe=null,je=null,hl=!1,Ks=!1,po=0,DS=0;function He(){throw Error(D(321))}function Rf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Bf(t,e,n,r,i,s){if(Gr=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Da.current=t===null||t.memoizedState===null?RS:BS,t=n(r,i),Ks){s=0;do{if(Ks=!1,po=0,25<=s)throw Error(D(301));s+=1,je=xe=null,e.updateQueue=null,Da.current=FS,t=n(r,i)}while(Ks)}if(Da.current=pl,e=xe!==null&&xe.next!==null,Gr=0,je=xe=Te=null,hl=!1,e)throw Error(D(300));return t}function Ff(){var t=po!==0;return po=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Te.memoizedState=je=t:je=je.next=t,je}function Vt(){if(xe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=je===null?Te.memoizedState:je.next;if(e!==null)je=e,xe=t;else{if(t===null)throw Error(D(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},je===null?Te.memoizedState=je=t:je=je.next=t}return je}function yo(t,e){return typeof e=="function"?e(t):e}function qu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Gr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Te.lanes|=c,Jr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Jr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tg(){}function ng(t,e){var n=Te,r=Vt(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,yt=!0),r=r.queue,Af(sg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,mo(9,ig.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(D(349));Gr&30||rg(n,e,i)}return i}function rg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ig(t,e,n,r){e.value=n,e.getSnapshot=r,og(e)&&ag(t)}function sg(t,e,n){return n(function(){og(e)&&ag(t)})}function og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function ag(t){var e=Vn(t,1);e!==null&&Xt(e,t,1,-1)}function Sp(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:t},e.queue=t,t=t.dispatch=OS.bind(null,Te,t),[e.memoizedState,t]}function mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lg(){return Vt().memoizedState}function Na(t,e,n,r){var i=ln();Te.flags|=t,i.memoizedState=mo(1|e,n,void 0,r===void 0?null:r)}function hu(t,e,n,r){var i=Vt();r=r===void 0?null:r;var s=void 0;if(xe!==null){var o=xe.memoizedState;if(s=o.destroy,r!==null&&Rf(r,o.deps)){i.memoizedState=mo(e,n,s,r);return}}Te.flags|=t,i.memoizedState=mo(1|e,n,s,r)}function bp(t,e){return Na(8390656,8,t,e)}function Af(t,e){return hu(2048,8,t,e)}function ug(t,e){return hu(4,2,t,e)}function cg(t,e){return hu(4,4,t,e)}function dg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fg(t,e,n){return n=n!=null?n.concat([t]):null,hu(4,4,dg.bind(null,e,t),n)}function xf(){}function hg(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pg(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yg(t,e,n){return Gr&21?(tn(n,e)||(n=vm(),Te.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function NS(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Yu.transition;Yu.transition={};try{t(!1),e()}finally{ce=n,Yu.transition=r}}function mg(){return Vt().memoizedState}function kS(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gg(t))vg(e,n);else if(n=Ym(t,e,n,r),n!==null){var i=ot();Xt(n,t,r,i),_g(n,e,r)}}function OS(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gg(t))vg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,Tf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ym(t,e,i,r),n!==null&&(i=ot(),Xt(n,t,r,i),_g(n,e,r))}}function gg(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function vg(t,e){Ks=hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _g(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}var pl={readContext:$t,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},RS={readContext:$t,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:bp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Na(4194308,4,dg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Na(4194308,4,t,e)},useInsertionEffect:function(t,e){return Na(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kS.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Sp,useDebugValue:xf,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Sp(!1),e=t[0];return t=NS.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=ln();if(be){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),$e===null)throw Error(D(349));Gr&30||rg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bp(sg.bind(null,r,s,t),[t]),r.flags|=2048,mo(9,ig.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ln(),e=$e.identifierPrefix;if(be){var n=Cn,r=Ln;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BS={readContext:$t,useCallback:hg,useContext:$t,useEffect:Af,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:qu,useRef:lg,useState:function(){return qu(yo)},useDebugValue:xf,useDeferredValue:function(t){var e=Vt();return yg(e,xe.memoizedState,t)},useTransition:function(){var t=qu(yo)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:tg,useSyncExternalStore:ng,useId:mg,unstable_isNewReconciler:!1},FS={readContext:$t,useCallback:hg,useContext:$t,useEffect:Af,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:Gu,useRef:lg,useState:function(){return Gu(yo)},useDebugValue:xf,useDeferredValue:function(t){var e=Vt();return xe===null?e.memoizedState=t:yg(e,xe.memoizedState,t)},useTransition:function(){var t=Gu(yo)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:tg,useSyncExternalStore:ng,useId:mg,unstable_isNewReconciler:!1};function Zi(t,e){try{var n="",r=e;do n+=ow(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ju(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AS=typeof WeakMap=="function"?WeakMap:Map;function wg(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ml||(ml=!0,ld=r),Xc(t,e)},n}function Sg(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xc(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ip(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HS.bind(null,t,e,n),e.then(t,t))}function Ep(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var xS=Qn.ReactCurrentOwner,yt=!1;function tt(t,e,n,r){e.child=t===null?Zm(e,null,n,r):Ji(e,t.child,n,r)}function Dp(t,e,n,r,i){n=n.render;var s=e.ref;return Ui(e,i),r=Bf(t,e,n,r,s,i),n=Ff(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(be&&n&&_f(e),e.flags|=1,tt(t,e,r,i),e.child)}function Np(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bg(t,e,s,r,i)):(t=Ba(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=gr(s,r),t.ref=e.ref,t.return=e,e.child=t}function bg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ao(s,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return Zc(t,e,n,r,i)}function Ig(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Ai,It),It|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Ai,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,me(Ai,It),It|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,me(Ai,It),It|=r;return tt(t,e,i,n),e.child}function Eg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zc(t,e,n,r,i){var s=gt(n)?Yr:Ze.current;return s=qi(e,s),Ui(e,i),n=Bf(t,e,n,r,s,i),r=Ff(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(be&&r&&_f(e),e.flags|=1,tt(t,e,n,i),e.child)}function kp(t,e,n,r,i){if(gt(n)){var s=!0;ol(e)}else s=!1;if(Ui(e,i),e.stateNode===null)ka(t,e),Jm(e,n,r),Jc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=gt(n)?Yr:Ze.current,u=qi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_p(e,o,r,u),tr=!1;var f=e.memoizedState;o.state=f,dl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||mt.current||tr?(typeof c=="function"&&(Gc(e,n,c,r),l=e.memoizedState),(a=tr||vp(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ht(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=gt(n)?Yr:Ze.current,l=qi(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_p(e,o,r,l),tr=!1,f=e.memoizedState,o.state=f,dl(e,r,o,i);var _=e.memoizedState;a!==d||f!==_||mt.current||tr?(typeof g=="function"&&(Gc(e,n,g,r),_=e.memoizedState),(u=tr||vp(e,n,u,r,f,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ed(t,e,n,r,s,i)}function ed(t,e,n,r,i,s){Eg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hp(e,n,!1),Kn(t,e,s);r=e.stateNode,xS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ji(e,t.child,null,s),e.child=Ji(e,null,a,s)):tt(t,e,a,s),e.memoizedState=r.state,i&&hp(e,n,!0),e.child}function Tg(t){var e=t.stateNode;e.pendingContext?fp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fp(t,e.context,!1),Nf(t,e.containerInfo)}function Op(t,e,n,r,i){return Gi(),Sf(i),e.flags|=256,tt(t,e,n,r),e.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dg(t,e,n){var r=e.pendingProps,i=Ie.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),me(Ie,i&1),t===null)return Yc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mu(o,r,0,null),t=Vr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nd(n),e.memoizedState=td,t):Lf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LS(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gr(a,s):(s=Vr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=td,r}return s=t.child,t=s.sibling,r=gr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lf(t,e){return e=mu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sa(t,e,n,r){return r!==null&&Sf(r),Ji(e,t.child,null,n),t=Lf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ju(Error(D(422))),sa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mu({mode:"visible",children:r.children},i,0,null),s=Vr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ji(e,t.child,null,o),e.child.memoizedState=nd(o),e.memoizedState=td,s);if(!(e.mode&1))return sa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Ju(s,r,void 0),sa(t,e,o,r)}if(a=(o&t.childLanes)!==0,yt||a){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(t,i),Xt(r,t,i,-1))}return jf(),r=Ju(Error(D(421))),sa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=hr(i.nextSibling),Nt=e,be=!0,Gt=null,t!==null&&(Lt[Ct++]=Ln,Lt[Ct++]=Cn,Lt[Ct++]=qr,Ln=t.id,Cn=t.overflow,qr=e),e=Lf(e,r.children),e.flags|=4096,e)}function Rp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qc(t.return,e,n)}function Xu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ng(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,n,e);else if(t.tag===19)Rp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xu(e,!0,n,null,s);break;case"together":Xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ka(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CS(t,e,n){switch(e.tag){case 3:Tg(e),Gi();break;case 5:eg(e);break;case 1:gt(e.type)&&ol(e);break;case 4:Nf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;me(ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?Dg(t,e,n):(me(Ie,Ie.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);me(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ng(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,Ig(t,e,n)}return Kn(t,e,n)}var kg,rd,Og,Rg;kg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rd=function(){};Og=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ur(_n.current);var s=null;switch(n){case"input":i=Tc(t,i),r=Tc(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=kc(t,i),r=kc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=il)}Rc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Rg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ws(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MS(t,e,n){var r=e.pendingProps;switch(wf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return gt(e.type)&&sl(),Ye(e),null;case 3:return r=e.stateNode,Xi(),_e(mt),_e(Ze),Of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ra(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(dd(Gt),Gt=null))),rd(t,e),Ye(e),null;case 5:kf(e);var i=Ur(ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Og(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Ye(e),null}if(t=Ur(_n.current),ra(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fn]=e,r[co]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<ks.length;i++)ge(ks[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Uh(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":jh(r,s),ge("invalid",r)}Rc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&na(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&na(r.textContent,a,t),i=["children",""+a]):eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Yo(r),zh(r,s,!0);break;case"textarea":Yo(r),$h(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fn]=e,t[co]=r,kg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bc(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<ks.length;i++)ge(ks[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":Uh(t,r),i=Tc(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),ge("invalid",t);break;case"textarea":jh(t,r),i=kc(t,r),ge("invalid",t);break;default:i=r}Rc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?om(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&im(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&to(t,l):typeof l=="number"&&to(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ge("scroll",t):l!=null&&sf(t,s,l,o))}switch(n){case"input":Yo(t),zh(t,r,!1);break;case"textarea":Yo(t),$h(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Li(t,!!r.multiple,s,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Rg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Ur(ho.current),Ur(_n.current),ra(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(s=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:na(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&na(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return Ye(e),null;case 13:if(_e(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Dt!==null&&e.mode&1&&!(e.flags&128))Hm(),Gi(),e.flags|=98560,s=!1;else if(s=ra(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[fn]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Gt!==null&&(dd(Gt),Gt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Me===0&&(Me=3):jf())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return Xi(),rd(t,e),t===null&&lo(e.stateNode.containerInfo),Ye(e),null;case 10:return Ef(e.type._context),Ye(e),null;case 17:return gt(e.type)&&sl(),Ye(e),null;case 19:if(_e(Ie),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ws(s,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fl(t),o!==null){for(e.flags|=128,ws(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ie,Ie.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>es&&(e.flags|=128,r=!0,ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=fl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return Ye(e),null}else 2*Re()-s.renderingStartTime>es&&n!==1073741824&&(e.flags|=128,r=!0,ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=Ie.current,me(Ie,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return zf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function PS(t,e){switch(wf(e),e.tag){case 1:return gt(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xi(),_e(mt),_e(Ze),Of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kf(e),null;case 13:if(_e(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ie),null;case 4:return Xi(),null;case 10:return Ef(e.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var oa=!1,qe=!1,US=typeof WeakSet=="function"?WeakSet:Set,B=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function id(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Bp=!1;function zS(t,e){if(jc=tl,t=xm(),vf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:t,selectionRange:n},tl=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,I=_.memoizedState,h=e.stateNode,p=h.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ht(e.type,v),I);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){ke(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return _=Bp,Bp=!1,_}function Ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&id(e,n,s)}i=i.next}while(i!==r)}}function pu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bg(t){var e=t.alternate;e!==null&&(t.alternate=null,Bg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[co],delete e[Wc],delete e[bS],delete e[IS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fg(t){return t.tag===5||t.tag===3||t.tag===4}function Fp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=il));else if(r!==4&&(t=t.child,t!==null))for(od(t,e,n),t=t.sibling;t!==null;)od(t,e,n),t=t.sibling}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}var Ke=null,Yt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)Ag(t,e,n),n=n.sibling}function Ag(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ou,n)}catch{}switch(n.tag){case 5:qe||Fi(n,e);case 6:var r=Ke,i=Yt;Ke=null,Gn(t,e,n),Ke=r,Yt=i,Ke!==null&&(Yt?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Yt?(t=Ke,n=n.stateNode,t.nodeType===8?Wu(t.parentNode,n):t.nodeType===1&&Wu(t,n),so(t)):Wu(Ke,n.stateNode));break;case 4:r=Ke,i=Yt,Ke=n.stateNode.containerInfo,Yt=!0,Gn(t,e,n),Ke=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&id(n,e,o),i=i.next}while(i!==r)}Gn(t,e,n);break;case 1:if(!qe&&(Fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Gn(t,e,n),qe=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Ap(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new US),e.forEach(function(r){var i=qS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Yt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Yt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(Ke===null)throw Error(D(160));Ag(s,o,i),Ke=null,Yt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xg(e,t),e=e.sibling}function xg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),on(t),r&4){try{Ws(3,t,t.return),pu(3,t)}catch(v){ke(t,t.return,v)}try{Ws(5,t,t.return)}catch(v){ke(t,t.return,v)}}break;case 1:Qt(e,t),on(t),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(Qt(e,t),on(t),r&512&&n!==null&&Fi(n,n.return),t.flags&32){var i=t.stateNode;try{to(i,"")}catch(v){ke(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tm(i,s),Bc(a,o);var u=Bc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?om(i,d):c==="dangerouslySetInnerHTML"?im(i,d):c==="children"?to(i,d):sf(i,c,d,u)}switch(a){case"input":Dc(i,s);break;case"textarea":nm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Li(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Li(i,!!s.multiple,s.defaultValue,!0):Li(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(v){ke(t,t.return,v)}}break;case 6:if(Qt(e,t),on(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ke(t,t.return,v)}}break;case 3:if(Qt(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(v){ke(t,t.return,v)}break;case 4:Qt(e,t),on(t);break;case 13:Qt(e,t),on(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pf=Re())),r&4&&Ap(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(u=qe)||c,Qt(e,t),qe=u):Qt(e,t),on(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(f=B,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ws(4,f,f.return);break;case 1:Fi(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){ke(r,n,v)}}break;case 5:Fi(f,f.return);break;case 22:if(f.memoizedState!==null){Lp(d);continue}}g!==null?(g.return=f,B=g):Lp(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sm("display",o))}catch(v){ke(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ke(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qt(e,t),on(t),r&4&&Ap(t);break;case 21:break;default:Qt(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fg(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=Fp(t);ad(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fp(t);od(t,a,o);break;default:throw Error(D(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jS(t,e,n){B=t,Lg(t)}function Lg(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qe;a=oa;var u=qe;if(oa=o,(qe=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Cp(i):l!==null?(l.return=o,B=l):Cp(i);for(;s!==null;)B=s,Lg(s),s=s.sibling;B=i,oa=a,qe=u}xp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):xp(t)}}function xp(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||pu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ht(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&so(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}qe||e.flags&512&&sd(e)}catch(f){ke(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Lp(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Cp(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pu(4,e)}catch(l){ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ke(e,i,l)}}var s=e.return;try{sd(e)}catch(l){ke(e,s,l)}break;case 5:var o=e.return;try{sd(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var $S=Math.ceil,yl=Qn.ReactCurrentDispatcher,Cf=Qn.ReactCurrentOwner,zt=Qn.ReactCurrentBatchConfig,ne=0,$e=null,Fe=null,We=0,It=0,Ai=kr(0),Me=0,go=null,Jr=0,yu=0,Mf=0,Qs=null,ft=null,Pf=0,es=1/0,Dn=null,ml=!1,ld=null,yr=null,aa=!1,ur=null,gl=0,Hs=0,ud=null,Oa=-1,Ra=0;function ot(){return ne&6?Re():Oa!==-1?Oa:Oa=Re()}function mr(t){return t.mode&1?ne&2&&We!==0?We&-We:TS.transition!==null?(Ra===0&&(Ra=vm()),Ra):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Tm(t.type)),t):1}function Xt(t,e,n,r){if(50<Hs)throw Hs=0,ud=null,Error(D(185));Fo(t,n,r),(!(ne&2)||t!==$e)&&(t===$e&&(!(ne&2)&&(yu|=n),Me===4&&or(t,We)),vt(t,r),n===1&&ne===0&&!(e.mode&1)&&(es=Re()+500,du&&Or()))}function vt(t,e){var n=t.callbackNode;Tw(t,e);var r=el(t,t===$e?We:0);if(r===0)n!==null&&Wh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wh(n),e===1)t.tag===0?ES(Mp.bind(null,t)):Km(Mp.bind(null,t)),wS(function(){!(ne&6)&&Or()}),n=null;else{switch(_m(r)){case 1:n=cf;break;case 4:n=mm;break;case 16:n=Za;break;case 536870912:n=gm;break;default:n=Za}n=Vg(n,Cg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cg(t,e){if(Oa=-1,Ra=0,ne&6)throw Error(D(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=el(t,t===$e?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vl(t,r);else{e=r;var i=ne;ne|=2;var s=Pg();($e!==t||We!==e)&&(Dn=null,es=Re()+500,$r(t,e));do try{WS();break}catch(a){Mg(t,a)}while(!0);If(),yl.current=s,ne=i,Fe!==null?e=0:($e=null,We=0,e=Me)}if(e!==0){if(e===2&&(i=Cc(t),i!==0&&(r=i,e=cd(t,i))),e===1)throw n=go,$r(t,0),or(t,r),vt(t,Re()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!VS(i)&&(e=vl(t,r),e===2&&(s=Cc(t),s!==0&&(r=s,e=cd(t,s))),e===1))throw n=go,$r(t,0),or(t,r),vt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Cr(t,ft,Dn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Pf+500-Re(),10<e)){if(el(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kc(Cr.bind(null,t,ft,Dn),e);break}Cr(t,ft,Dn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$S(r/1960))-r,10<r){t.timeoutHandle=Kc(Cr.bind(null,t,ft,Dn),r);break}Cr(t,ft,Dn);break;case 5:Cr(t,ft,Dn);break;default:throw Error(D(329))}}}return vt(t,Re()),t.callbackNode===n?Cg.bind(null,t):null}function cd(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=vl(t,e),t!==2&&(e=ft,ft=n,e!==null&&dd(e)),t}function dd(t){ft===null?ft=t:ft.push.apply(ft,t)}function VS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Mf,e&=~yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Mp(t){if(ne&6)throw Error(D(327));zi();var e=el(t,0);if(!(e&1))return vt(t,Re()),null;var n=vl(t,e);if(t.tag!==0&&n===2){var r=Cc(t);r!==0&&(e=r,n=cd(t,r))}if(n===1)throw n=go,$r(t,0),or(t,e),vt(t,Re()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cr(t,ft,Dn),vt(t,Re()),null}function Uf(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(es=Re()+500,du&&Or())}}function Xr(t){ur!==null&&ur.tag===0&&!(ne&6)&&zi();var e=ne;ne|=1;var n=zt.transition,r=ce;try{if(zt.transition=null,ce=1,t)return t()}finally{ce=r,zt.transition=n,ne=e,!(ne&6)&&Or()}}function zf(){It=Ai.current,_e(Ai)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_S(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(wf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Xi(),_e(mt),_e(Ze),Of();break;case 5:kf(r);break;case 4:Xi();break;case 13:_e(Ie);break;case 19:_e(Ie);break;case 10:Ef(r.type._context);break;case 22:case 23:zf()}n=n.return}if($e=t,Fe=t=gr(t.current,null),We=It=e,Me=0,go=null,Mf=yu=Jr=0,ft=Qs=null,Pr!==null){for(e=0;e<Pr.length;e++)if(n=Pr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pr=null}return t}function Mg(t,e){do{var n=Fe;try{if(If(),Da.current=pl,hl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hl=!1}if(Gr=0,je=xe=Te=null,Ks=!1,po=0,Cf.current=null,n===null||n.return===null){Me=1,go=e,Fe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Ep(o);if(g!==null){g.flags&=-257,Tp(g,o,a,s,e),g.mode&1&&Ip(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){Ip(s,u,e),jf();break e}l=Error(D(426))}}else if(be&&a.mode&1){var I=Ep(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Tp(I,o,a,s,e),Sf(Zi(l,a));break e}}s=l=Zi(l,a),Me!==4&&(Me=2),Qs===null?Qs=[s]:Qs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var h=wg(s,l,e);mp(s,h);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yr===null||!yr.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Sg(s,a,e);mp(s,w);break e}}s=s.return}while(s!==null)}zg(n)}catch(S){e=S,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Pg(){var t=yl.current;return yl.current=pl,t===null?pl:t}function jf(){(Me===0||Me===3||Me===2)&&(Me=4),$e===null||!(Jr&268435455)&&!(yu&268435455)||or($e,We)}function vl(t,e){var n=ne;ne|=2;var r=Pg();($e!==t||We!==e)&&(Dn=null,$r(t,e));do try{KS();break}catch(i){Mg(t,i)}while(!0);if(If(),ne=n,yl.current=r,Fe!==null)throw Error(D(261));return $e=null,We=0,Me}function KS(){for(;Fe!==null;)Ug(Fe)}function WS(){for(;Fe!==null&&!mw();)Ug(Fe)}function Ug(t){var e=$g(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?zg(t):Fe=e,Cf.current=null}function zg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PS(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Fe=null;return}}else if(n=MS(n,e,It),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Me===0&&(Me=5)}function Cr(t,e,n){var r=ce,i=zt.transition;try{zt.transition=null,ce=1,QS(t,e,n,r)}finally{zt.transition=i,ce=r}return null}function QS(t,e,n,r){do zi();while(ur!==null);if(ne&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Dw(t,s),t===$e&&(Fe=$e=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||aa||(aa=!0,Vg(Za,function(){return zi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var o=ce;ce=1;var a=ne;ne|=4,Cf.current=null,zS(t,n),xg(n,t),fS($c),tl=!!jc,$c=jc=null,t.current=n,jS(n),gw(),ne=a,ce=o,zt.transition=s}else t.current=n;if(aa&&(aa=!1,ur=t,gl=i),s=t.pendingLanes,s===0&&(yr=null),ww(n.stateNode),vt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ml)throw ml=!1,t=ld,ld=null,t;return gl&1&&t.tag!==0&&zi(),s=t.pendingLanes,s&1?t===ud?Hs++:(Hs=0,ud=t):Hs=0,Or(),null}function zi(){if(ur!==null){var t=_m(gl),e=zt.transition,n=ce;try{if(zt.transition=null,ce=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,gl=0,ne&6)throw Error(D(331));var i=ne;for(ne|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Ws(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var f=c.sibling,g=c.return;if(Bg(c),c===u){B=null;break}if(f!==null){f.return=g,B=f;break}B=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ws(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,B=h;break e}B=s.return}}var p=t.current;for(B=p;B!==null;){o=B;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,B=m;else e:for(o=p;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pu(9,a)}}catch(S){ke(a,a.return,S)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(ne=i,Or(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ou,t)}catch{}r=!0}return r}finally{ce=n,zt.transition=e}}return!1}function Pp(t,e,n){e=Zi(n,e),e=wg(t,e,1),t=pr(t,e,1),e=ot(),t!==null&&(Fo(t,1,e),vt(t,e))}function ke(t,e,n){if(t.tag===3)Pp(t,t,n);else for(;e!==null;){if(e.tag===3){Pp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=Zi(n,t),t=Sg(e,t,1),e=pr(e,t,1),t=ot(),e!==null&&(Fo(e,1,t),vt(e,t));break}}e=e.return}}function HS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(We&n)===n&&(Me===4||Me===3&&(We&130023424)===We&&500>Re()-Pf?$r(t,0):Mf|=n),vt(t,e)}function jg(t,e){e===0&&(t.mode&1?(e=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):e=1);var n=ot();t=Vn(t,e),t!==null&&(Fo(t,e,n),vt(t,n))}function YS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jg(t,n)}function qS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),jg(t,n)}var $g;$g=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mt.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,CS(t,e,n);yt=!!(t.flags&131072)}else yt=!1,be&&e.flags&1048576&&Wm(e,ll,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ka(t,e),t=e.pendingProps;var i=qi(e,Ze.current);Ui(e,n),i=Bf(null,e,r,t,i,n);var s=Ff();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gt(r)?(s=!0,ol(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Df(e),i.updater=fu,e.stateNode=i,i._reactInternals=e,Jc(e,r,t,n),e=ed(null,e,r,!0,s,n)):(e.tag=0,be&&s&&_f(e),tt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ka(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JS(r),t=Ht(r,t),i){case 0:e=Zc(null,e,r,t,n);break e;case 1:e=kp(null,e,r,t,n);break e;case 11:e=Dp(null,e,r,t,n);break e;case 14:e=Np(null,e,r,Ht(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),Zc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),kp(t,e,r,i,n);case 3:e:{if(Tg(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qm(t,e),dl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zi(Error(D(423)),e),e=Op(t,e,r,n,i);break e}else if(r!==i){i=Zi(Error(D(424)),e),e=Op(t,e,r,n,i);break e}else for(Dt=hr(e.stateNode.containerInfo.firstChild),Nt=e,be=!0,Gt=null,n=Zm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===i){e=Kn(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return eg(e),t===null&&Yc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vc(r,i)?o=null:s!==null&&Vc(r,s)&&(e.flags|=32),Eg(t,e),tt(t,e,o,n),e.child;case 6:return t===null&&Yc(e),null;case 13:return Dg(t,e,n);case 4:return Nf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ji(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),Dp(t,e,r,i,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,me(ul,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!mt.current){e=Kn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qc(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ui(e,n),i=$t(i),r=r(i),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,i=Ht(r,e.pendingProps),i=Ht(r.type,i),Np(t,e,r,i,n);case 15:return bg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),ka(t,e),e.tag=1,gt(r)?(t=!0,ol(e)):t=!1,Ui(e,n),Jm(e,r,i),Jc(e,r,i,n),ed(null,e,r,!0,t,n);case 19:return Ng(t,e,n);case 22:return Ig(t,e,n)}throw Error(D(156,e.tag))};function Vg(t,e){return ym(t,e)}function GS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new GS(t,e,n,r)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JS(t){if(typeof t=="function")return $f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===af)return 11;if(t===lf)return 14}return 2}function gr(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ba(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return Vr(n.children,i,s,e);case of:o=8,i|=8;break;case Sc:return t=Ut(12,n,e,i|2),t.elementType=Sc,t.lanes=s,t;case bc:return t=Ut(13,n,e,i),t.elementType=bc,t.lanes=s,t;case Ic:return t=Ut(19,n,e,i),t.elementType=Ic,t.lanes=s,t;case Xy:return mu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gy:o=10;break e;case Jy:o=9;break e;case af:o=11;break e;case lf:o=14;break e;case er:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vr(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function mu(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Xy,t.lanes=n,t.stateNode={isHidden:!1},t}function Zu(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function ec(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vf(t,e,n,r,i,s,o,a,l){return t=new XS(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Df(s),t}function ZS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kg(t){if(!t)return _r;t=t._reactInternals;e:{if(ii(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(gt(n))return Vm(t,n,e)}return e}function Wg(t,e,n,r,i,s,o,a,l){return t=Vf(n,r,!0,t,i,s,o,a,l),t.context=Kg(null),n=t.current,r=ot(),i=mr(n),s=Pn(r,i),s.callback=e??null,pr(n,s,i),t.current.lanes=i,Fo(t,i,r),vt(t,r),t}function gu(t,e,n,r){var i=e.current,s=ot(),o=mr(i);return n=Kg(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(i,e,o),t!==null&&(Xt(t,i,o,s),Ta(t,i,o)),o}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Up(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kf(t,e){Up(t,e),(t=t.alternate)&&Up(t,e)}function e1(){return null}var Qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wf(t){this._internalRoot=t}vu.prototype.render=Wf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));gu(t,e,null,null)};vu.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xr(function(){gu(null,t,null,null)}),e[$n]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var e=bm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&Em(t)}};function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zp(){}function t1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=_l(o);s.call(u)}}var o=Wg(e,r,t,0,null,!1,!1,"",zp);return t._reactRootContainer=o,t[$n]=o.current,lo(t.nodeType===8?t.parentNode:t),Xr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=_l(l);a.call(u)}}var l=Vf(t,0,!1,null,null,!1,!1,"",zp);return t._reactRootContainer=l,t[$n]=l.current,lo(t.nodeType===8?t.parentNode:t),Xr(function(){gu(e,l,n,r)}),l}function wu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_l(o);a.call(l)}}gu(e,o,t,i)}else o=t1(n,e,t,i,r);return _l(o)}wm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ns(e.pendingLanes);n!==0&&(df(e,n|1),vt(e,Re()),!(ne&6)&&(es=Re()+500,Or()))}break;case 13:Xr(function(){var r=Vn(t,1);if(r!==null){var i=ot();Xt(r,t,1,i)}}),Kf(t,1)}};ff=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=ot();Xt(e,t,134217728,n)}Kf(t,134217728)}};Sm=function(t){if(t.tag===13){var e=mr(t),n=Vn(t,e);if(n!==null){var r=ot();Xt(n,t,e,r)}Kf(t,e)}};bm=function(){return ce};Im=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Ac=function(t,e,n){switch(e){case"input":if(Dc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cu(r);if(!i)throw Error(D(90));em(r),Dc(r,i)}}}break;case"textarea":nm(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};um=Uf;cm=Xr;var n1={usingClientEntryPoint:!1,Events:[xo,Ni,cu,am,lm,Uf]},Ss={findFiberByHostInstance:Mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},r1={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hm(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||e1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{ou=la.inject(r1),vn=la}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qf(e))throw Error(D(200));return ZS(t,e,null,n)};Bt.createRoot=function(t,e){if(!Qf(t))throw Error(D(299));var n=!1,r="",i=Qg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vf(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,lo(t.nodeType===8?t.parentNode:t),new Wf(e)};Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=hm(e),t=t===null?null:t.stateNode,t};Bt.flushSync=function(t){return Xr(t)};Bt.hydrate=function(t,e,n){if(!_u(e))throw Error(D(200));return wu(null,t,e,!0,n)};Bt.hydrateRoot=function(t,e,n){if(!Qf(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wg(e,null,t,1,n??null,i,!1,s,o),t[$n]=e.current,lo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vu(e)};Bt.render=function(t,e,n){if(!_u(e))throw Error(D(200));return wu(null,t,e,!1,n)};Bt.unmountComponentAtNode=function(t){if(!_u(t))throw Error(D(40));return t._reactRootContainer?(Xr(function(){wu(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Bt.unstable_batchedUpdates=Uf;Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_u(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return wu(t,e,n,!1,r)};Bt.version="18.2.0-next-9e3b772b8-20220608";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(t){console.error(t)}}Hg(),Wy.exports=Bt;var i1=Wy.exports,Yg,jp=i1;Yg=jp.createRoot,jp.hydrateRoot;let ua;const s1=new Uint8Array(16);function o1(){if(!ua&&(ua=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ua))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ua(s1)}const Ve=[];for(let t=0;t<256;++t)Ve.push((t+256).toString(16).slice(1));function a1(t,e=0){return Ve[t[e+0]]+Ve[t[e+1]]+Ve[t[e+2]]+Ve[t[e+3]]+"-"+Ve[t[e+4]]+Ve[t[e+5]]+"-"+Ve[t[e+6]]+Ve[t[e+7]]+"-"+Ve[t[e+8]]+Ve[t[e+9]]+"-"+Ve[t[e+10]]+Ve[t[e+11]]+Ve[t[e+12]]+Ve[t[e+13]]+Ve[t[e+14]]+Ve[t[e+15]]}const l1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$p={randomUUID:l1};function fd(t,e,n){if($p.randomUUID&&!t)return $p.randomUUID();t=t||{};const r=t.random||(t.rng||o1)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,a1(r)}class u1{constructor(){this.tableLockRegistry={}}async lockTables(e){const n=[];for(const r of e){const i=this.tableLockRegistry[r];if(!i){this.tableLockRegistry[r]={isLocked:!0,promiseQueue:[]};continue}if(i.isLocked){const s=new Promise((o,a)=>{i.promiseQueue.push({reject:a,resolve:o})});n.push(s)}i.isLocked=!0}await Promise.all(n)}async unlockTables(e){var n;for(const r of e){const i=this.tableLockRegistry[r];i||(this.tableLockRegistry[r]={isLocked:!1,promiseQueue:[]});const s=(n=i==null?void 0:i.promiseQueue)==null?void 0:n.shift();s?(i.isLocked=!0,s.resolve()):i.isLocked=!1}}isTableLocked(e){var n;return((n=this.tableLockRegistry[e])==null?void 0:n.isLocked)??!1}}class c1 extends u1{constructor({fileManager:e,logger:n,onEvent:r,options:i,instanceManager:s,onDuckDBShutdown:o,onCreateConnection:a}){super(),this.connection=null,this.queriesQueue=[],this.terminateDBTimeout=null,this.queryQueueRunning=!1,this.shutdownLock=!1,this.fileManager=e,this.logger=n,this.onEvent=r,this.options=i,this.instanceManager=s,this.onDuckDBShutdown=o,this.onCreateConnection=a}async _shutdown(){this.shutdownLock||(this.connection&&(await this.connection.close(),this.connection=null),this.logger.debug("Shutting down the DB"),this.onDuckDBShutdown&&this.onDuckDBShutdown(),await this.fileManager.onDBShutdownHandler(),await this.instanceManager.terminateDB())}_startShutdownInactiveTimer(){var e;(e=this.options)!=null&&e.shutdownInactiveTime&&(this.terminateDBTimeout&&clearTimeout(this.terminateDBTimeout),this.terminateDBTimeout=setTimeout(async()=>{if(this.queriesQueue.length>0){this.logger.debug("Query queue is not empty, not shutting down the DB");return}await this._shutdown()},this.options.shutdownInactiveTime))}_emitEvent(e){this.onEvent&&this.onEvent(e)}async _getConnection(){if(!this.connection){const e=await this.instanceManager.getDB();this.connection=await e.connect(),this.onCreateConnection&&await this.onCreateConnection(this.connection)}return this.connection}async _queryWithTables(e,n,r){const i=Date.now();await this.fileManager.mountFileBufferByTables(n);const s=Date.now();this.logger.debug("Time spent in mounting files:",s-i,"ms",e),this._emitEvent({event_name:"mount_file_buffer_duration",duration:s-i,metadata:r==null?void 0:r.metadata});const o=await this.fileManager.getFilesNameForTables(n);r!=null&&r.preQuery&&await r.preQuery(o);const a=Date.now(),l=await this.query(e),c=Date.now()-a;return this.logger.debug("Time spent in executing query by duckdb:",c,"ms",e),this._emitEvent({event_name:"query_execution_duration",duration:c,metadata:r==null?void 0:r.metadata}),l}async _stopQueryQueue(){this.logger.debug("Query queue is empty, stopping the queue execution"),this.queryQueueRunning=!1,this.queriesQueue=[],await this._startShutdownInactiveTimer()}async _startQueryExecution(e){var n,r;if(this.logger.debug("Query queue length:",this.queriesQueue.length),this._emitEvent({event_name:"query_queue_length",value:this.queriesQueue.length,metadata:e}),this.currentQueryItem=this.queriesQueue.shift(),!this.currentQueryItem){await this._stopQueryQueue();return}try{await this.lockTables(this.currentQueryItem.tables.map(a=>a.name));const i=Date.now();this.logger.debug("Time since query was added to the queue:",i-this.currentQueryItem.timestamp,"ms",this.currentQueryItem.query),this._emitEvent({event_name:"query_queue_duration",duration:i-this.currentQueryItem.timestamp,metadata:e});const s=await this._queryWithTables(this.currentQueryItem.query,this.currentQueryItem.tables,this.currentQueryItem.options),o=Date.now();this.logger.debug("Total time spent along with queue time",o-this.currentQueryItem.timestamp,"ms",this.currentQueryItem.query),this.currentQueryItem.promise.resolve(s)}catch(i){this.logger.warn("Error while executing query:",(n=this.currentQueryItem)==null?void 0:n.query),(r=this.currentQueryItem)==null||r.promise.reject(i)}finally{await this.unlockTables(this.currentQueryItem.tables.map(i=>i.name))}this.currentQueryItem=void 0,this._startQueryExecution()}_startQueryQueue(){if(this.queryQueueRunning){this.logger.debug("Query queue is already running");return}this.logger.debug("Starting query queue"),this.queryQueueRunning=!0,this._startQueryExecution()}getQueueLength(){return this.queriesQueue.length}isQueryRunning(){return this.queryQueueRunning}_signalListener(e,n,r){const i=async s=>{var a;const o=this.queriesQueue.findIndex(l=>l.connectionId===e);o!==-1&&this.queriesQueue.splice(o,1),((a=this.currentQueryItem)==null?void 0:a.connectionId)===e&&await(await this._getConnection()).cancelSent(),r==null||r.removeEventListener("abort",i),n(s)};r==null||r.addEventListener("abort",i)}async queryWithTables({query:e,tables:n,options:r}){const i=fd(),s=new Promise((o,a)=>{this._signalListener(i,a,r==null?void 0:r.signal),this.queriesQueue.push({query:e,tables:n,promise:{resolve:o,reject:a},connectionId:i,timestamp:Date.now(),options:r})});return this._startQueryQueue(),s}async query(e){return(await this._getConnection()).query(e)}async setShutdownLock(e){this.shutdownLock=e}}const bs={RUNNER_ON_READY:"RUNNER_ON_READY",EXEC_QUERY:"EXEC_QUERY",RUNNER_PRE_QUERY:"RUNNER_PRE_QUERY",RUNNER_ON_EVENT:"RUNNER_ON_EVENT"},d1=t=>"RUNNER__"+t,f1=t=>"MAIN__"+t;class h1{constructor({app_name:e}){this.enable_logger=!0,this.app_name=e}info(e,...n){this.enable_logger&&console.info(`[${this.app_name}]`,e,...n)}warn(e,...n){this.enable_logger&&console.warn(`[${this.app_name}]`,e,...n)}error(e,...n){this.enable_logger&&console.error(`[${this.app_name}]`,e,...n)}}class p1{constructor({app_name:e,targetWindow:n,targetApp:r,origin:i}){this.messagesPromiseMap=new Map,this.gc=()=>{this.logger.info(`Starting GC with ${this.messagesPromiseMap.size} messages`);const s=Date.now();this.messagesPromiseMap.forEach((o,a)=>{var l;s-o.timestamp>3e4&&(this.logger.info("gc",a,o.timestamp,s-o.timestamp),(l=this.messagesPromiseMap.get(a))==null||l.reject(),this.messagesPromiseMap.delete(a))}),this.logger.info(`GC finished with ${this.messagesPromiseMap.size} messages`)},this.app_name=e,this._targetWindow=n,this._origin=i,this._targetApp=r,this.registerMessageListener(),this.gcRunnerIntervalRef=setInterval(this.gc,1e3*60*10),this.logger=new h1({app_name:this.app_name})}registerMessageListener(){window.addEventListener("message",e=>{if(e.origin!==this._origin){this.logger.warn("IframeCommunication: origin mismatch",e.origin,this._origin);return}if(e.data.target_app!==this.app_name){this.logger.warn("IframeCommunication: target_app mismatch",e.data.target_app,this.app_name);return}const{message:n,timestamp:r,uuid:i}=e.data,s=this.messagesPromiseMap.get(i);s&&(this.messagesPromiseMap.delete(i),s.resolve({message:n,target_app:this._targetApp,timestamp:r,uuid:i}))})}destroy(){clearInterval(this.gcRunnerIntervalRef)}sendRequest(e){if(!this._targetWindow)return this.logger.warn("IframeCommunication: iframe has no contentWindow"),Promise.reject();const n=fd(),r=Date.now();return this._targetWindow.postMessage({message:e,target_app:this._targetApp,timestamp:r,uuid:n},this._origin),new Promise((i,s)=>{this.messagesPromiseMap.set(n,{reject:s,resolve:i,timestamp:r})})}sendRequestWithoutResponse(e){if(!this._targetWindow){this.logger.warn("IframeCommunication: iframe has no contentWindow");return}const n=fd(),r=Date.now();this._targetWindow.postMessage({message:e,target_app:this._targetApp,timestamp:r,uuid:n},this._origin)}sendResponse(e,n){if(!this._targetWindow){this.logger.warn("IframeCommunication: iframe has no contentWindow");return}this._targetWindow.postMessage({message:n,target_app:this._targetApp,timestamp:Date.now(),uuid:e},this._origin)}onMessage(e){window.addEventListener("message",n=>{if(n.origin!==this._origin){this.logger.warn("IframeCommunication: origin mismatch",n.origin,this._origin);return}if(n.data.target_app!==this.app_name){this.logger.warn("IframeCommunication: target_app mismatch",n.data.target_app,this.app_name);return}const{message:r,timestamp:i,uuid:s,target_app:o}=n.data;s&&e({message:r,target_app:o,timestamp:i,uuid:s})})}}function H(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Vp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t){return this instanceof q?(this.v=t,this):new q(t)}function mn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(I,h){s.push([g,v,I,h])>1||l(g,v)})},_&&(i[g]=_(i[g])))}function l(g,_){try{u(r[g](_))}catch(v){f(s[0][3],v)}}function u(g){g.value instanceof q?Promise.resolve(g.value.v).then(c,d):f(s[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function f(g,_){g(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Fa(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:q(t[i](o)),done:!1}:s?s(o):o}:s}}function Kr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vp=="function"?Vp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const y1=new TextDecoder("utf-8"),hd=t=>y1.decode(t),m1=new TextEncoder,Hf=t=>m1.encode(t),g1=t=>typeof t=="number",qg=t=>typeof t=="boolean",Le=t=>typeof t=="function",_t=t=>t!=null&&Object(t)===t,Zr=t=>_t(t)&&Le(t.then),Co=t=>_t(t)&&Le(t[Symbol.iterator]),cs=t=>_t(t)&&Le(t[Symbol.asyncIterator]),pd=t=>_t(t)&&_t(t.schema),Gg=t=>_t(t)&&"done"in t&&"value"in t,Jg=t=>_t(t)&&Le(t.stat)&&g1(t.fd),Xg=t=>_t(t)&&Yf(t.body),Su=t=>"_getDOMStream"in t&&"_getNodeStream"in t,v1=t=>_t(t)&&Le(t.abort)&&Le(t.getWriter)&&!Su(t),Yf=t=>_t(t)&&Le(t.cancel)&&Le(t.getReader)&&!Su(t),_1=t=>_t(t)&&Le(t.end)&&Le(t.write)&&qg(t.writable)&&!Su(t),Zg=t=>_t(t)&&Le(t.read)&&Le(t.pipe)&&qg(t.readable)&&!Su(t),w1=t=>_t(t)&&Le(t.clear)&&Le(t.bytes)&&Le(t.position)&&Le(t.setPosition)&&Le(t.capacity)&&Le(t.getBufferIdentifier)&&Le(t.createLong),qf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function S1(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++u]=a);continue}e[u]=new Uint8Array(o.buffer,n,r-n+s)}return e}function Kp(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function wn(t,e){const n=S1(t),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?Kp(o,s,a):o=s;break}Kp(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function ue(t,e){let n=Gg(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Hf(n)),n instanceof ArrayBuffer?new t(n):n instanceof qf?new t(n):w1(n)?ue(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Is=t=>ue(Int32Array,t),Wp=t=>ue(BigInt64Array,t),ee=t=>ue(Uint8Array,t),yd=t=>(t.next(),t);function*b1(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof qf?n(e):Co(e)?e:n(e);return yield*yd(function*(i){let s=null;do s=i.next(yield ue(t,s));while(!s.done)}(r[Symbol.iterator]())),new t}const I1=t=>b1(Uint8Array,t);function ev(t,e){return mn(this,arguments,function*(){if(Zr(e))return yield q(yield q(yield*Fa(Kr(ev(t,yield q(e))))));const r=function(o){return mn(this,arguments,function*(){yield yield q(yield q(o))})},i=function(o){return mn(this,arguments,function*(){yield q(yield*Fa(Kr(yd(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof qf?r(e):Co(e)?i(e):cs(e)?e:r(e);return yield q(yield*Fa(Kr(yd(function(o){return mn(this,arguments,function*(){let a=null;do a=yield q(o.next(yield yield q(ue(t,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield q(new t)})}const E1=t=>ev(Uint8Array,t);function tv(t,e,n){if(t!==0){n=n.slice(0,e);for(let r=-1,i=n.length;++r<i;)n[r]+=t}return n.subarray(0,e)}function T1(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const xt={fromIterable(t){return ca(D1(t))},fromAsyncIterable(t){return ca(N1(t))},fromDOMStream(t){return ca(k1(t))},fromNodeStream(t){return ca(R1(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},ca=t=>(t.next(),t);function*D1(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?wn(r,o)[0]:([i,r,a]=wn(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=I1(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function N1(t){return mn(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?wn(i,a)[0]:([s,i,l]=wn(i,a),s)}({cmd:o,size:a}=(yield yield q(null))||{cmd:"read",size:0});const c=E1(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield q(c.next()):yield q(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield q(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield q(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield q(c.return(new Uint8Array(0))))}return yield q(null)})}function k1(t){return mn(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?wn(i,a)[0]:([s,i,l]=wn(i,a),s)}({cmd:o,size:a}=(yield yield q(null))||{cmd:"read",size:0});const c=new O1(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield q(c.read()):yield q(c.read(a-l)),!n&&s.byteLength>0&&(i.push(ee(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield q(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield q(c.cancel(d)))}finally{r===!1?yield q(c.cancel()):t.locked&&c.releaseLock()}return yield q(null)})}class O1{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return H(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return H(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=ee(n)),n})}}const tc=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function R1(t){return mn(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?wn(u,a)[0]:([c,u,l]=wn(u,a),c)}if({cmd:o,size:a}=(yield yield q(null))||{cmd:"read",size:0},t.isTTY)return yield yield q(new Uint8Array(0)),yield q(null);try{n[0]=tc(t,"end"),n[1]=tc(t,"error");do{if(n[2]=tc(t,"readable"),[r,s]=yield q(Promise.race(n.map(g=>g[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=ee(t.read(a-l)),c.byteLength<a-l&&(c=ee(t.read()))):c=ee(t.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield q(d()));while(a<l)}while(!i)}finally{yield q(f(n,r==="error"?s:null))}return yield q(null);function f(g,_){return c=u=null,new Promise((v,I)=>{for(const[h,p]of g)t.off(h,p);try{const h=t.destroy;h&&h.call(t,_),_=void 0}catch(h){_=h||_}finally{_!=null?I(_):v()}})}})}var Be;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(Be||(Be={}));var et;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(et||(et={}));var Xe;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Xe||(Xe={}));var Kt;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Kt||(Kt={}));var U;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(U||(U={}));var Sn;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Sn||(Sn={}));const nc=2,hn=4,Fn=4,oe=4,nr=new Int32Array(2),Qp=new Float32Array(nr.buffer),Hp=new Float64Array(nr.buffer),da=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var md;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(md||(md={}));let ts=class nv{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new nv(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return nr[0]=this.readInt32(e),Qp[0]}readFloat64(e){return nr[da?0:1]=this.readInt32(e),nr[da?1:0]=this.readInt32(e+4),Hp[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){Qp[0]=n,this.writeInt32(e,nr[0])}writeFloat64(e,n){Hp[0]=n,this.writeInt32(e,nr[da?0:1]),this.writeInt32(e+4,nr[da?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+hn+Fn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<Fn;n++)e+=String.fromCharCode(this.readInt8(this.position_+hn+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=hn;const i=this.bytes_.subarray(e,e+r);return n===md.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+hn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Fn)throw new Error("FlatBuffers: file identifier must be length "+Fn);for(let n=0;n<Fn;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+hn+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},rv=class iv{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=ts.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=iv.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=ts.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(hn,0),this.writeInt32(this.offset()-e+hn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*nc;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=nc;u<s;u+=nc)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?oe:0;if(n){const s=n;if(this.prep(this.minalign,hn+Fn+i),s.length!=Fn)throw new TypeError("FlatBuffers: file identifier must be length "+Fn);for(let o=Fn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,hn+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(hn,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var wl;(function(t){t[t.BUFFER=0]="BUFFER"})(wl||(wl={}));var Sl;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(Sl||(Sl={}));class rr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new rr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+oe),(n||new rr).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Sl.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):wl.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,Sl.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,wl.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return rr.startBodyCompression(e),rr.addCodec(e,n),rr.addMethod(e,r),rr.endBodyCompression(e)}}class sv{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}}let ov=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},Nn=class gd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new gd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+oe),(n||new gd).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new ov).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new sv).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new rr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},di=class vd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new vd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+oe),(n||new vd).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Nn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var ns;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(ns||(ns={}));var bl;(function(t){t[t.DenseArray=0]="DenseArray"})(bl||(bl={}));class Et{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new Et).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+oe),(n||new Et).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return Et.startInt(e),Et.addBitWidth(e,n),Et.addIsSigned(e,r),Et.endInt(e)}}class An{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new An).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+oe),(n||new An).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Et).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):bl.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,bl.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Ce{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Ce).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+oe),(n||new Ce).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Ce.startKeyValue(e),Ce.addKey(e,n),Ce.addValue(e,r),Ce.endKeyValue(e)}}let Yp=class Os{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new Os).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+oe),(n||new Os).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Os.startBinary(e),Os.endBinary(e)}},qp=class Rs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new Rs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+oe),(n||new Rs).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Rs.startBool(e),Rs.endBool(e)}},Aa=class fi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new fi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+oe),(n||new fi).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Kt.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Kt.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return fi.startDate(e),fi.addUnit(e,n),fi.endDate(e)}},hi=class Xn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Xn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+oe),(n||new Xn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return Xn.startDecimal(e),Xn.addPrecision(e,n),Xn.addScale(e,r),Xn.addBitWidth(e,i),Xn.endDecimal(e)}},xa=class pi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new pi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+oe),(n||new pi).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):U.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,U.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return pi.startDuration(e),pi.addUnit(e,n),pi.endDuration(e)}},La=class yi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new yi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+oe),(n||new yi).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return yi.startFixedSizeBinary(e),yi.addByteWidth(e,n),yi.endFixedSizeBinary(e)}},Ca=class mi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new mi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+oe),(n||new mi).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return mi.startFixedSizeList(e),mi.addListSize(e,n),mi.endFixedSizeList(e)}};class pn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new pn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+oe),(n||new pn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Xe.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Xe.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return pn.startFloatingPoint(e),pn.addPrecision(e,n),pn.endFloatingPoint(e)}}class yn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+oe),(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Sn.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Sn.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return yn.startInterval(e),yn.addUnit(e,n),yn.endInterval(e)}}let Gp=class Bs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new Bs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+oe),(n||new Bs).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return Bs.startLargeBinary(e),Bs.endLargeBinary(e)}},Jp=class Fs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new Fs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+oe),(n||new Fs).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return Fs.startLargeUtf8(e),Fs.endLargeUtf8(e)}},Xp=class As{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new As).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+oe),(n||new As).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return As.startList(e),As.endList(e)}},Ma=class gi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new gi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+oe),(n||new gi).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return gi.startMap(e),gi.addKeysSorted(e,n),gi.endMap(e)}},Zp=class xs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new xs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+oe),(n||new xs).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return xs.startNull(e),xs.endNull(e)}};class zr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new zr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+oe),(n||new zr).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return zr.startStruct_(e),zr.endStruct_(e)}}class Mt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new Mt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+oe),(n||new Mt).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):U.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,U.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return Mt.startTime(e),Mt.addUnit(e,n),Mt.addBitWidth(e,r),Mt.endTime(e)}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+oe),(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):U.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,U.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return Pt.startTimestamp(e),Pt.addUnit(e,n),Pt.addTimezone(e,r),Pt.endTimestamp(e)}}class ht{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new ht).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+oe),(n||new ht).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):et.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,et.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return ht.startUnion(e),ht.addMode(e,n),ht.addTypeIds(e,r),ht.endUnion(e)}}let ey=class Ls{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new Ls).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+oe),(n||new Ls).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Ls.startUtf8(e),Ls.endUtf8(e)}};var ye;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(ye||(ye={}));let At=class Pa{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Pa).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+oe),(n||new Pa).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):ye.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new An).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Pa).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,ye.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},un=class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new Tn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+oe),(n||new Tn).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ns.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new At).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,ns.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return Tn.startSchema(e),Tn.addEndianness(e,n),Tn.addFields(e,r),Tn.addCustomMetadata(e,i),Tn.addFeatures(e,s),Tn.endSchema(e)}};var re;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(re||(re={}));var y;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(y||(y={}));var kn;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(kn||(kn={}));const B1=void 0;function vo(t){if(t===null)return"null";if(t===B1)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>vo(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}function pe(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function av(t,e){return pe(t/e)+pe(t%e)/pe(e)}const F1=Symbol.for("isArrowBigNum");function nn(t,...e){return e.length===0?Object.setPrototypeOf(ue(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}nn.prototype[F1]=!0;nn.prototype.toJSON=function(){return`"${wo(this)}"`};nn.prototype.valueOf=function(t){return lv(this,t)};nn.prototype.toString=function(){return wo(this)};nn.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return lv(this);case"string":return wo(this);case"default":return L1(this)}return wo(this)};function ji(...t){return nn.apply(this,t)}function $i(...t){return nn.apply(this,t)}function _o(...t){return nn.apply(this,t)}Object.setPrototypeOf(ji.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf($i.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(_o.prototype,Object.create(Uint32Array.prototype));Object.assign(ji.prototype,nn.prototype,{constructor:ji,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign($i.prototype,nn.prototype,{constructor:$i,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(_o.prototype,nn.prototype,{constructor:_o,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const A1=BigInt(4294967296)*BigInt(4294967296),x1=A1-BigInt(1);function lv(t,e){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=t,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const c of o)l|=(c^x1)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const c of o)l|=c*(BigInt(1)<<BigInt(64*u++));if(typeof e=="number"){const c=BigInt(Math.pow(10,e)),d=l/c,f=l%c;return pe(d)+pe(f)/pe(c)}return pe(l)}function wo(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return rc(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return rc(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${rc(e)}`}function L1(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:wo(t)}function rc(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class Gf{static new(e,n){switch(n){case!0:return new ji(e);case!1:return new $i(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new ji(e)}return e.byteLength===16?new _o(e):new $i(e)}static signed(e){return new ji(e)}static unsigned(e){return new $i(e)}static decimal(e){return new _o(e)}constructor(e,n){return Gf.new(e,n)}}var uv,cv,dv,fv,hv,pv,yv,mv,gv,vv,_v,wv,Sv,bv,Iv,Ev,Tv,Dv,Nv,kv,Ov,Rv;class A{static isNull(e){return(e==null?void 0:e.typeId)===y.Null}static isInt(e){return(e==null?void 0:e.typeId)===y.Int}static isFloat(e){return(e==null?void 0:e.typeId)===y.Float}static isBinary(e){return(e==null?void 0:e.typeId)===y.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===y.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===y.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===y.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===y.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===y.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===y.Date}static isTime(e){return(e==null?void 0:e.typeId)===y.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===y.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===y.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===y.Duration}static isList(e){return(e==null?void 0:e.typeId)===y.List}static isStruct(e){return(e==null?void 0:e.typeId)===y.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===y.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===y.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===y.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===y.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===y.Dictionary}static isDenseUnion(e){return A.isUnion(e)&&e.mode===et.Dense}static isSparseUnion(e){return A.isUnion(e)&&e.mode===et.Sparse}constructor(e){this.typeId=e}}uv=Symbol.toStringTag;A[uv]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(A.prototype);class wr extends A{constructor(){super(y.Null)}toString(){return"Null"}}cv=Symbol.toStringTag;wr[cv]=(t=>t[Symbol.toStringTag]="Null")(wr.prototype);class ei extends A{constructor(e,n){super(y.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}dv=Symbol.toStringTag;ei[dv]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(ei.prototype);class So extends ei{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(So.prototype,"ArrayType",{value:Int32Array});class Il extends A{constructor(e){super(y.Float),this.precision=e}get ArrayType(){switch(this.precision){case Xe.HALF:return Uint16Array;case Xe.SINGLE:return Float32Array;case Xe.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}fv=Symbol.toStringTag;Il[fv]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Il.prototype);class El extends A{constructor(){super(y.Binary)}toString(){return"Binary"}}hv=Symbol.toStringTag;El[hv]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(El.prototype);class Tl extends A{constructor(){super(y.LargeBinary)}toString(){return"LargeBinary"}}pv=Symbol.toStringTag;Tl[pv]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(Tl.prototype);class Dl extends A{constructor(){super(y.Utf8)}toString(){return"Utf8"}}yv=Symbol.toStringTag;Dl[yv]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Dl.prototype);class Nl extends A{constructor(){super(y.LargeUtf8)}toString(){return"LargeUtf8"}}mv=Symbol.toStringTag;Nl[mv]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(Nl.prototype);class kl extends A{constructor(){super(y.Bool)}toString(){return"Bool"}}gv=Symbol.toStringTag;kl[gv]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(kl.prototype);class Ol extends A{constructor(e,n,r=128){super(y.Decimal),this.scale=e,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}vv=Symbol.toStringTag;Ol[vv]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ol.prototype);class Rl extends A{constructor(e){super(y.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${Kt[this.unit]}>`}get ArrayType(){return this.unit===Kt.DAY?Int32Array:BigInt64Array}}_v=Symbol.toStringTag;Rl[_v]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(Rl.prototype);class Bl extends A{constructor(e,n){super(y.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${U[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}wv=Symbol.toStringTag;Bl[wv]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Bl.prototype);class Fl extends A{constructor(e,n){super(y.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${U[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Sv=Symbol.toStringTag;Fl[Sv]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(Fl.prototype);class Al extends A{constructor(e){super(y.Interval),this.unit=e}toString(){return`Interval<${Sn[this.unit]}>`}}bv=Symbol.toStringTag;Al[bv]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Al.prototype);class xl extends A{constructor(e){super(y.Duration),this.unit=e}toString(){return`Duration<${U[this.unit]}>`}}Iv=Symbol.toStringTag;xl[Iv]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(xl.prototype);class Ll extends A{constructor(e){super(y.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Ev=Symbol.toStringTag;Ll[Ev]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Ll.prototype);class rt extends A{constructor(e){super(y.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Tv=Symbol.toStringTag;rt[Tv]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(rt.prototype);class Cl extends A{constructor(e,n,r){super(y.Union),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}Dv=Symbol.toStringTag;Cl[Dv]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Cl.prototype);class Ml extends A{constructor(e){super(y.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Nv=Symbol.toStringTag;Ml[Nv]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Ml.prototype);class Pl extends A{constructor(e,n){super(y.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}kv=Symbol.toStringTag;Pl[kv]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Pl.prototype);class Ul extends A{constructor(e,n=!1){var r,i,s;if(super(y.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((r=e==null?void 0:e.type)===null||r===void 0)&&r.children)){const o=(i=e==null?void 0:e.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=e==null?void 0:e.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Ov=Symbol.toStringTag;Ul[Ov]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Ul.prototype);const C1=(t=>()=>++t)(-1);class rs extends A{constructor(e,n,r,i){super(y.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?C1():pe(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Rv=Symbol.toStringTag;rs[Rv]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(rs.prototype);function On(t){const e=t;switch(t.typeId){case y.Decimal:return t.bitWidth/32;case y.Interval:return 1+e.unit;case y.FixedSizeList:return e.listSize;case y.FixedSizeBinary:return e.byteWidth;default:return 1}}class G{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return M1(this,e,n)}getVisitFnByTypeId(e,n=!0){return vi(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function M1(t,e,n=!0){return typeof e=="number"?vi(t,e,n):typeof e=="string"&&e in y?vi(t,y[e],n):e&&e instanceof A?vi(t,ty(e),n):e!=null&&e.type&&e.type instanceof A?vi(t,ty(e.type),n):vi(t,y.NONE,n)}function vi(t,e,n=!0){let r=null;switch(e){case y.Null:r=t.visitNull;break;case y.Bool:r=t.visitBool;break;case y.Int:r=t.visitInt;break;case y.Int8:r=t.visitInt8||t.visitInt;break;case y.Int16:r=t.visitInt16||t.visitInt;break;case y.Int32:r=t.visitInt32||t.visitInt;break;case y.Int64:r=t.visitInt64||t.visitInt;break;case y.Uint8:r=t.visitUint8||t.visitInt;break;case y.Uint16:r=t.visitUint16||t.visitInt;break;case y.Uint32:r=t.visitUint32||t.visitInt;break;case y.Uint64:r=t.visitUint64||t.visitInt;break;case y.Float:r=t.visitFloat;break;case y.Float16:r=t.visitFloat16||t.visitFloat;break;case y.Float32:r=t.visitFloat32||t.visitFloat;break;case y.Float64:r=t.visitFloat64||t.visitFloat;break;case y.Utf8:r=t.visitUtf8;break;case y.LargeUtf8:r=t.visitLargeUtf8;break;case y.Binary:r=t.visitBinary;break;case y.LargeBinary:r=t.visitLargeBinary;break;case y.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case y.Date:r=t.visitDate;break;case y.DateDay:r=t.visitDateDay||t.visitDate;break;case y.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case y.Timestamp:r=t.visitTimestamp;break;case y.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case y.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case y.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case y.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case y.Time:r=t.visitTime;break;case y.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case y.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case y.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case y.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case y.Decimal:r=t.visitDecimal;break;case y.List:r=t.visitList;break;case y.Struct:r=t.visitStruct;break;case y.Union:r=t.visitUnion;break;case y.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case y.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case y.Dictionary:r=t.visitDictionary;break;case y.Interval:r=t.visitInterval;break;case y.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case y.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case y.Duration:r=t.visitDuration;break;case y.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case y.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case y.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case y.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case y.FixedSizeList:r=t.visitFixedSizeList;break;case y.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${y[e]}'`)}function ty(t){switch(t.typeId){case y.Null:return y.Null;case y.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?y.Int8:y.Uint8;case 16:return n?y.Int16:y.Uint16;case 32:return n?y.Int32:y.Uint32;case 64:return n?y.Int64:y.Uint64}return y.Int}case y.Float:switch(t.precision){case Xe.HALF:return y.Float16;case Xe.SINGLE:return y.Float32;case Xe.DOUBLE:return y.Float64}return y.Float;case y.Binary:return y.Binary;case y.LargeBinary:return y.LargeBinary;case y.Utf8:return y.Utf8;case y.LargeUtf8:return y.LargeUtf8;case y.Bool:return y.Bool;case y.Decimal:return y.Decimal;case y.Time:switch(t.unit){case U.SECOND:return y.TimeSecond;case U.MILLISECOND:return y.TimeMillisecond;case U.MICROSECOND:return y.TimeMicrosecond;case U.NANOSECOND:return y.TimeNanosecond}return y.Time;case y.Timestamp:switch(t.unit){case U.SECOND:return y.TimestampSecond;case U.MILLISECOND:return y.TimestampMillisecond;case U.MICROSECOND:return y.TimestampMicrosecond;case U.NANOSECOND:return y.TimestampNanosecond}return y.Timestamp;case y.Date:switch(t.unit){case Kt.DAY:return y.DateDay;case Kt.MILLISECOND:return y.DateMillisecond}return y.Date;case y.Interval:switch(t.unit){case Sn.DAY_TIME:return y.IntervalDayTime;case Sn.YEAR_MONTH:return y.IntervalYearMonth}return y.Interval;case y.Duration:switch(t.unit){case U.SECOND:return y.DurationSecond;case U.MILLISECOND:return y.DurationMillisecond;case U.MICROSECOND:return y.DurationMicrosecond;case U.NANOSECOND:return y.DurationNanosecond}return y.Duration;case y.Map:return y.Map;case y.List:return y.List;case y.Struct:return y.Struct;case y.Union:switch(t.mode){case et.Dense:return y.DenseUnion;case et.Sparse:return y.SparseUnion}return y.Union;case y.FixedSizeBinary:return y.FixedSizeBinary;case y.FixedSizeList:return y.FixedSizeList;case y.Dictionary:return y.Dictionary}throw new Error(`Unrecognized type '${y[t.typeId]}'`)}G.prototype.visitInt8=null;G.prototype.visitInt16=null;G.prototype.visitInt32=null;G.prototype.visitInt64=null;G.prototype.visitUint8=null;G.prototype.visitUint16=null;G.prototype.visitUint32=null;G.prototype.visitUint64=null;G.prototype.visitFloat16=null;G.prototype.visitFloat32=null;G.prototype.visitFloat64=null;G.prototype.visitDateDay=null;G.prototype.visitDateMillisecond=null;G.prototype.visitTimestampSecond=null;G.prototype.visitTimestampMillisecond=null;G.prototype.visitTimestampMicrosecond=null;G.prototype.visitTimestampNanosecond=null;G.prototype.visitTimeSecond=null;G.prototype.visitTimeMillisecond=null;G.prototype.visitTimeMicrosecond=null;G.prototype.visitTimeNanosecond=null;G.prototype.visitDenseUnion=null;G.prototype.visitSparseUnion=null;G.prototype.visitIntervalDayTime=null;G.prototype.visitIntervalYearMonth=null;G.prototype.visitDuration=null;G.prototype.visitDurationSecond=null;G.prototype.visitDurationMillisecond=null;G.prototype.visitDurationMicrosecond=null;G.prototype.visitDurationNanosecond=null;const Bv=new Float64Array(1),li=new Uint32Array(Bv.buffer);function Fv(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function P1(t){if(t!==t)return 32256;Bv[0]=t;const e=(li[1]&2147483648)>>16&65535;let n=li[1]&2146435072,r=0;return n>=1089470464?li[0]>0?n=31744:(n=(n&2080374784)>>16,r=(li[1]&1048575)>>10):n<=1056964608?(r=1048576+(li[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(li[1]&1048575)+512>>10),e|n|r&65535}class z extends G{}function V(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const U1=(t,e,n)=>{t[e]=Math.floor(n/864e5)},Av=(t,e,n,r)=>{if(n+1<e.length){const i=pe(e[n]),s=pe(e[n+1]);t.set(r.subarray(0,s-i),i)}},z1=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Hn=({values:t},e,n)=>{t[e]=n},Jf=({values:t},e,n)=>{t[e]=n},xv=({values:t},e,n)=>{t[e]=P1(n)},j1=(t,e,n)=>{switch(t.type.precision){case Xe.HALF:return xv(t,e,n);case Xe.SINGLE:case Xe.DOUBLE:return Jf(t,e,n)}},Lv=({values:t},e,n)=>{U1(t,e,n.valueOf())},Cv=({values:t},e,n)=>{t[e]=BigInt(n)},$1=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},Mv=({values:t,valueOffsets:e},n,r)=>Av(t,e,n,r),Pv=({values:t,valueOffsets:e},n,r)=>Av(t,e,n,Hf(r)),V1=(t,e,n)=>{t.type.unit===Kt.DAY?Lv(t,e,n):Cv(t,e,n)},Uv=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},zv=({values:t},e,n)=>{t[e]=BigInt(n)},jv=({values:t},e,n)=>{t[e]=BigInt(n*1e3)},$v=({values:t},e,n)=>{t[e]=BigInt(n*1e6)},K1=(t,e,n)=>{switch(t.type.unit){case U.SECOND:return Uv(t,e,n);case U.MILLISECOND:return zv(t,e,n);case U.MICROSECOND:return jv(t,e,n);case U.NANOSECOND:return $v(t,e,n)}},Vv=({values:t},e,n)=>{t[e]=n},Kv=({values:t},e,n)=>{t[e]=n},Wv=({values:t},e,n)=>{t[e]=n},Qv=({values:t},e,n)=>{t[e]=n},W1=(t,e,n)=>{switch(t.type.unit){case U.SECOND:return Vv(t,e,n);case U.MILLISECOND:return Kv(t,e,n);case U.MICROSECOND:return Wv(t,e,n);case U.NANOSECOND:return Qv(t,e,n)}},Q1=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},H1=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Wt.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},Y1=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Wt.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},q1=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),G1=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),J1=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),X1=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),Z1=(t,e,n)=>{const r=t.type.children.map(s=>Wt.getVisitFn(s.type)),i=n instanceof Map?J1(e,n):n instanceof ie?G1(e,n):Array.isArray(n)?q1(e,n):X1(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},eb=(t,e,n)=>{t.type.mode===et.Dense?Hv(t,e,n):Yv(t,e,n)},Hv=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Wt.visit(i,t.valueOffsets[e],n)},Yv=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Wt.visit(i,e,n)},tb=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},nb=(t,e,n)=>{t.type.unit===Sn.DAY_TIME?qv(t,e,n):Gv(t,e,n)},qv=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},Gv=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},Jv=({values:t},e,n)=>{t[e]=n},Xv=({values:t},e,n)=>{t[e]=n},Zv=({values:t},e,n)=>{t[e]=n},e0=({values:t},e,n)=>{t[e]=n},rb=(t,e,n)=>{switch(t.type.unit){case U.SECOND:return Jv(t,e,n);case U.MILLISECOND:return Xv(t,e,n);case U.MICROSECOND:return Zv(t,e,n);case U.NANOSECOND:return e0(t,e,n)}},ib=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Wt.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};z.prototype.visitBool=V(z1);z.prototype.visitInt=V(Hn);z.prototype.visitInt8=V(Hn);z.prototype.visitInt16=V(Hn);z.prototype.visitInt32=V(Hn);z.prototype.visitInt64=V(Hn);z.prototype.visitUint8=V(Hn);z.prototype.visitUint16=V(Hn);z.prototype.visitUint32=V(Hn);z.prototype.visitUint64=V(Hn);z.prototype.visitFloat=V(j1);z.prototype.visitFloat16=V(xv);z.prototype.visitFloat32=V(Jf);z.prototype.visitFloat64=V(Jf);z.prototype.visitUtf8=V(Pv);z.prototype.visitLargeUtf8=V(Pv);z.prototype.visitBinary=V(Mv);z.prototype.visitLargeBinary=V(Mv);z.prototype.visitFixedSizeBinary=V($1);z.prototype.visitDate=V(V1);z.prototype.visitDateDay=V(Lv);z.prototype.visitDateMillisecond=V(Cv);z.prototype.visitTimestamp=V(K1);z.prototype.visitTimestampSecond=V(Uv);z.prototype.visitTimestampMillisecond=V(zv);z.prototype.visitTimestampMicrosecond=V(jv);z.prototype.visitTimestampNanosecond=V($v);z.prototype.visitTime=V(W1);z.prototype.visitTimeSecond=V(Vv);z.prototype.visitTimeMillisecond=V(Kv);z.prototype.visitTimeMicrosecond=V(Wv);z.prototype.visitTimeNanosecond=V(Qv);z.prototype.visitDecimal=V(Q1);z.prototype.visitList=V(H1);z.prototype.visitStruct=V(Z1);z.prototype.visitUnion=V(eb);z.prototype.visitDenseUnion=V(Hv);z.prototype.visitSparseUnion=V(Yv);z.prototype.visitDictionary=V(tb);z.prototype.visitInterval=V(nb);z.prototype.visitIntervalDayTime=V(qv);z.prototype.visitIntervalYearMonth=V(Gv);z.prototype.visitDuration=V(rb);z.prototype.visitDurationSecond=V(Jv);z.prototype.visitDurationMillisecond=V(Xv);z.prototype.visitDurationMicrosecond=V(Zv);z.prototype.visitDurationNanosecond=V(e0);z.prototype.visitFixedSizeList=V(ib);z.prototype.visitMap=V(Y1);const Wt=new z,qt=Symbol.for("parent"),Vi=Symbol.for("rowIndex");class Xf{constructor(e,n){return this[qt]=e,this[Vi]=n,new Proxy(this,new ob)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Vi],n=this[qt],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=wt.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${vo(e)}: ${vo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new sb(this[qt],this[Vi])}}class sb{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,wt.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Xf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[qt]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Vi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ob{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[qt].type.children.map(n=>n.name)}has(e,n){return e[qt].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[qt].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[qt].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=wt.visit(e[qt].children[r],e[Vi]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[qt].type.children.findIndex(s=>s.name===n);return i!==-1?(Wt.visit(e[qt].children[i],e[Vi],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class L extends G{}function j(t){return(e,n)=>e.getValid(n)?t(e,n):null}const ab=(t,e)=>864e5*t[e],lb=(t,e)=>null,t0=(t,e,n)=>{if(n+1>=e.length)return null;const r=pe(e[n]),i=pe(e[n+1]);return t.subarray(r,i)},ub=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},n0=({values:t},e)=>ab(t,e),r0=({values:t},e)=>pe(t[e]),Rr=({stride:t,values:e},n)=>e[t*n],cb=({stride:t,values:e},n)=>Fv(e[t*n]),i0=({values:t},e)=>t[e],db=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),s0=({values:t,valueOffsets:e},n)=>t0(t,e,n),o0=({values:t,valueOffsets:e},n)=>{const r=t0(t,e,n);return r!==null?hd(r):null},fb=({values:t},e)=>t[e],hb=({type:t,values:e},n)=>t.precision!==Xe.HALF?e[n]:Fv(e[n]),pb=(t,e)=>t.type.unit===Kt.DAY?n0(t,e):r0(t,e),a0=({values:t},e)=>1e3*pe(t[e]),l0=({values:t},e)=>pe(t[e]),u0=({values:t},e)=>av(t[e],BigInt(1e3)),c0=({values:t},e)=>av(t[e],BigInt(1e6)),yb=(t,e)=>{switch(t.type.unit){case U.SECOND:return a0(t,e);case U.MILLISECOND:return l0(t,e);case U.MICROSECOND:return u0(t,e);case U.NANOSECOND:return c0(t,e)}},d0=({values:t},e)=>t[e],f0=({values:t},e)=>t[e],h0=({values:t},e)=>t[e],p0=({values:t},e)=>t[e],mb=(t,e)=>{switch(t.type.unit){case U.SECOND:return d0(t,e);case U.MILLISECOND:return f0(t,e);case U.MICROSECOND:return h0(t,e);case U.NANOSECOND:return p0(t,e)}},gb=({values:t,stride:e},n)=>Gf.decimal(t.subarray(e*n,e*(n+1))),vb=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new ie([l])},_b=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new Zf(o.slice(i,s-i))},wb=(t,e)=>new Xf(t,e),Sb=(t,e)=>t.type.mode===et.Dense?y0(t,e):m0(t,e),y0=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return wt.visit(r,t.valueOffsets[e])},m0=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return wt.visit(r,e)},bb=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},Ib=(t,e)=>t.type.unit===Sn.DAY_TIME?g0(t,e):v0(t,e),g0=({values:t},e)=>t.subarray(2*e,2*(e+1)),v0=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},_0=({values:t},e)=>t[e],w0=({values:t},e)=>t[e],S0=({values:t},e)=>t[e],b0=({values:t},e)=>t[e],Eb=(t,e)=>{switch(t.type.unit){case U.SECOND:return _0(t,e);case U.MILLISECOND:return w0(t,e);case U.MICROSECOND:return S0(t,e);case U.NANOSECOND:return b0(t,e)}},Tb=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new ie([s])};L.prototype.visitNull=j(lb);L.prototype.visitBool=j(ub);L.prototype.visitInt=j(fb);L.prototype.visitInt8=j(Rr);L.prototype.visitInt16=j(Rr);L.prototype.visitInt32=j(Rr);L.prototype.visitInt64=j(i0);L.prototype.visitUint8=j(Rr);L.prototype.visitUint16=j(Rr);L.prototype.visitUint32=j(Rr);L.prototype.visitUint64=j(i0);L.prototype.visitFloat=j(hb);L.prototype.visitFloat16=j(cb);L.prototype.visitFloat32=j(Rr);L.prototype.visitFloat64=j(Rr);L.prototype.visitUtf8=j(o0);L.prototype.visitLargeUtf8=j(o0);L.prototype.visitBinary=j(s0);L.prototype.visitLargeBinary=j(s0);L.prototype.visitFixedSizeBinary=j(db);L.prototype.visitDate=j(pb);L.prototype.visitDateDay=j(n0);L.prototype.visitDateMillisecond=j(r0);L.prototype.visitTimestamp=j(yb);L.prototype.visitTimestampSecond=j(a0);L.prototype.visitTimestampMillisecond=j(l0);L.prototype.visitTimestampMicrosecond=j(u0);L.prototype.visitTimestampNanosecond=j(c0);L.prototype.visitTime=j(mb);L.prototype.visitTimeSecond=j(d0);L.prototype.visitTimeMillisecond=j(f0);L.prototype.visitTimeMicrosecond=j(h0);L.prototype.visitTimeNanosecond=j(p0);L.prototype.visitDecimal=j(gb);L.prototype.visitList=j(vb);L.prototype.visitStruct=j(wb);L.prototype.visitUnion=j(Sb);L.prototype.visitDenseUnion=j(y0);L.prototype.visitSparseUnion=j(m0);L.prototype.visitDictionary=j(bb);L.prototype.visitInterval=j(Ib);L.prototype.visitIntervalDayTime=j(g0);L.prototype.visitIntervalYearMonth=j(v0);L.prototype.visitDuration=j(Eb);L.prototype.visitDurationSecond=j(_0);L.prototype.visitDurationMillisecond=j(w0);L.prototype.visitDurationMicrosecond=j(S0);L.prototype.visitDurationNanosecond=j(b0);L.prototype.visitFixedSizeList=j(Tb);L.prototype.visitMap=j(_b);const wt=new L,_i=Symbol.for("keys"),Ki=Symbol.for("vals"),wi=Symbol.for("kKeysAsStrings"),_d=Symbol.for("_kKeysAsStrings");class Zf{constructor(e){return this[_i]=new ie([e.children[0]]).memoize(),this[Ki]=e.children[1],new Proxy(this,new Nb)}get[wi](){return this[_d]||(this[_d]=Array.from(this[_i].toArray(),String))}[Symbol.iterator](){return new Db(this[_i],this[Ki])}get size(){return this[_i].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[_i],n=this[Ki],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=wt.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${vo(e)}: ${vo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Db{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),wt.visit(this.vals,e)]})}}class Nb{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[wi]}has(e,n){return e[wi].includes(n)}getOwnPropertyDescriptor(e,n){if(e[wi].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[wi].indexOf(n);if(r!==-1){const i=wt.visit(Reflect.get(e,Ki),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[wi].indexOf(n);return i!==-1?(Wt.visit(Reflect.get(e,Ki),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(Zf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[_i]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ki]:{writable:!0,enumerable:!1,configurable:!1,value:null},[_d]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let ny;function I0(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(ny=s,s=o,o=ny),o>i&&(o=i),r?r(t,s,o):[s,o]}const eh=(t,e)=>t<0?e+t:t,ry=t=>t!==t;function ds(t){if(typeof t!=="object"||t===null)return ry(t)?ry:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?T1(t,n):!1:t instanceof Map?Ob(t):Array.isArray(t)?kb(t):t instanceof ie?Rb(t):Bb(t,!0)}function kb(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=ds(t[n]);return bu(e)}function Ob(t){let e=-1;const n=[];for(const r of t.values())n[++e]=ds(r);return bu(n)}function Rb(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=ds(t.get(n));return bu(e)}function Bb(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=ds(t[n[i]]);return bu(r,n)}function bu(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Fb(t,n);case Map:return iy(t,n,n.keys());case Zf:case Xf:case Object:case void 0:return iy(t,n,e||Object.keys(n))}return n instanceof ie?Ab(t,n):!1}}function Fb(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function Ab(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function iy(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!t[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function E0(t,e,n,r){return(n&1<<r)!==0}function xb(t,e,n,r){return(n&1<<r)>>r}function zl(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):jl(new th(n,t,e,null,E0)).subarray(0,r)),i}return n}function jl(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class th{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function wd(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new th(t,e,n-e,t,xb))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return wd(t,e,i)+wd(t,r,n)+Lb(t,i>>3,r-i>>3)}function Lb(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=ic(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=ic(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=ic(s.getUint8(i)),i+=1;return r}function ic(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Cb=-1;class ae{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return A.isSparseUnion(e)?this.children.some(n=>n.nullable):A.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){if(A.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let e=this._nullCount,n;return e<=Cb&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-wd(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof ae?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=On(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(e){const{type:n}=this;if(A.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[e]]],s=r.mode===et.Dense?this.valueOffsets[e]:e;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(e,n){let r;const{type:i}=this;if(A.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[e]]],a=s.mode===et.Dense?this.valueOffsets[e]:e;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+e,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(zl(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const d=s[c];r=(d&u)!==0,s[c]=n?d|u:d&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new ae(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===y.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(zl(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[kn.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[kn.TYPE])&&(o[kn.TYPE]=s.subarray(e,e+n)),(s=o[kn.OFFSET])&&(o[kn.OFFSET]=s.subarray(e,e+n+1))||(s=o[kn.DATA])&&(o[kn.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}ae.prototype.children=Object.freeze([]);class Ys extends G{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new ae(n,r,i,i)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Is(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,i,s])}visitLargeUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Wp(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Is(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,i,s])}visitLargeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.data),s=ee(e.nullBitmap),o=Wp(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=ee(e.nullBitmap),o=Is(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=ee(e.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=ue(n.ArrayType,e.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=e;if(A.isSparseUnion(n))return new ae(n,r,o,a,[void 0,void 0,void 0,s],i);const l=Is(e.valueOffsets);return new ae(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.indices.ArrayType,e.data),{["dictionary"]:o=new ie([new Ys().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitDuration(e){const{["type"]:n,["offset"]:r=0}=e,i=ee(e.nullBitmap),s=ue(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Ys().visit({type:n.valueType})}=e,s=ee(e.nullBitmap),{["length"]:o=i.length/On(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ae(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Ys().visit({type:n.childType})}=e,s=ee(e.nullBitmap),o=Is(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ae(n,r,a,l,[o,void 0,s],[i])}}const Mb=new Ys;function X(t){return Mb.visit(t)}class sy{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Pb(t){return t.some(e=>e.nullable)}function T0(t){return t.reduce((e,n)=>e+n.nullCount,0)}function D0(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function N0(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(t[0].slice(0,0)),i}function nh(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function rh(t,e){return t.getValid(e)}function $l(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return nh(r,this._offsets,n,e)}}function k0(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=nh(s,this._offsets,r,n);return e=void 0,o}}function O0(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=t(d,e,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):nh(s,this._offsets,i,n);return e=void 0,o}}class C extends G{}function Ub(t,e){return e===null&&t.length>0?0:-1}function zb(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new th(n,t.offset+(e||0),t.length,n,E0)){if(!i)return r;++r}return-1}function Q(t,e,n){if(e===void 0)return-1;if(e===null)switch(t.typeId){case y.Union:break;case y.Dictionary:break;default:return zb(t,n)}const r=wt.getVisitFn(t),i=ds(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function R0(t,e,n){const r=wt.getVisitFn(t),i=ds(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}C.prototype.visitNull=Ub;C.prototype.visitBool=Q;C.prototype.visitInt=Q;C.prototype.visitInt8=Q;C.prototype.visitInt16=Q;C.prototype.visitInt32=Q;C.prototype.visitInt64=Q;C.prototype.visitUint8=Q;C.prototype.visitUint16=Q;C.prototype.visitUint32=Q;C.prototype.visitUint64=Q;C.prototype.visitFloat=Q;C.prototype.visitFloat16=Q;C.prototype.visitFloat32=Q;C.prototype.visitFloat64=Q;C.prototype.visitUtf8=Q;C.prototype.visitLargeUtf8=Q;C.prototype.visitBinary=Q;C.prototype.visitLargeBinary=Q;C.prototype.visitFixedSizeBinary=Q;C.prototype.visitDate=Q;C.prototype.visitDateDay=Q;C.prototype.visitDateMillisecond=Q;C.prototype.visitTimestamp=Q;C.prototype.visitTimestampSecond=Q;C.prototype.visitTimestampMillisecond=Q;C.prototype.visitTimestampMicrosecond=Q;C.prototype.visitTimestampNanosecond=Q;C.prototype.visitTime=Q;C.prototype.visitTimeSecond=Q;C.prototype.visitTimeMillisecond=Q;C.prototype.visitTimeMicrosecond=Q;C.prototype.visitTimeNanosecond=Q;C.prototype.visitDecimal=Q;C.prototype.visitList=Q;C.prototype.visitStruct=Q;C.prototype.visitUnion=Q;C.prototype.visitDenseUnion=R0;C.prototype.visitSparseUnion=R0;C.prototype.visitDictionary=Q;C.prototype.visitInterval=Q;C.prototype.visitIntervalDayTime=Q;C.prototype.visitIntervalYearMonth=Q;C.prototype.visitDuration=Q;C.prototype.visitDurationSecond=Q;C.prototype.visitDurationMillisecond=Q;C.prototype.visitDurationMicrosecond=Q;C.prototype.visitDurationNanosecond=Q;C.prototype.visitFixedSizeList=Q;C.prototype.visitMap=Q;const Vl=new C;class M extends G{}function $(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(A.isInt(e)&&e.bitWidth!==64||A.isTime(e)&&e.bitWidth!==64||A.isFloat(e)&&e.precision!==Xe.HALF))return new sy(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new sy(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new jb(o)})}class jb{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}M.prototype.visitNull=$;M.prototype.visitBool=$;M.prototype.visitInt=$;M.prototype.visitInt8=$;M.prototype.visitInt16=$;M.prototype.visitInt32=$;M.prototype.visitInt64=$;M.prototype.visitUint8=$;M.prototype.visitUint16=$;M.prototype.visitUint32=$;M.prototype.visitUint64=$;M.prototype.visitFloat=$;M.prototype.visitFloat16=$;M.prototype.visitFloat32=$;M.prototype.visitFloat64=$;M.prototype.visitUtf8=$;M.prototype.visitLargeUtf8=$;M.prototype.visitBinary=$;M.prototype.visitLargeBinary=$;M.prototype.visitFixedSizeBinary=$;M.prototype.visitDate=$;M.prototype.visitDateDay=$;M.prototype.visitDateMillisecond=$;M.prototype.visitTimestamp=$;M.prototype.visitTimestampSecond=$;M.prototype.visitTimestampMillisecond=$;M.prototype.visitTimestampMicrosecond=$;M.prototype.visitTimestampNanosecond=$;M.prototype.visitTime=$;M.prototype.visitTimeSecond=$;M.prototype.visitTimeMillisecond=$;M.prototype.visitTimeMicrosecond=$;M.prototype.visitTimeNanosecond=$;M.prototype.visitDecimal=$;M.prototype.visitList=$;M.prototype.visitStruct=$;M.prototype.visitUnion=$;M.prototype.visitDenseUnion=$;M.prototype.visitSparseUnion=$;M.prototype.visitDictionary=$;M.prototype.visitInterval=$;M.prototype.visitIntervalDayTime=$;M.prototype.visitIntervalYearMonth=$;M.prototype.visitDuration=$;M.prototype.visitDurationSecond=$;M.prototype.visitDurationMillisecond=$;M.prototype.visitDurationMicrosecond=$;M.prototype.visitDurationNanosecond=$;M.prototype.visitFixedSizeList=$;M.prototype.visitMap=$;const ih=new M;var B0;const F0={},A0={};class ie{constructor(e){var n,r,i;const s=e[0]instanceof ie?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof ae)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=F0[o.typeId],c=s[0];this.isValid=d=>rh(c,d),this.get=d=>a(c,d),this.set=(d,f)=>l(c,d,f),this.indexOf=d=>u(c,d),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,A0[o.typeId]),this._offsets=D0(s);break}this.data=s,this.type=o,this.stride=On(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Pb(this.data)}get nullCount(){return T0(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${y[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(eh(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return ih.visit(this)}concat(...e){return new ie(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new ie(I0(this,e,n,({data:r,_offsets:i},s,o)=>N0(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case y.Int:case y.Float:case y.Decimal:case y.Time:case y.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new ie(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return A.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(A.isDictionary(this.type)){const e=new Kl(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new ie(n)}return new Kl(this)}unmemoize(){if(A.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new ie(n)}return this}}B0=Symbol.toStringTag;ie[B0]=(t=>{t.type=A.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(y).map(n=>y[n]).filter(n=>typeof n=="number"&&n!==y.NONE);for(const n of e){const r=wt.getVisitFnByTypeId(n),i=Wt.getVisitFnByTypeId(n),s=Vl.getVisitFnByTypeId(n);F0[n]={get:r,set:i,indexOf:s},A0[n]=Object.create(t,{isValid:{value:$l(rh)},get:{value:$l(wt.getVisitFnByTypeId(n))},set:{value:k0(Wt.getVisitFnByTypeId(n))},indexOf:{value:O0(Vl.getVisitFnByTypeId(n))}})}return"Vector"})(ie.prototype);class Kl extends ie{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Kl(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new ie(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n??0)),e.offset()}}class bt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new bt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+oe),(n||new bt).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Be.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new un).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Sd).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Sd).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,Be.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class se{constructor(e=[],n,r,i=Be.V5){this.fields=e||[],this.metadata=n||new Map,r||(r=bd(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new se(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new se(n,this.metadata)}assign(...e){const n=e[0]instanceof se?e[0]:Array.isArray(e[0])?new se(e[0]):new se(e),r=[...this.fields],i=fa(fa(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:fa(fa(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=bd(s,new Map);return new se([...r,...s],i,new Map([...this.dictionaries,...o]))}}se.prototype.fields=null;se.prototype.metadata=null;se.prototype.dictionaries=null;class we{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new we(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],we.new(n,r,i,s)}}we.prototype.type=null;we.prototype.name=null;we.prototype.nullable=null;we.prototype.metadata=null;function fa(t,e){return new Map([...t||new Map,...e||new Map])}function bd(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(A.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&bd(s.children,e)}return e}var $b=rv,Vb=ts;class bo{static decode(e){e=new Vb(ee(e));const n=bt.getRootAsFooter(e),r=se.decode(n.schema(),new Map,n.version());return new Kb(r,n)}static encode(e){const n=new $b,r=se.encode(n,e.schema);bt.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())Sr.encode(n,o);const i=n.endVector();bt.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())Sr.encode(n,o);const s=n.endVector();return bt.startFooter(n),bt.addSchema(n,r),bt.addVersion(n,Be.V5),bt.addRecordBatches(n,i),bt.addDictionaries(n,s),bt.finishFooterBuffer(n,bt.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=Be.V5,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Kb extends bo{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return Sr.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return Sr.decode(n)}return null}}class Sr{static decode(e){return new Sr(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Sd.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=pe(r),this.bodyLength=pe(n)}}const Ee=Object.freeze({done:!0,value:void 0});class oy{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class sh{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Wb extends sh{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return H(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Ee);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return xt.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return xt.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return H(this,void 0,void 0,function*(){return yield this.abort(e),Ee})}return(e){return H(this,void 0,void 0,function*(){return yield this.close(),Ee})}read(e){return H(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return H(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Ee)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Ua extends Wb{write(e){if((e=ee(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?hd(this.toUint8Array(!0)):this.toUint8Array(!1).then(hd)}toUint8Array(e=!1){return e?wn(this._values)[0]:H(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=Kr(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return wn(o,a)[0]})}}class Wl{constructor(e){e&&(this.source=new Qb(xt.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class is{constructor(e){e instanceof is?this.source=e.source:e instanceof Ua?this.source=new Ar(xt.fromAsyncIterable(e)):Zg(e)?this.source=new Ar(xt.fromNodeStream(e)):Yf(e)?this.source=new Ar(xt.fromDOMStream(e)):Xg(e)?this.source=new Ar(xt.fromDOMStream(e.body)):Co(e)?this.source=new Ar(xt.fromIterable(e)):Zr(e)?this.source=new Ar(xt.fromAsyncIterable(e)):cs(e)&&(this.source=new Ar(xt.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Qb{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Ee)}return(e){return Object.create(this.source.return&&this.source.return(e)||Ee)}}class Ar{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return H(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return H(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return H(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return H(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(e){return H(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||Ee;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return H(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||Ee;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class ay extends Wl{constructor(e,n){super(),this.position=0,this.buffer=ee(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Ql extends is{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=H(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return H(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return H(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(e,n){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return H(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const Hb=65536;function xi(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const ss=8,oh=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class x0{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?Hb:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${xi(this.buffer[1])} ${xi(this.buffer[0])}`}}class le extends x0{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return le.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return le.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new le(n);for(let s=0;s<r;){const o=ss<r-s?ss:r-s,a=new le(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new le(new Uint32Array([oh[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)le.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new le(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new le(new Uint32Array(e.buffer)).plus(n)}}class dt extends x0{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return dt.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return dt.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new dt(n);for(let o=r?1:0;o<i;){const a=ss<i-o?ss:i-o,l=new dt(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),u=new dt(new Uint32Array([oh[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)dt.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new dt(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new dt(new Uint32Array(e.buffer)).plus(n)}}class cn{constructor(e){this.buffer=e}high(){return new dt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new dt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new le(new Uint32Array([this.buffer[3],0])),r=new le(new Uint32Array([this.buffer[2],0])),i=new le(new Uint32Array([this.buffer[1],0])),s=new le(new Uint32Array([this.buffer[0],0])),o=new le(new Uint32Array([e.buffer[3],0])),a=new le(new Uint32Array([e.buffer[2],0])),l=new le(new Uint32Array([e.buffer[1],0])),u=new le(new Uint32Array([e.buffer[0],0]));let c=le.multiply(s,u);this.buffer[0]=c.low();const d=new le(new Uint32Array([c.high(),0]));return c=le.multiply(i,u),d.plus(c),c=le.multiply(s,l),d.plus(c),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(c)?1:0,this.buffer[2]=d.high(),new le(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(le.multiply(r,u)).plus(le.multiply(i,l)).plus(le.multiply(s,a)),this.buffer[3]+=le.multiply(n,u).plus(le.multiply(r,l)).plus(le.multiply(i,a)).plus(le.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${xi(this.buffer[3])} ${xi(this.buffer[2])} ${xi(this.buffer[1])} ${xi(this.buffer[0])}`}static multiply(e,n){return new cn(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new cn(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return cn.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return cn.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new cn(n);for(let o=r?1:0;o<i;){const a=ss<i-o?ss:i-o,l=new cn(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),u=new cn(new Uint32Array([oh[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)cn.from(e[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class L0 extends G{constructor(e,n,r,i,s=Be.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(e){return super.visit(e instanceof we?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return X({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<Be.V5&&this.readNullBitmap(e,r),e.mode===et.Sparse?this.visitSparseUnion(e,{length:n,nullCount:r}):this.visitDenseUnion(e,{length:n,nullCount:r})}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDuration(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return X({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Yb extends L0{constructor(e,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):jl(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return ue(Uint8Array,ue(e.OffsetArrayType,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return ue(Uint8Array,ue(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return A.isTimestamp(e)||(A.isInt(e)||A.isTime(e))&&e.bitWidth===64||A.isDuration(e)||A.isDate(e)&&e.unit===Kt.MILLISECOND?ue(Uint8Array,dt.convertArray(r[n])):A.isDecimal(e)?ue(Uint8Array,cn.convertArray(r[n])):A.isBinary(e)||A.isLargeBinary(e)||A.isFixedSizeBinary(e)?qb(r[n]):A.isBool(e)?jl(r[n]):A.isUtf8(e)||A.isLargeUtf8(e)?Hf(r[n].join("")):ue(Uint8Array,ue(e.ArrayType,r[n].map(i=>+i)))}}function qb(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class P extends G{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function ct(t,e){return e instanceof t.constructor}function si(t,e){return t===e||ct(t,e)}function Yn(t,e){return t===e||ct(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Iu(t,e){return t===e||ct(t,e)&&t.precision===e.precision}function Gb(t,e){return t===e||ct(t,e)&&t.byteWidth===e.byteWidth}function ah(t,e){return t===e||ct(t,e)&&t.unit===e.unit}function Mo(t,e){return t===e||ct(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function Po(t,e){return t===e||ct(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Jb(t,e){return t===e||ct(t,e)&&t.children.length===e.children.length&&br.compareManyFields(t.children,e.children)}function Xb(t,e){return t===e||ct(t,e)&&t.children.length===e.children.length&&br.compareManyFields(t.children,e.children)}function lh(t,e){return t===e||ct(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&br.compareManyFields(t.children,e.children)}function Zb(t,e){return t===e||ct(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&br.visit(t.indices,e.indices)&&br.visit(t.dictionary,e.dictionary)}function uh(t,e){return t===e||ct(t,e)&&t.unit===e.unit}function Uo(t,e){return t===e||ct(t,e)&&t.unit===e.unit}function eI(t,e){return t===e||ct(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&br.compareManyFields(t.children,e.children)}function tI(t,e){return t===e||ct(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&br.compareManyFields(t.children,e.children)}P.prototype.visitNull=si;P.prototype.visitBool=si;P.prototype.visitInt=Yn;P.prototype.visitInt8=Yn;P.prototype.visitInt16=Yn;P.prototype.visitInt32=Yn;P.prototype.visitInt64=Yn;P.prototype.visitUint8=Yn;P.prototype.visitUint16=Yn;P.prototype.visitUint32=Yn;P.prototype.visitUint64=Yn;P.prototype.visitFloat=Iu;P.prototype.visitFloat16=Iu;P.prototype.visitFloat32=Iu;P.prototype.visitFloat64=Iu;P.prototype.visitUtf8=si;P.prototype.visitLargeUtf8=si;P.prototype.visitBinary=si;P.prototype.visitLargeBinary=si;P.prototype.visitFixedSizeBinary=Gb;P.prototype.visitDate=ah;P.prototype.visitDateDay=ah;P.prototype.visitDateMillisecond=ah;P.prototype.visitTimestamp=Mo;P.prototype.visitTimestampSecond=Mo;P.prototype.visitTimestampMillisecond=Mo;P.prototype.visitTimestampMicrosecond=Mo;P.prototype.visitTimestampNanosecond=Mo;P.prototype.visitTime=Po;P.prototype.visitTimeSecond=Po;P.prototype.visitTimeMillisecond=Po;P.prototype.visitTimeMicrosecond=Po;P.prototype.visitTimeNanosecond=Po;P.prototype.visitDecimal=si;P.prototype.visitList=Jb;P.prototype.visitStruct=Xb;P.prototype.visitUnion=lh;P.prototype.visitDenseUnion=lh;P.prototype.visitSparseUnion=lh;P.prototype.visitDictionary=Zb;P.prototype.visitInterval=uh;P.prototype.visitIntervalDayTime=uh;P.prototype.visitIntervalYearMonth=uh;P.prototype.visitDuration=Uo;P.prototype.visitDurationSecond=Uo;P.prototype.visitDurationMillisecond=Uo;P.prototype.visitDurationMicrosecond=Uo;P.prototype.visitDurationNanosecond=Uo;P.prototype.visitFixedSizeList=eI;P.prototype.visitMap=tI;const br=new P;function Id(t,e){return br.compareSchemas(t,e)}function sc(t,e){return nI(t,e.map(n=>n.data.concat()))}function nI(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((d,f)=>Math.max(d,f.length),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=rI(n,o,c,e,i),o>0&&(r[s++]=X({type:new rt(n),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(n),r.map(d=>new pt(t,d))]}function rI(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=e)c===e?n[a]=u:(n[a]=u.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(e,c-e))));else{const d=t[a];t[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:X({type:d.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var C0;class nt{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new se([]),this._offsets=[0],this;let i,s;e[0]instanceof se&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof pt)return[l];if(l instanceof nt)return l.batches;if(l instanceof ae){if(l.type instanceof rt)return[new pt(new se(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(g=>new ie([l[g]])),d=i??new se(u.map((g,_)=>new we(String(g),c[_].type,c[_].nullable))),[,f]=sc(d,c);return f.length===0?[new pt(l)]:f}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new se([]),!(i instanceof se))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof pt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Id(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??D0(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=T0(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(eh(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?ih.visit(new ie(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new nt(n,r.map(i=>new pt(n,i)))}slice(e,n){const r=this.schema;[e,n]=I0({length:this.numRows},e,n);const i=N0(this.data,this._offsets,e,n);return new nt(r,i.map(s=>new pt(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=X({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new ie(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new ie([X({type:new wr,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[e],a[e]]=[o,n],[r,i]=sc(r,a)}return new nt(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new nt(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,u)=>{const[c,d]=a,f=n.findIndex(g=>g.name===l.name);return~f?d[f]=u:c.push(u),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new nt(...sc(s,o))}}C0=Symbol.toStringTag;nt[C0]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=$l(rh),t.get=$l(wt.getVisitFn(y.Struct)),t.set=k0(Wt.getVisitFn(y.Struct)),t.indexOf=O0(Vl.getVisitFn(y.Struct)),"Table"))(nt.prototype);var M0;let pt=class Cs{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof se))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=X({nullCount:0,type:new rt(this.schema.fields),children:this.schema.fields.map(n=>X({type:n.type,nullCount:0}))})]=e,!(this.data instanceof ae))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=ly(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=we.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new se(r),a=X({type:new rt(r),length:s,children:i,nullCount:0});[this.schema,this.data]=ly(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=P0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return wt.visit(this.data,e)}at(e){return this.get(eh(e,this.numRows))}set(e,n){return Wt.visit(this.data,e,n)}indexOf(e,n){return Vl.visit(this.data,e,n)}[Symbol.iterator](){return ih.visit(new ie([this.data]))}toArray(){return[...this]}concat(...e){return new nt(this.schema,[this,...e])}slice(e,n){const[r]=new ie([this.data]).slice(e,n).data;return new Cs(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new ie([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new ie([X({type:new wr,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new se(s,new Map(this.schema.metadata)),i=X({type:new rt(s),children:o})}return new Cs(r,i)}select(e){const n=this.schema.select(e),r=new rt(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Cs(n,X({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=X({type:new rt(n.fields),length:this.numRows,children:r});return new Cs(n,i)}};M0=Symbol.toStringTag;pt[M0]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(pt.prototype);function ly(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const u=e[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:X({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),X({type:new rt(i),length:n,children:s})]}function P0(t,e,n=new Map){var r,i;if(((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)>0&&(t==null?void 0:t.length)===(e==null?void 0:e.length))for(let s=-1,o=t.length;++s<o;){const{type:a}=t[s],l=e[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])P0(a.children,u==null?void 0:u.children,n);if(A.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class ch extends pt{constructor(e){const n=e.fields.map(i=>X({type:i.type})),r=X({type:new rt(e.fields),nullCount:0,children:n});super(e,r)}}let Jn=class an{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new an).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+oe),(n||new an).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Be.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):re.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,Be.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,re.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return an.startMessage(e),an.addVersion(e,n),an.addHeaderType(e,r),an.addHeader(e,i),an.addBodyLength(e,s),an.addCustomMetadata(e,o),an.endMessage(e)}};class iI extends G{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return Zp.startNull(n),Zp.endNull(n)}visitInt(e,n){return Et.startInt(n),Et.addBitWidth(n,e.bitWidth),Et.addIsSigned(n,e.isSigned),Et.endInt(n)}visitFloat(e,n){return pn.startFloatingPoint(n),pn.addPrecision(n,e.precision),pn.endFloatingPoint(n)}visitBinary(e,n){return Yp.startBinary(n),Yp.endBinary(n)}visitLargeBinary(e,n){return Gp.startLargeBinary(n),Gp.endLargeBinary(n)}visitBool(e,n){return qp.startBool(n),qp.endBool(n)}visitUtf8(e,n){return ey.startUtf8(n),ey.endUtf8(n)}visitLargeUtf8(e,n){return Jp.startLargeUtf8(n),Jp.endLargeUtf8(n)}visitDecimal(e,n){return hi.startDecimal(n),hi.addScale(n,e.scale),hi.addPrecision(n,e.precision),hi.addBitWidth(n,e.bitWidth),hi.endDecimal(n)}visitDate(e,n){return Aa.startDate(n),Aa.addUnit(n,e.unit),Aa.endDate(n)}visitTime(e,n){return Mt.startTime(n),Mt.addUnit(n,e.unit),Mt.addBitWidth(n,e.bitWidth),Mt.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return Pt.startTimestamp(n),Pt.addUnit(n,e.unit),r!==void 0&&Pt.addTimezone(n,r),Pt.endTimestamp(n)}visitInterval(e,n){return yn.startInterval(n),yn.addUnit(n,e.unit),yn.endInterval(n)}visitDuration(e,n){return xa.startDuration(n),xa.addUnit(n,e.unit),xa.endDuration(n)}visitList(e,n){return Xp.startList(n),Xp.endList(n)}visitStruct(e,n){return zr.startStruct_(n),zr.endStruct_(n)}visitUnion(e,n){ht.startTypeIdsVector(n,e.typeIds.length);const r=ht.createTypeIdsVector(n,e.typeIds);return ht.startUnion(n),ht.addMode(n,e.mode),ht.addTypeIds(n,r),ht.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return An.startDictionaryEncoding(n),An.addId(n,BigInt(e.id)),An.addIsOrdered(n,e.isOrdered),r!==void 0&&An.addIndexType(n,r),An.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return La.startFixedSizeBinary(n),La.addByteWidth(n,e.byteWidth),La.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return Ca.startFixedSizeList(n),Ca.addListSize(n,e.listSize),Ca.endFixedSizeList(n)}visitMap(e,n){return Ma.startMap(n),Ma.addKeysSorted(n,e.keysSorted),Ma.endMap(n)}}const oc=new iI;function sI(t,e=new Map){return new se(aI(t,e),za(t.metadata),e)}function U0(t){return new Ot(t.count,z0(t.columns),j0(t.columns))}function oI(t){return new bn(U0(t.data),t.id,t.isDelta)}function aI(t,e){return(t.fields||[]).filter(Boolean).map(n=>we.fromJSON(n,e))}function uy(t,e){return(t.children||[]).filter(Boolean).map(n=>we.fromJSON(n,e))}function z0(t){return(t||[]).reduce((e,n)=>[...e,new Ir(n.count,lI(n.VALIDITY)),...z0(n.children)],[])}function j0(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new gn(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new gn(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new gn(e.length,i.OFFSET.length)),i.DATA&&e.push(new gn(e.length,i.DATA.length)),e=j0(i.children,e)}return e}function lI(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function uI(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=dy(t,uy(t,e)),i=new we(t.name,o,t.nullable,za(t.metadata))):e.has(n=s.id)?(r=(r=s.indexType)?cy(r):new So,a=new rs(e.get(n),r,n,s.isOrdered),i=new we(t.name,a,t.nullable,za(t.metadata))):(r=(r=s.indexType)?cy(r):new So,e.set(n,o=dy(t,uy(t,e))),a=new rs(o,r,n,s.isOrdered),i=new we(t.name,a,t.nullable,za(t.metadata))),i||null}function za(t=[]){return new Map(t.map(({key:e,value:n})=>[e,n]))}function cy(t){return new ei(t.isSigned,t.bitWidth)}function dy(t,e){const n=t.type.name;switch(n){case"NONE":return new wr;case"null":return new wr;case"binary":return new El;case"largebinary":return new Tl;case"utf8":return new Dl;case"largeutf8":return new Nl;case"bool":return new kl;case"list":return new Ll((e||[])[0]);case"struct":return new rt(e||[]);case"struct_":return new rt(e||[])}switch(n){case"int":{const r=t.type;return new ei(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new Il(Xe[r.precision])}case"decimal":{const r=t.type;return new Ol(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new Rl(Kt[r.unit])}case"time":{const r=t.type;return new Bl(U[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new Fl(U[r.unit],r.timezone)}case"interval":{const r=t.type;return new Al(Sn[r.unit])}case"duration":{const r=t.type;return new xl(U[r.unit])}case"union":{const r=t.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Cl(et[o],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new Ml(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new Pl(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new Ul((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var cI=rv,dI=ts;class it{static fromJSON(e,n){const r=new it(0,Be.V5,n);return r._createHeader=fI(e,n),r}static decode(e){e=new dI(ee(e));const n=Jn.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new it(r,i,s);return o._createHeader=hI(n,s),o}static encode(e){const n=new cI;let r=-1;return e.isSchema()?r=se.encode(n,e.header()):e.isRecordBatch()?r=Ot.encode(n,e.header()):e.isDictionaryBatch()&&(r=bn.encode(n,e.header())),Jn.startMessage(n),Jn.addVersion(n,Be.V5),Jn.addHeader(n,r),Jn.addHeaderType(n,e.headerType),Jn.addBodyLength(n,BigInt(e.bodyLength)),Jn.finishMessageBuffer(n,Jn.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof se)return new it(0,Be.V5,re.Schema,e);if(e instanceof Ot)return new it(n,Be.V5,re.RecordBatch,e);if(e instanceof bn)return new it(n,Be.V5,re.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===re.Schema}isRecordBatch(){return this.headerType===re.RecordBatch}isDictionaryBatch(){return this.headerType===re.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=pe(e)}}class Ot{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=pe(e)}}class bn{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=pe(n)}}class gn{constructor(e,n){this.offset=pe(e),this.length=pe(n)}}class Ir{constructor(e,n){this.length=pe(e),this.nullCount=pe(n)}}function fI(t,e){return()=>{switch(e){case re.Schema:return se.fromJSON(t);case re.RecordBatch:return Ot.fromJSON(t);case re.DictionaryBatch:return bn.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}function hI(t,e){return()=>{switch(e){case re.Schema:return se.decode(t.header(new un),new Map,t.version());case re.RecordBatch:return Ot.decode(t.header(new Nn),t.version());case re.DictionaryBatch:return bn.decode(t.header(new di),t.version())}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}we.encode=EI;we.decode=bI;we.fromJSON=uI;se.encode=II;se.decode=pI;se.fromJSON=sI;Ot.encode=TI;Ot.decode=yI;Ot.fromJSON=U0;bn.encode=DI;bn.decode=mI;bn.fromJSON=oI;Ir.encode=NI;Ir.decode=vI;gn.encode=kI;gn.decode=gI;function pI(t,e=new Map,n=Be.V5){const r=SI(t,e);return new se(r,ja(t),e,n)}function yI(t,e=Be.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new Ot(t.length(),_I(t),wI(t,e))}function mI(t,e=Be.V5){return new bn(Ot.decode(t.data(),e),t.id(),t.isDelta())}function gI(t){return new gn(t.offset(),t.length())}function vI(t){return new Ir(t.length(),t.nullCount())}function _I(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=Ir.decode(n));return e}function wI(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<Be.V4&&(r.bb_pos+=8*(i+1)),n[++s]=gn.decode(r));return n}function SI(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=we.decode(r,e));return n}function fy(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=we.decode(r,e));return n}function bI(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=py(t,fy(t,e)),r=new we(t.name(),i,t.nullable(),ja(t))):e.has(n=pe(a.id()))?(s=(s=a.indexType())?hy(s):new So,o=new rs(e.get(n),s,n,a.isOrdered()),r=new we(t.name(),o,t.nullable(),ja(t))):(s=(s=a.indexType())?hy(s):new So,e.set(n,i=py(t,fy(t,e))),o=new rs(i,s,n,a.isOrdered()),r=new we(t.name(),o,t.nullable(),ja(t))),r||null}function ja(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function hy(t){return new ei(t.isSigned(),t.bitWidth())}function py(t,e){const n=t.typeType();switch(n){case ye.NONE:return new wr;case ye.Null:return new wr;case ye.Binary:return new El;case ye.LargeBinary:return new Tl;case ye.Utf8:return new Dl;case ye.LargeUtf8:return new Nl;case ye.Bool:return new kl;case ye.List:return new Ll((e||[])[0]);case ye.Struct_:return new rt(e||[])}switch(n){case ye.Int:{const r=t.type(new Et);return new ei(r.isSigned(),r.bitWidth())}case ye.FloatingPoint:{const r=t.type(new pn);return new Il(r.precision())}case ye.Decimal:{const r=t.type(new hi);return new Ol(r.scale(),r.precision(),r.bitWidth())}case ye.Date:{const r=t.type(new Aa);return new Rl(r.unit())}case ye.Time:{const r=t.type(new Mt);return new Bl(r.unit(),r.bitWidth())}case ye.Timestamp:{const r=t.type(new Pt);return new Fl(r.unit(),r.timezone())}case ye.Interval:{const r=t.type(new yn);return new Al(r.unit())}case ye.Duration:{const r=t.type(new xa);return new xl(r.unit())}case ye.Union:{const r=t.type(new ht);return new Cl(r.mode(),r.typeIdsArray()||[],e||[])}case ye.FixedSizeBinary:{const r=t.type(new La);return new Ml(r.byteWidth())}case ye.FixedSizeList:{const r=t.type(new Ca);return new Pl(r.listSize(),(e||[])[0])}case ye.Map:{const r=t.type(new Ma);return new Ul((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${ye[n]}" (${n})`)}function II(t,e){const n=e.fields.map(s=>we.encode(t,s));un.startFieldsVector(t,n.length);const r=un.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?un.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Ce.startKeyValue(t),Ce.addKey(t,a),Ce.addValue(t,l),Ce.endKeyValue(t)})):-1;return un.startSchema(t),un.addFields(t,r),un.addEndianness(t,OI?ns.Little:ns.Big),i!==-1&&un.addCustomMetadata(t,i),un.endSchema(t)}function EI(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;A.isDictionary(s)?(o=s.dictionary.typeId,i=oc.visit(s,t),r=oc.visit(s.dictionary,t)):r=oc.visit(s,t);const a=(s.children||[]).map(c=>we.encode(t,c)),l=At.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?At.createCustomMetadataVector(t,[...e.metadata].map(([c,d])=>{const f=t.createString(`${c}`),g=t.createString(`${d}`);return Ce.startKeyValue(t),Ce.addKey(t,f),Ce.addValue(t,g),Ce.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),At.startField(t),At.addType(t,r),At.addTypeType(t,o),At.addChildren(t,l),At.addNullable(t,!!e.nullable),n!==-1&&At.addName(t,n),i!==-1&&At.addDictionary(t,i),u!==-1&&At.addCustomMetadata(t,u),At.endField(t)}function TI(t,e){const n=e.nodes||[],r=e.buffers||[];Nn.startNodesVector(t,n.length);for(const o of n.slice().reverse())Ir.encode(t,o);const i=t.endVector();Nn.startBuffersVector(t,r.length);for(const o of r.slice().reverse())gn.encode(t,o);const s=t.endVector();return Nn.startRecordBatch(t),Nn.addLength(t,BigInt(e.length)),Nn.addNodes(t,i),Nn.addBuffers(t,s),Nn.endRecordBatch(t)}function DI(t,e){const n=Ot.encode(t,e.data);return di.startDictionaryBatch(t),di.addId(t,BigInt(e.id)),di.addIsDelta(t,e.isDelta),di.addData(t,n),di.endDictionaryBatch(t)}function NI(t,e){return ov.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function kI(t,e){return sv.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const OI=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),dh=t=>`Expected ${re[t]} Message in stream, but was null or length 0.`,fh=t=>`Header pointer of flatbuffer-encoded ${re[t]} Message is null or length 0.`,$0=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,V0=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class K0{constructor(e){this.source=e instanceof Wl?e:new Wl(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Ee:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(dh(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=ee(this.source.read(e));if(n.byteLength<e)throw new Error(V0(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=re.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(fh(n));return i}readMetadataLength(){const e=this.source.read(Eu),n=e&&new ts(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return Ee;if(n.byteLength<e)throw new Error($0(e,n.byteLength));return{done:!1,value:it.decode(n)}}}class RI{constructor(e,n){this.source=e instanceof is?e:Jg(e)?new Ql(e,n):new is(e)}[Symbol.asyncIterator](){return this}next(){return H(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Ee:e})}throw(e){return H(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return H(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return H(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(dh(e));return n.value})}readMessageBody(e){return H(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=ee(yield this.source.read(e));if(n.byteLength<e)throw new Error(V0(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return H(this,arguments,void 0,function*(e=!1){const n=re.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(fh(n));return i})}readMetadataLength(){return H(this,void 0,void 0,function*(){const e=yield this.source.read(Eu),n=e&&new ts(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return H(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return Ee;if(n.byteLength<e)throw new Error($0(e,n.byteLength));return{done:!1,value:it.decode(n)}})}}class BI extends K0{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof oy?e:new oy(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:it.fromJSON(e.schema,re.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:it.fromJSON(n,re.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:it.fromJSON(n,re.RecordBatch)}}return this._body=[],Ee}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(dh(e));return n.value}readSchema(){const e=re.Schema,n=this.readMessage(e),r=n==null?void 0:n.header();if(!n||!r)throw new Error(fh(e));return r}}const Eu=4,Ed="ARROW1",Io=new Uint8Array(Ed.length);for(let t=0;t<Ed.length;t+=1)Io[t]=Ed.codePointAt(t);function hh(t,e=0){for(let n=-1,r=Io.length;++n<r;)if(Io[n]!==t[e+n])return!1;return!0}const zo=Io.length,W0=zo+Eu,FI=zo*2+Eu;class jt extends sh{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return Zr(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return xt.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return xt.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof jt?e:pd(e)?CI(e):Jg(e)?UI(e):Zr(e)?H(this,void 0,void 0,function*(){return yield jt.from(yield e)}):Xg(e)||Yf(e)||Zg(e)||cs(e)?PI(new is(e)):MI(new Wl(e))}static readAll(e){return e instanceof jt?e.isSync()?yy(e):my(e):pd(e)||ArrayBuffer.isView(e)||Co(e)||Gg(e)?yy(e):my(e)}}class Hl extends jt{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return mn(this,arguments,function*(){yield q(yield*Fa(Kr(this[Symbol.iterator]())))})}}class Yl extends jt{constructor(e){super(e),this._impl=e}readAll(){return H(this,void 0,void 0,function*(){var e,n,r,i;const s=new Array;try{for(var o=!0,a=Kr(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Q0 extends Hl{constructor(e){super(e),this._impl=e}}class AI extends Yl{constructor(e){super(e),this._impl=e}}class H0{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=X({type:new rt(this.schema.fields),length:e.length,children:r});return new pt(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new ie(u)):new ie(u)).memoize()}_loadVectors(e,n,r){return new L0(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class ql extends H0{constructor(e,n){super(n),this._reader=pd(e)?new BI(this._handle=e):new K0(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=q0(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Ee}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Ee}next(){if(this.closed)return Ee;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new ch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Gl extends H0{constructor(e,n){super(n),this._reader=new RI(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return H(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return H(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=q0(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Ee})}return(e){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Ee})}next(){return H(this,void 0,void 0,function*(){if(this.closed)return Ee;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new ch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return H(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class Y0 extends ql{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof ay?e:new ay(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(re.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(re.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-W0,r=e.readInt32(n),i=e.readAt(n-r,r);return bo.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class xI extends Gl{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof Ql?e:new Ql(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return H(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){return H(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(re.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){return H(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(re.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return H(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-W0,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return bo.decode(i)})}_readNextMessageAndValidate(e){return H(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class LI extends ql{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new Yb(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function q0(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*yy(t){const e=jt.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function my(t){return mn(this,arguments,function*(){const n=yield q(jt.from(t));try{if(!(yield q(n.open({autoDestroy:!1}))).closed)do yield yield q(n);while(!(yield q(n.reset().open())).closed)}finally{yield q(n.cancel())}})}function CI(t){return new Hl(new LI(t))}function MI(t){const e=t.peek(zo+7&-8);return e&&e.byteLength>=4?hh(e)?new Q0(new Y0(t.read())):new Hl(new ql(t)):new Hl(new ql(function*(){}()))}function PI(t){return H(this,void 0,void 0,function*(){const e=yield t.peek(zo+7&-8);return e&&e.byteLength>=4?hh(e)?new Q0(new Y0(yield t.read())):new Yl(new Gl(t)):new Yl(new Gl(function(){return mn(this,arguments,function*(){})}()))})}function UI(t){return H(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new Ql(t,e);return e>=FI&&hh(yield n.readAt(0,zo+7&-8))?new AI(new xI(n)):new Yl(new Gl(n))})}class Ne extends G{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof pt?s.data.children:s.data),r=new Ne;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof ie)return this.visitMany(e.data),this;const{type:n}=e;if(!A.isDictionary(n)){const{length:r}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(A.isUnion(n))this.nodes.push(new Ir(r,0));else{const{nullCount:i}=e;A.isNull(n)||Zt.call(this,i<=0?new Uint8Array(0):zl(e.offset,r,e.nullBitmap)),this.nodes.push(new Ir(r,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Zt(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new gn(this._byteLength,e)),this._byteLength+=e,this}function zI(t){var e;const{type:n,length:r,typeIds:i,valueOffsets:s}=t;if(Zt.call(this,i),n.mode===et.Sparse)return Td.call(this,t);if(n.mode===et.Dense){if(t.offset<=0)return Zt.call(this,s),Td.call(this,t);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,d=-1;++d<r;)(u=i[d])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[d]),o[d]=s[d]-c,l[u]=((e=l[u])!==null&&e!==void 0?e:0)+1);Zt.call(this,o),this.visitMany(t.children.map((u,c)=>{const d=n.typeIds[c],f=a[d],g=l[d];return u.slice(f,Math.min(r,g))}))}}return this}function jI(t){let e;return t.nullCount>=t.length?Zt.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Zt.call(this,zl(t.offset,t.length,e)):Zt.call(this,jl(t.values))}function qn(t){return Zt.call(this,t.values.subarray(0,t.length*t.stride))}function Tu(t){const{length:e,values:n,valueOffsets:r}=t,i=pe(r[0]),s=pe(r[e]),o=Math.min(s-i,n.byteLength-i);return Zt.call(this,tv(-i,e+1,r)),Zt.call(this,n.subarray(i,i+o)),this}function ph(t){const{length:e,valueOffsets:n}=t;if(n){const{[0]:r,[e]:i}=n;return Zt.call(this,tv(-r,e+1,n)),this.visit(t.children[0].slice(r,i-r))}return this.visit(t.children[0])}function Td(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}Ne.prototype.visitBool=jI;Ne.prototype.visitInt=qn;Ne.prototype.visitFloat=qn;Ne.prototype.visitUtf8=Tu;Ne.prototype.visitLargeUtf8=Tu;Ne.prototype.visitBinary=Tu;Ne.prototype.visitLargeBinary=Tu;Ne.prototype.visitFixedSizeBinary=qn;Ne.prototype.visitDate=qn;Ne.prototype.visitTimestamp=qn;Ne.prototype.visitTime=qn;Ne.prototype.visitDecimal=qn;Ne.prototype.visitList=ph;Ne.prototype.visitStruct=Td;Ne.prototype.visitUnion=zI;Ne.prototype.visitInterval=qn;Ne.prototype.visitDuration=qn;Ne.prototype.visitFixedSizeList=ph;Ne.prototype.visitMap=ph;class G0 extends sh{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Ua,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,_t(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Zr(e)?e.then(n=>this.writeAll(n)):cs(e)?vh(this,e):gh(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Ua?this._sink=e:(this._sink=new Ua,e&&v1(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&_1(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!Id(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof nt&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof pt&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Id(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof pt?e instanceof ch||this._writeRecordBatch(e):e instanceof nt?this.writeAll(e.batches):Co(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=it.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===re.RecordBatch?this._recordBatchBlocks.push(new Sr(a,e.bodyLength,this._position)):e.headerType===re.DictionaryBatch&&this._dictionaryBlocks.push(new Sr(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=ee(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(it.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Io)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Ne.assemble(e),o=new Ot(e.numRows,r,i),a=it.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Ne.assemble(new ie([e])),l=new Ot(e.length,s,o),u=new bn(l,n,r),c=it.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){var n,r;for(const[i,s]of e.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,c]of o.entries())this._writeDictionaryBatch(c,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class yh extends G0{static writeAll(e,n){const r=new yh(n);return Zr(e)?e.then(i=>r.writeAll(i)):cs(e)?vh(r,e):gh(r,e)}}class mh extends G0{static writeAll(e){const n=new mh;return Zr(e)?e.then(r=>n.writeAll(r)):cs(e)?vh(n,e):gh(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,n,r)}_writeFooter(e){const n=bo.encode(new bo(e,Be.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function gh(t,e){let n=e;e instanceof nt&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function vh(t,e){return H(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Kr(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;t.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function $I(t,e="stream"){return(e==="stream"?yh:mh).writeAll(t).toUint8Array(!0)}function VI(t){return t==null}var KI=VI;const WI=xy(KI),J0=(t,e)=>{if(WI(e))return e;switch(t.typeId){case y.Null:return null;case y.Date:case y.Timestamp:return new Date(e).toISOString();case y.Float:case y.Float16:case y.Float32:case y.Float64:return e;case y.Int:case y.Int8:case y.Int16:case y.Int32:case y.Int64:case y.Uint8:case y.Uint16:case y.Uint32:case y.Uint64:return parseInt(e.toString());case y.Decimal:return parseFloat(e.toString());case y.List:if(t.type.children[0]){const n=[];return e.toArray().forEach(r=>n.push(J0(t.type.children[0],r))),n}return[];default:return e}},QI=t=>t.toArray().map(e=>e.toJSON()).map(e=>t.schema.fields.reduce((n,r)=>(n[r.name]=J0(r,e[r.name]),n),{})),gy=async({instanceManager:t,json:e,tableName:n,logger:r,onEvent:i,metadata:s})=>{const o=`${n}.json`,a=`${n}.parquet`,l=await t.getDB(),u=await l.connect(),c=performance.now();await l.registerFileText(o,JSON.stringify(e)),await u.insertJSONFromPath(o,{name:n}),await u.query(`COPY ${n} TO '${a}' (FORMAT PARQUET);`);const d=await l.copyFileToBuffer(a),g=performance.now()-c;return r==null||r.debug("Time spent in converting JSON to buffer:",g,"ms",e),i==null||i({event_name:"json_to_buffer_conversion_duration",duration:g,metadata:{...s,json:e}}),await u.query(`DROP TABLE ${n};`),await l.registerEmptyFileBuffer(o),await u.close(),d},X0=t=>t!==void 0,HI=t=>{const{buffer:e,json:n,...r}=t;return r},vy=(t,e)=>{const n=new Map(e.map(r=>[r.tableName,{...r}]));for(const r of t){const{tableName:i,...s}=HI(r),o=n.get(i);if(o){const a=o.files.findIndex(l=>l.fileName===s.fileName);a!==-1?o.files[a]={...o.files[a],...s}:o.files.push(s)}else n.set(r.tableName,{tableName:r.tableName,files:[s]})}return n};class YI{constructor({instanceManager:e}){this.registeredFilesSet=new Map,this.registerFileBuffer=async(n,r)=>{if(!this.registeredFilesSet.has(n))return this.registeredFilesSet.set(n,{byteLength:r.byteLength}),this.instanceManager.getDB().then(i=>i.registerFileBuffer(n,r))},this.registerEmptyFileBuffer=async n=>{await this.instanceManager.getDB().then(r=>r.registerEmptyFileBuffer(n)),this.registeredFilesSet.delete(n)},this.instanceManager=e}isFileRegisteredInDB(e){return this.registeredFilesSet.has(e)}flushFileCache(){this.registeredFilesSet.clear()}totalByteLength(){return Array.from(this.registeredFilesSet.values()).reduce((e,{byteLength:n})=>e+n,0)}getAllFilesInDB(){return Array.from(this.registeredFilesSet.keys())}}const _y=(t,e)=>e!=null&&e.length?t.filter(r=>{var s;if(!((s=r.partitions)!=null&&s.length))return!1;const i=r.partitions;return e.some(o=>i.some(a=>a.includes(o)))}):t,ve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ae=Object.keys,Je=Array.isArray;function at(t,e){return typeof e!="object"||Ae(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||ve.Promise||(ve.Promise=Promise);const Eo=Object.getPrototypeOf,qI={}.hasOwnProperty;function Rt(t,e){return qI.call(t,e)}function os(t,e){typeof e=="function"&&(e=e(Eo(t))),(typeof Reflect>"u"?Ae:Reflect.ownKeys)(e).forEach(n=>{Un(t,n,e[n])})}const Z0=Object.defineProperty;function Un(t,e,n,r){Z0(t,e,at(n&&Rt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Wi(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Un(t.prototype,"constructor",t),{extend:os.bind(null,t.prototype)}}}}const GI=Object.getOwnPropertyDescriptor;function _h(t,e){let n;return GI(t,e)||(n=Eo(t))&&_h(n,e)}const JI=[].slice;function Jl(t,e,n){return JI.call(t,e,n)}function e_(t,e){return e(t)}function Ms(t){if(!t)throw new Error("Assertion Failed")}function t_(t){ve.setImmediate?setImmediate(t):setTimeout(t,0)}function n_(t,e){return t.reduce((n,r,i)=>{var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function zn(t,e){if(typeof e=="string"&&Rt(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=zn(t,e[r]);n.push(s)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a==null?void 0:zn(a,e.substr(o+1))}}function en(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Ms(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)en(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),a=e.substr(s+1);if(a==="")n===void 0?Je(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var l=t[o];l&&Rt(t,o)||(l=t[o]={}),en(l,a,n)}}else n===void 0?Je(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function r_(t){var e={};for(var n in t)Rt(t,n)&&(e[n]=t[n]);return e}const XI=[].concat;function i_(t){return XI.apply([],t)}const s_="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(i_([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ve[t]),ZI=s_.map(t=>ve[t]);n_(s_,t=>[t,!0]);let ir=null;function jo(t){ir=typeof WeakMap<"u"&&new WeakMap;const e=Dd(t);return ir=null,e}function Dd(t){if(!t||typeof t!="object")return t;let e=ir&&ir.get(t);if(e)return e;if(Je(t)){e=[],ir&&ir.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Dd(t[n]))}else if(ZI.indexOf(t.constructor)>=0)e=t;else{const s=Eo(t);for(var i in e=s===Object.prototype?{}:Object.create(s),ir&&ir.set(t,e),t)Rt(t,i)&&(e[i]=Dd(t[i]))}return e}const{toString:eE}={};function Nd(t){return eE.call(t).slice(8,-1)}const kd=typeof Symbol<"u"?Symbol.iterator:"@@iterator",tE=typeof kd=="symbol"?function(t){var e;return t!=null&&(e=t[kd])&&e.apply(t)}:function(){return null},Si={};function xn(t){var e,n,r,i;if(arguments.length===1){if(Je(t))return t.slice();if(this===Si&&typeof t=="string")return[t];if(i=tE(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const wh=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var In=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function o_(t,e){In=t,a_=e}var a_=()=>!0;const nE=!new Error("").stack;function oi(){if(nE)try{throw oi.arguments,new Error}catch(t){return t}return new Error}function Od(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(a_).map(r=>`
`+r).join("")):""}var l_=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(l_),rE={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Qi(t,e){this._e=oi(),this.name=t,this.message=e}function u_(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Xl(t,e,n,r){this._e=oi(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=u_(t,e)}function qs(t,e){this._e=oi(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=u_(t,e)}Wi(Qi).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Od(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Wi(Xl).from(Qi),Wi(qs).from(Qi);var bh=Sh.reduce((t,e)=>(t[e]=e+"Error",t),{});const iE=Qi;var K=Sh.reduce((t,e)=>{var n=e+"Error";function r(i,s){this._e=oi(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=rE[e]||n,this.inner=null)}return Wi(r).from(iE),t[e]=r,t},{});K.Syntax=SyntaxError,K.Type=TypeError,K.Range=RangeError;var wy=l_.reduce((t,e)=>(t[e+"Error"]=K[e],t),{}),$a=Sh.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=K[e]),t),{});function he(){}function To(t){return t}function sE(t,e){return t==null||t===To?e:function(n){return e(t(n))}}function ti(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function oE(t,e){return t===he?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ti(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ti(i,this.onerror):i),s!==void 0?s:n}}function aE(t,e){return t===he?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ti(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ti(r,this.onerror):r)}}function lE(t,e){return t===he?e:function(n){var r=t.apply(this,arguments);at(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ti(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ti(s,this.onerror):s),r===void 0?o===void 0?void 0:o:at(r,o)}}function uE(t,e){return t===he?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function Ih(t,e){return t===he?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}$a.ModifyError=Xl,$a.DexieError=Qi,$a.BulkError=qs;var Do={};const c_=100,[Rd,Zl,Bd]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Eo(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Eo(e),t]})(),d_=Zl&&Zl.then,Va=Rd&&Rd.constructor,Eh=!!Bd;var Fd=!1,cE=Bd?()=>{Bd.then(ha)}:ve.setImmediate?setImmediate.bind(null,ha):ve.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{ha(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(ha,0)},Gs=function(t,e){Ps.push([t,e]),eu&&(cE(),eu=!1)},Ad=!0,eu=!0,Wr=[],Ka=[],xd=null,Ld=To,Hi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Iy,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Iy(t[0],t[1])}catch{}})}},x=Hi,Ps=[],Qr=0,Wa=[];function O(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=he,this._lib=!1;var e=this._PSD=x;if(In&&(this._stackHolder=oi(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Do)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Md(this,this._value))}this._state=null,this._value=null,++e.ref,h_(this,t)}const Cd={get:function(){var t=x,e=tu;function n(r,i){var s=!t.global&&(t!==x||e!==tu);const o=s&&!Wn();var a=new O((l,u)=>{Th(this,new f_(nu(r,t,s,o),nu(i,t,s,o),l,u,t))});return In&&m_(a,this),a}return n.prototype=Do,n},set:function(t){Un(this,"then",t&&t.prototype===Do?Cd:{get:function(){return t},set:Cd.set})}};function f_(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}function h_(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&$o();n&&typeof n.then=="function"?h_(t,(i,s)=>{n instanceof O?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,p_(t)),r&&Vo()}},Md.bind(null,t))}catch(n){Md(t,n)}}function Md(t,e){if(Ka.push(e),t._state===null){var n=t._lib&&$o();e=Ld(e),t._state=!1,t._value=e,In&&e!==null&&typeof e=="object"&&!e._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=_h(e,"stack");e._promise=t,Un(e,"stack",{get:()=>Fd?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Wr.some(i=>i._value===r._value)||Wr.push(r)}(t),p_(t),n&&Vo()}}function p_(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Th(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Qr===0&&(++Qr,Gs(()=>{--Qr==0&&Dh()},[]))}function Th(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Qr,Gs(dE,[n,t,e])}else t._listeners.push(e)}function dE(t,e,n){try{xd=e;var r,i=e._value;e._state?r=t(i):(Ka.length&&(Ka=[]),r=t(i),Ka.indexOf(i)===-1&&function(s){for(var o=Wr.length;o;)if(Wr[--o]._value===s._value)return void Wr.splice(o,1)}(e)),n.resolve(r)}catch(s){n.reject(s)}finally{xd=null,--Qr==0&&Dh(),--n.psd.ref||n.psd.finalize()}}function y_(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i,s,o=t._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Od(o,0)):(i=o,s=""),e.push(i+(s?": "+s:"")+r)}return In&&((r=Od(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&y_(t._prev,e,n)),e}function m_(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function ha(){$o()&&Vo()}function $o(){var t=Ad;return Ad=!1,eu=!1,t}function Vo(){var t,e,n;do for(;Ps.length>0;)for(t=Ps,Ps=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ps.length>0);Ad=!0,eu=!0}function Dh(){var t=Wr;Wr=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Wa.slice(0),n=e.length;n;)e[--n]()}function pa(t){return new O(Do,!1,t)}function Se(t,e){var n=x;return function(){var r=$o(),i=x;try{return Tr(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{Tr(i,!1),r&&Vo()}}}os(O.prototype,{then:Cd,_then:function(t,e){Th(this,new f_(null,null,t,e,x))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):pa(r)):this.then(null,r=>r&&r.name===e?n(r):pa(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),pa(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Fd=!0;var t=y_(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Fd=!1}}},timeout:function(t,e){return t<1/0?new O((n,r)=>{var i=setTimeout(()=>r(new K.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Un(O.prototype,Symbol.toStringTag,"Dexie.Promise"),Hi.env=g_(),os(O,{all:function(){var t=xn.apply(null,arguments).map(ya);return new O(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((i,s)=>O.resolve(i).then(o=>{t[s]=o,--r||e(t)},n))})},resolve:t=>{if(t instanceof O)return t;if(t&&typeof t.then=="function")return new O((n,r)=>{t.then(n,r)});var e=new O(Do,!0,t);return m_(e,xd),e},reject:pa,race:function(){var t=xn.apply(null,arguments).map(ya);return new O((e,n)=>{t.map(r=>O.resolve(r).then(e,n))})},PSD:{get:()=>x,set:t=>x=t},totalEchoes:{get:()=>tu},newPSD:Er,usePSD:hs,scheduler:{get:()=>Gs,set:t=>{Gs=t}},rejectionMapper:{get:()=>Ld,set:t=>{Ld=t}},follow:(t,e)=>new O((n,r)=>Er((i,s)=>{var o=x;o.unhandleds=[],o.onunhandled=s,o.finalize=ti(function(){(function(a){function l(){a(),Wa.splice(Wa.indexOf(l),1)}Wa.push(l),++Qr,Gs(()=>{--Qr==0&&Dh()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),t()},e,n,r))}),Va&&(Va.allSettled&&Un(O,"allSettled",function(){const t=xn.apply(null,arguments).map(ya);return new O(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((i,s)=>O.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||e(r)))})}),Va.any&&typeof AggregateError<"u"&&Un(O,"any",function(){const t=xn.apply(null,arguments).map(ya);return new O((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach((s,o)=>O.resolve(s).then(a=>e(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const Ge={awaits:0,echoes:0,id:0};var fE=0,Qa=[],ac=0,tu=0,hE=0;function Er(t,e,n,r){var i=x,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++hE;var o=Hi.env;s.env=Eh?{Promise:O,PromiseProp:{value:O,configurable:!0,writable:!0},all:O.all,race:O.race,allSettled:O.allSettled,any:O.any,resolve:O.resolve,reject:O.reject,nthen:Sy(o.nthen,s),gthen:Sy(o.gthen,s)}:{},e&&at(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=hs(s,t,n,r);return s.ref===0&&s.finalize(),a}function fs(){return Ge.id||(Ge.id=++fE),++Ge.awaits,Ge.echoes+=c_,Ge.id}function Wn(){return!!Ge.awaits&&(--Ge.awaits==0&&(Ge.id=0),Ge.echoes=Ge.awaits*c_,!0)}function ya(t){return Ge.echoes&&t&&t.constructor===Va?(fs(),t.then(e=>(Wn(),e),e=>(Wn(),Pe(e)))):t}function pE(t){++tu,Ge.echoes&&--Ge.echoes!=0||(Ge.echoes=Ge.id=0),Qa.push(x),Tr(t,!0)}function yE(){var t=Qa[Qa.length-1];Qa.pop(),Tr(t,!1)}function Tr(t,e){var n=x;if((e?!Ge.echoes||ac++&&t===x:!ac||--ac&&t===x)||v_(e?pE.bind(null,t):yE),t!==x&&(x=t,n===Hi&&(Hi.env=g_()),Eh)){var r=Hi.env.Promise,i=t.env;Zl.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(ve,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function g_(){var t=ve.Promise;return Eh?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ve,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Zl.then,gthen:t.prototype.then}:{}}function hs(t,e,n,r,i){var s=x;try{return Tr(t,!0),e(n,r,i)}finally{Tr(s,!1)}}function v_(t){d_.call(Rd,t)}function nu(t,e,n,r){return typeof t!="function"?t:function(){var i=x;n&&fs(),Tr(e,!0);try{return t.apply(this,arguments)}finally{Tr(i,!1),r&&v_(Wn)}}}function Sy(t,e){return function(n,r){return t.call(this,nu(n,e),nu(r,e))}}(""+d_).indexOf("[native code]")===-1&&(fs=Wn=he);const by="unhandledrejection";function Iy(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(ve.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(by,!0,!0),at(r,i)):ve.CustomEvent&&at(r=new CustomEvent(by,{detail:i}),i),r&&ve.dispatchEvent&&(dispatchEvent(r),!ve.PromiseRejectionEvent&&ve.onunhandledrejection))try{ve.onunhandledrejection(r)}catch{}In&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Pe=O.reject;function Pd(t,e,n,r){if(t.idbdb&&(t._state.openComplete||x.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===bh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Pd(t,e,n,r))):Pe(s)}return i._promise(e,(s,o)=>Er(()=>(x.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(t._state.openComplete)return Pe(new K.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Pe(new K.DatabaseClosed);t.open().catch(he)}return t._state.dbReadyPromise.then(()=>Pd(t,e,n,r))}const Ey="3.2.7",jr="￿",Ud=-1/0,En="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",__="String expected.",Js=[],Du=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),mE=Du,gE=Du,w_=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Nu="__dbnames",lc="readonly",uc="readwrite";function ni(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const S_={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ma(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=jo(e))[t],e)}class vE{_trans(e,n,r){const i=this._tx||x.trans,s=this.name;function o(l,u,c){if(!c.schema[s])throw new K.NotFound("Table "+s+" not part of transaction");return n(c.idbtrans,c)}const a=$o();try{return i&&i.db===this.db?i===x.trans?i._promise(e,o,r):Er(()=>i._promise(e,o,r),{trans:i,transless:x.transless||x}):Pd(this.db,e,[this.name],o)}finally{a&&Vo()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Je(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=Ae(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)){for(let c=0;c<n.length;++c)if(n.indexOf(u.keyPath[c])===-1)return!1;return!0}return!1}).sort((u,c)=>u.keyPath.length-c.keyPath.length)[0];if(r&&this.db._maxKey!==jr){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(c=>e[c]))}!r&&In&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,c){try{return s.cmp(u,c)===0}catch{return!1}}const[a,l]=n.reduce(([u,c],d)=>{const f=i[d],g=e[d];return[u||f,u||!f?ni(c,f&&f.multi?_=>{const v=zn(_,d);return Je(v)&&v.some(I=>o(g,I))}:_=>o(g,zn(_,d))):c]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Je(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const i=Object.create(e.prototype);for(var s in r)if(Rt(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){at(this,e)})}add(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=ma(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{en(e,i,o)}catch{}return o})}update(e,n){if(typeof e!="object"||Je(e))return this.where(":id").equals(e).modify(n);{const r=zn(e,this.schema.primKey.keyPath);if(r===void 0)return Pe(new K.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Ae(n).forEach(i=>{en(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=ma(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{en(e,i,o)}catch{}return o})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?O.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:S_})).then(e=>e.numFailures?O.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new K.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(ma(l)):e;return this.core.mutate({trans:o,type:"add",keys:i,values:c,wantResults:s}).then(({numFailures:d,results:f,lastResult:g,failures:_})=>{if(d===0)return s?f:g;throw new qs(`${this.name}.bulkAdd(): ${d} of ${u} operations failed`,_)})})}bulkPut(e,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new K.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(ma(l)):e;return this.core.mutate({trans:o,type:"put",keys:i,values:c,wantResults:s}).then(({numFailures:d,results:f,lastResult:g,failures:_})=>{if(d===0)return s?f:g;throw new qs(`${this.name}.bulkPut(): ${d} of ${u} operations failed`,_)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new qs(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Xs(t){var e={},n=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return e[o].subscribe.apply(null,u),t}if(typeof o=="string")return e[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,l){if(typeof o!="object"){var u;a||(a=uE),l||(l=he);var c={subscribers:[],fire:l,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=a(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(a,l)}};return e[o]=n[o]=c,c}Ae(u=o).forEach(function(d){var f=u[d];if(Je(f))s(d,u[d][0],u[d][1]);else{if(f!=="asap")throw new K.InvalidArgument("Invalid event config");var g=s(d,To,function(){for(var _=arguments.length,v=new Array(_);_--;)v[_]=arguments[_];g.subscribers.forEach(function(I){t_(function(){I.apply(null,v)})})})}})}}function Es(t,e){return Wi(e).from({prototype:t}),e}function ui(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function cc(t,e){t.filter=ni(t.filter,e)}function dc(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>ni(r(),e()):e,t.justLimit=n&&!r}function Ha(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new K.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ty(t,e,n){const r=Ha(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function ga(t,e,n,r){const i=t.replayFilter?ni(t.filter,t.replayFilter()):t.filter;if(t.or){const s={},o=(a,l,u)=>{if(!i||i(l,u,f=>l.stop(f),f=>l.fail(f))){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Rt(s,d)||(s[d]=!0,e(a,l,u))}};return Promise.all([t.or._iterate(o,n),Dy(Ty(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return Dy(Ty(t,r,n),ni(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Dy(t,e,n,r){var i=Se(r?(s,o,a)=>n(r(s),o,a):n);return t.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();e&&!e(s,a=>o=a,a=>{s.stop(a),o=he},a=>{s.fail(a),o=he})||i(s.value,s,a=>o=a),o()})})}function st(t,e){try{const n=Ny(t),r=Ny(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===a?0:o<a?-1:1}(ky(t),ky(e));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u){const c=st(i[u],s[u]);if(c!==0)return c}return o===a?0:o<a?-1:1}(t,e)}}catch{}return NaN}function Ny(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Nd(t);return n==="ArrayBuffer"?"binary":n}function ky(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class _E{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Pe.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Pe.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=ni(n.algorithm,e)}_iterate(e,n){return ga(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&at(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>ga(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,i=r.table.core;if(ui(r,!0))return i.count({trans:n,query:{index:Ha(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return ga(r,()=>(++s,!1),n,i).then(()=>s)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var d=o(u,s),f=o(c,s);return d<f?-a:d>f?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&ui(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=Ha(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return ga(r,s=>i.push(s),n,r.table.core).then(()=>i)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,ui(n)?dc(n,()=>{var r=e;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):dc(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),dc(this._ctx,()=>{var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(e,n){return cc(this._ctx,function(r,i,s){return!e(r.value)||(i(s),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return cc(this._ctx,function(i){return e(i.value)}),n=this._ctx,r=e,n.isMatch=ni(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&ui(n,!0)&&n.limit>0)return this._read(i=>{var s=Ha(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return cc(this._ctx,function(i){var s=i.primaryKey.toString(),o=Rt(r,s);return r[s]=!0,!o}),this}modify(e){var n=this._ctx;return this._write(r=>{var i;if(typeof e=="function")i=e;else{var s=Ae(e),o=s.length;i=function(v){for(var I=!1,h=0;h<o;++h){var p=s[h],m=e[p];zn(v,p)!==m&&(en(v,p,m),I=!0)}return I}}const a=n.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let f=0;const g=[],_=(v,I)=>{const{failures:h,numFailures:p}=I;f+=v-p;for(let m of Ae(h))d.push(h[m])};return this.clone().primaryKeys().then(v=>{const I=h=>{const p=Math.min(c,v.length-h);return a.getMany({trans:r,keys:v.slice(h,h+p),cache:"immutable"}).then(m=>{const w=[],S=[],E=l?[]:null,b=[];for(let T=0;T<p;++T){const F=m[T],R={value:jo(F),primKey:v[h+T]};i.call(R,R.value,R)!==!1&&(R.value==null?b.push(v[h+T]):l||st(u(F),u(R.value))===0?(S.push(R.value),l&&E.push(v[h+T])):(b.push(v[h+T]),w.push(R.value)))}const N=ui(n)&&n.limit===1/0&&(typeof e!="function"||e===fc)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(T=>{for(let F in T.failures)b.splice(parseInt(F),1);_(w.length,T)})).then(()=>(S.length>0||N&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:E,values:S,criteria:N,changeSpec:typeof e!="function"&&e}).then(T=>_(S.length,T))).then(()=>(b.length>0||N&&e===fc)&&a.mutate({trans:r,type:"delete",keys:b,criteria:N}).then(T=>_(b.length,T))).then(()=>v.length>h+p&&I(h+c))})};return I(0).then(()=>{if(d.length>0)throw new Xl("Error modifying one or more objects",d,f,g);return v.length})})})}delete(){var e=this._ctx,n=e.range;return ui(e)&&(e.isPrimKey&&!gE||n.type===3)?this._write(r=>{const{primaryKey:i}=e.table.core.schema,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:u,numFailures:c})=>{if(c)throw new Xl("Could not delete some values",Object.keys(a).map(d=>a[d]),o-c);return o-c}))}):this.modify(fc)}}const fc=(t,e)=>e.value=null;function wE(t,e){return t<e?-1:t===e?0:1}function SE(t,e){return t>e?-1:t===e?0:1}function St(t,e,n){var r=t instanceof I_?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function ci(t){return new t.Collection(t,()=>b_("")).limit(0)}function bE(t,e,n,r,i,s){for(var o=Math.min(t.length,r.length),a=-1,l=0;l<o;++l){var u=e[l];if(u!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[l],u)<0&&(a=l)}return o<r.length&&s==="next"?t+n.substr(t.length):o<t.length&&s==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function va(t,e,n,r){var i,s,o,a,l,u,c,d=n.length;if(!n.every(v=>typeof v=="string"))return St(t,__);function f(v){i=function(h){return h==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(v),s=function(h){return h==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(v),o=v==="next"?wE:SE;var I=n.map(function(h){return{lower:s(h),upper:i(h)}}).sort(function(h,p){return o(h.lower,p.lower)});a=I.map(function(h){return h.upper}),l=I.map(function(h){return h.lower}),u=v,c=v==="next"?"":r}f("next");var g=new t.Collection(t,()=>Zn(a[0],l[d-1]+r));g._ondirectionchange=function(v){f(v)};var _=0;return g._addAlgorithm(function(v,I,h){var p=v.key;if(typeof p!="string")return!1;var m=s(p);if(e(m,l,_))return!0;for(var w=null,S=_;S<d;++S){var E=bE(p,m,a[S],l[S],o,u);E===null&&w===null?_=S+1:(w===null||o(w,E)>0)&&(w=E)}return I(w!==null?function(){v.continue(w+c)}:h),!1}),g}function Zn(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function b_(t){return{type:1,lower:t,upper:t}}class I_{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&(!r||!i)?ci(this):new this.Collection(this,()=>Zn(e,n,!r,!i))}catch{return St(this,En)}}equals(e){return e==null?St(this,En):new this.Collection(this,()=>b_(e))}above(e){return e==null?St(this,En):new this.Collection(this,()=>Zn(e,void 0,!0))}aboveOrEqual(e){return e==null?St(this,En):new this.Collection(this,()=>Zn(e,void 0,!1))}below(e){return e==null?St(this,En):new this.Collection(this,()=>Zn(void 0,e,!1,!0))}belowOrEqual(e){return e==null?St(this,En):new this.Collection(this,()=>Zn(void 0,e))}startsWith(e){return typeof e!="string"?St(this,__):this.between(e,e+jr,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):va(this,(n,r)=>n.indexOf(r[0])===0,[e],jr)}equalsIgnoreCase(e){return va(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=xn.apply(Si,arguments);return e.length===0?ci(this):va(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=xn.apply(Si,arguments);return e.length===0?ci(this):va(this,(n,r)=>r.some(i=>n.indexOf(i)===0),e,jr)}anyOf(){const e=xn.apply(Si,arguments);let n=this._cmp;try{e.sort(n)}catch{return St(this,En)}if(e.length===0)return ci(this);const r=new this.Collection(this,()=>Zn(e[0],e[e.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,e.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;n(l,e[i])>0;)if(++i,i===e.length)return o(a),!1;return n(l,e[i])===0||(o(()=>{s.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[Ud,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=xn.apply(Si,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return St(this,En)}const n=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Ud,i]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(e.length===0)return ci(this);if(!e.every(p=>p[0]!==void 0&&p[1]!==void 0&&i(p[0],p[1])<=0))return St(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",K.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,d=i;function f(p,m){return d(p[0],m[0])}try{c=e.reduce(function(p,m){let w=0,S=p.length;for(;w<S;++w){const E=p[w];if(r(m[0],E[1])<0&&r(m[1],E[0])>0){E[0]=o(E[0],m[0]),E[1]=a(E[1],m[1]);break}}return w===S&&p.push(m),p},[]),c.sort(f)}catch{return St(this,En)}let g=0;const _=u?p=>i(p,c[g][1])>0:p=>i(p,c[g][1])>=0,v=l?p=>s(p,c[g][0])>0:p=>s(p,c[g][0])>=0;let I=_;const h=new this.Collection(this,()=>Zn(c[0][0],c[c.length-1][1],!l,!u));return h._ondirectionchange=p=>{p==="next"?(I=_,d=i):(I=v,d=s),c.sort(f)},h._addAlgorithm((p,m,w)=>{for(var S=p.key;I(S);)if(++g,g===c.length)return m(w),!1;return!!function(E){return!_(E)&&!v(E)}(S)||(this._cmp(S,c[g][1])===0||this._cmp(S,c[g][0])===0||m(()=>{d===i?p.continue(c[g][0]):p.continue(c[g][1])}),!1)}),h}startsWithAnyOf(){const e=xn.apply(Si,arguments);return e.every(n=>typeof n=="string")?e.length===0?ci(this):this.inAnyRange(e.map(n=>[n,n+jr])):St(this,"startsWithAnyOf() only works with strings")}}function dn(t){return Se(function(e){return No(e),t(e.target.error),!1})}function No(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const ko="storagemutated",ar="x-storagemutated-1",Dr=Xs(null,ko);class IE{_lock(){return Ms(!x.global),++this._reculock,this._reculock!==1||x.global||(x.lockOwnerFor=this),this}_unlock(){if(Ms(!x.global),--this._reculock==0)for(x.global||(x.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{hs(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&x.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ms(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new K.DatabaseClosed(r);case"MissingAPIError":throw new K.MissingAPI(r.message,r);default:throw new K.OpenFailed(r)}if(!this.active)throw new K.TransactionInactive;return Ms(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Se(i=>{No(i),this._reject(e.error)}),e.onabort=Se(i=>{No(i),this.active&&this._reject(new K.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=Se(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Dr.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Pe(new K.ReadOnly("Transaction is readonly"));if(!this.active)return Pe(new K.TransactionInactive);if(this._locked())return new O((s,o)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(s,o)},x])});if(r)return Er(()=>{var s=new O((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new O((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=O.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new O((o,a)=>{r.then(l=>n._waitingQueue.push(Se(o.bind(null,l))),l=>n._waitingQueue.push(Se(a.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new K.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Rt(n,e))return n[e];const r=this.schema[e];if(!r)throw new K.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i}}function zd(t,e,n,r,i,s,o){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+E_(e)}}function E_(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function T_(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:n_(n,r=>[r.name,r])}}let Oo=t=>{try{return t.only([[]]),Oo=()=>[[]],[[]]}catch{return Oo=()=>jr,jr}};function jd(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>zn(r,e)}(t):e=>zn(e,t)}function Oy(t){return[].slice.call(t)}let EE=0;function Zs(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function TE(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:d,upperOpen:f}=l;return u===void 0?c===void 0?null:e.upperBound(c,!!f):c===void 0?e.lowerBound(u,!!d):e.bound(u,c,!!d,!!f)}const{schema:i,hasGetAll:s}=function(l,u){const c=Oy(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(d=>u.objectStore(d)).map(d=>{const{keyPath:f,autoIncrement:g}=d,_=Je(f),v=f==null,I={},h={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:_,keyPath:f,autoIncrement:g,unique:!0,extractKey:jd(f)},indexes:Oy(d.indexNames).map(p=>d.index(p)).map(p=>{const{name:m,unique:w,multiEntry:S,keyPath:E}=p,b={name:m,compound:Je(E),keyPath:E,unique:w,multiEntry:S,extractKey:jd(E)};return I[Zs(E)]=b,b}),getIndexByKeyPath:p=>I[Zs(p)]};return I[":id"]=h.primaryKey,f!=null&&(I[Zs(f)]=h.primaryKey),h})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),o=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:d,type:f,keys:g,values:_,range:v}){return new Promise((I,h)=>{I=Se(I);const p=d.objectStore(c),m=p.keyPath==null,w=f==="put"||f==="add";if(!w&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:S}=g||_||{length:1};if(g&&_&&g.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const b=[],N=[];let T=0;const F=J=>{++T,No(J)};if(f==="deleteRange"){if(v.type===4)return I({numFailures:T,failures:N,results:[],lastResult:void 0});v.type===3?b.push(E=p.clear()):b.push(E=p.delete(r(v)))}else{const[J,fe]=w?m?[_,g]:[_,null]:[g,null];if(w)for(let de=0;de<S;++de)b.push(E=fe&&fe[de]!==void 0?p[f](J[de],fe[de]):p[f](J[de])),E.onerror=F;else for(let de=0;de<S;++de)b.push(E=p[f](J[de])),E.onerror=F}const R=J=>{const fe=J.target.result;b.forEach((de,rn)=>de.error!=null&&(N[rn]=de.error)),I({numFailures:T,failures:N,results:f==="delete"?g:b.map(de=>de.result),lastResult:fe})};E.onerror=J=>{F(J),R(J)},E.onsuccess=R})},getMany:({trans:d,keys:f})=>new Promise((g,_)=>{g=Se(g);const v=d.objectStore(c),I=f.length,h=new Array(I);let p,m=0,w=0;const S=b=>{const N=b.target;h[N._pos]=N.result,++w===m&&g(h)},E=dn(_);for(let b=0;b<I;++b)f[b]!=null&&(p=v.get(f[b]),p._pos=b,p.onsuccess=S,p.onerror=E,++m);m===0&&g(h)}),get:({trans:d,key:f})=>new Promise((g,_)=>{g=Se(g);const v=d.objectStore(c).get(f);v.onsuccess=I=>g(I.target.result),v.onerror=dn(_)}),query:function(d){return f=>new Promise((g,_)=>{g=Se(g);const{trans:v,values:I,limit:h,query:p}=f,m=h===1/0?void 0:h,{index:w,range:S}=p,E=v.objectStore(c),b=w.isPrimaryKey?E:E.index(w.name),N=r(S);if(h===0)return g({result:[]});if(d){const T=I?b.getAll(N,m):b.getAllKeys(N,m);T.onsuccess=F=>g({result:F.target.result}),T.onerror=dn(_)}else{let T=0;const F=I||!("openKeyCursor"in b)?b.openCursor(N):b.openKeyCursor(N),R=[];F.onsuccess=J=>{const fe=F.result;return fe?(R.push(I?fe.value:fe.primaryKey),++T===h?g({result:R}):void fe.continue()):g({result:R})},F.onerror=dn(_)}})}(s),openCursor:function({trans:d,values:f,query:g,reverse:_,unique:v}){return new Promise((I,h)=>{I=Se(I);const{index:p,range:m}=g,w=d.objectStore(c),S=p.isPrimaryKey?w:w.index(p.name),E=_?v?"prevunique":"prev":v?"nextunique":"next",b=f||!("openKeyCursor"in S)?S.openCursor(r(m),E):S.openKeyCursor(r(m),E);b.onerror=dn(h),b.onsuccess=Se(N=>{const T=b.result;if(!T)return void I(null);T.___id=++EE,T.done=!1;const F=T.continue.bind(T);let R=T.continuePrimaryKey;R&&(R=R.bind(T));const J=T.advance.bind(T),fe=()=>{throw new Error("Cursor not stopped")};T.trans=d,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=Se(h),T.next=function(){let de=1;return this.start(()=>de--?this.continue():this.stop()).then(()=>this)},T.start=de=>{const rn=new Promise((Ue,k)=>{Ue=Se(Ue),b.onerror=dn(k),T.fail=k,T.stop=W=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=fe,Ue(W)}}),sn=()=>{if(b.result)try{de()}catch(Ue){T.fail(Ue)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return b.onsuccess=Se(Ue=>{b.onsuccess=sn,sn()}),T.continue=F,T.continuePrimaryKey=R,T.advance=J,sn(),rn},I(T)},h)})},count({query:d,trans:f}){const{index:g,range:_}=d;return new Promise((v,I)=>{const h=f.objectStore(c),p=g.isPrimaryKey?h:h.index(g.name),m=r(_),w=m?p.count(m):p.count();w.onsuccess=Se(S=>v(S.target.result)),w.onerror=dn(I)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Oo(e),schema:i}}function $d({_novip:t},e){const n=e.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(c,d){return d.reduce((f,{create:g})=>({...f,...g(f)}),c)}(TE(s,o,l),i.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(i=>{const s=i.name;t.core.schema.tables.some(o=>o.name===s)&&(i.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=i.core))})}function ru({_novip:t},e,n,r){n.forEach(i=>{const s=r[i];e.forEach(o=>{const a=_h(o,i);(!a||"value"in a&&a.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?Un(o,i,{get(){return this.table(i)},set(l){Z0(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new t.Table(i,s))})})}function Vd({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function DE(t,e){return t._cfg.version-e._cfg.version}function NE(t,e,n,r){const i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=x.transless||x;Er(()=>{x.trans=s,x.transless=a,e===0?(Ae(i).forEach(l=>{hc(n,l,i[l].primKey,i[l].indexes)}),$d(t,n),O.follow(()=>t.on.populate.fire(s)).catch(o)):function({_novip:l},u,c,d){const f=[],g=l._versions;let _=l._dbSchema=Wd(l,l.idbdb,d),v=!1;const I=g.filter(p=>p._cfg.version>=u);function h(){return f.length?O.resolve(f.shift()(c.idbtrans)).then(h):O.resolve()}return I.forEach(p=>{f.push(()=>{const m=_,w=p._cfg.dbschema;Qd(l,m,d),Qd(l,w,d),_=l._dbSchema=w;const S=D_(m,w);S.add.forEach(b=>{hc(d,b[0],b[1].primKey,b[1].indexes)}),S.change.forEach(b=>{if(b.recreate)throw new K.Upgrade("Not yet support for changing primary key");{const N=d.objectStore(b.name);b.add.forEach(T=>Kd(N,T)),b.change.forEach(T=>{N.deleteIndex(T.name),Kd(N,T)}),b.del.forEach(T=>N.deleteIndex(T))}});const E=p._cfg.contentUpgrade;if(E&&p._cfg.version>u){$d(l,d),c._memoizedTables={},v=!0;let b=r_(w);S.del.forEach(R=>{b[R]=m[R]}),Vd(l,[l.Transaction.prototype]),ru(l,[l.Transaction.prototype],Ae(b),b),c.schema=b;const N=wh(E);let T;N&&fs();const F=O.follow(()=>{if(T=E(c),T&&N){var R=Wn.bind(null,null);T.then(R,R)}});return T&&typeof T.then=="function"?O.resolve(T):F.then(()=>T)}}),f.push(m=>{(!v||!mE)&&function(w,S){[].slice.call(S.db.objectStoreNames).forEach(E=>w[E]==null&&S.db.deleteObjectStore(E))}(p._cfg.dbschema,m),Vd(l,[l.Transaction.prototype]),ru(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),h().then(()=>{var p,m;m=d,Ae(p=_).forEach(w=>{m.db.objectStoreNames.contains(w)||hc(m,w,p[w].primKey,p[w].indexes)})})}(t,e,s,n).catch(o)})}function D_(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],s=e[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Du)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,l=s.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const c=a[u],d=l[u];c?c.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function hc(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>Kd(i,s)),i}function Kd(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Wd(t,e,n){const r={};return Jl(e.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=zd(E_(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let c=0;c<s.indexNames.length;++c){const d=s.index(s.indexNames[c]);o=d.keyPath;var u=zd(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}r[i]=T_(i,a,l)}),r}function Qd({_novip:t},e,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);t._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,c=typeof u=="string"?u:"["+Jl(u).join("+")+"]";if(e[s]){const d=e[s].idxByName[c];d&&(d.name=l,delete e[s].idxByName[c],e[s].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ve.WorkerGlobalScope&&ve instanceof ve.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class kE{_parseStoresSpec(e,n){Ae(e).forEach(r=>{if(e[r]!==null){var i=e[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return zd(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Je(u),a===0)}),s=i.shift();if(s.multi)throw new K.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new K.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new K.Schema("Index must have a name and cannot be an empty string")}),n[r]=T_(r,s,i)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?at(this._cfg.storesSource,e):e;const r=n._versions,i={};let s={};return r.forEach(o=>{at(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,Vd(n,[n._allTables,n,n.Transaction.prototype]),ru(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Ae(s),s),n._storeNames=Ae(s),this}upgrade(e){return this._cfg.contentUpgrade=Ih(this._cfg.contentUpgrade||he,e),this}}function Nh(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Hr(Nu,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function kh(t){return t&&typeof t.databases=="function"}function Hd(t){return Er(function(){return x.letThrough=!0,t()})}function OE(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function RE(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Pe(e.dbOpenError):t);In&&(e.openCanceller._stackHolder=oi()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new K.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,o=null,a=!1;const l=()=>new O((u,c)=>{if(i(),!n)throw new K.MissingAPI;const d=t.name,f=e.autoSchema?n.open(d):n.open(d,Math.round(10*t.verno));if(!f)throw new K.MissingAPI;f.onerror=dn(c),f.onblocked=Se(t._fireOnBlocked),f.onupgradeneeded=Se(g=>{if(o=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=No,o.abort(),f.result.close();const v=n.deleteDatabase(d);v.onsuccess=v.onerror=Se(()=>{c(new K.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=dn(c);var _=g.oldVersion>Math.pow(2,62)?0:g.oldVersion;a=_<1,t._novip.idbdb=f.result,NE(t,_/10,o,c)}},c),f.onsuccess=Se(()=>{o=null;const g=t._novip.idbdb=f.result,_=Jl(g.objectStoreNames);if(_.length>0)try{const I=g.transaction((v=_).length===1?v[0]:v,"readonly");e.autoSchema?function({_novip:h},p,m){h.verno=p.version/10;const w=h._dbSchema=Wd(0,p,m);h._storeNames=Jl(p.objectStoreNames,0),ru(h,[h._allTables],Ae(w),w)}(t,g,I):(Qd(t,t._dbSchema,I),function(h,p){const m=D_(Wd(0,h.idbdb,p),h._dbSchema);return!(m.add.length||m.change.some(w=>w.add.length||w.change.length))}(t,I)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$d(t,I)}catch{}var v;Js.push(t),g.onversionchange=Se(I=>{e.vcFired=!0,t.on("versionchange").fire(I)}),g.onclose=Se(I=>{t.on("close").fire(I)}),a&&function({indexedDB:I,IDBKeyRange:h},p){!kh(I)&&p!==Nu&&Nh(I,h).put({name:p}).catch(he)}(t._deps,d),u()},c)}).catch(u=>u&&u.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):O.reject(u));return O.race([r,(typeof navigator>"u"?O.resolve():OE()).then(l)]).then(()=>(i(),e.onReadyBeingFired=[],O.resolve(Hd(()=>t.on.ready.fire(t.vip))).then(function u(){if(e.onReadyBeingFired.length>0){let c=e.onReadyBeingFired.reduce(Ih,he);return e.onReadyBeingFired=[],O.resolve(Hd(()=>c(t.vip))).then(u)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(u=>{e.dbOpenError=u;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),Pe(u)}).finally(()=>{e.openComplete=!0,s()})}function Yd(t){var e=s=>t.next(s),n=i(e),r=i(s=>t.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):Je(l)?Promise.all(l).then(n,r):n(l)}}return i(e)()}function BE(t,e,n){var r=arguments.length;if(r<2)throw new K.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,i_(i),n]}function N_(t,e,n,r,i){return O.resolve().then(()=>{const s=x.transless||x,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(d){return d.name===bh.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>N_(t,e,n,null,i))):Pe(d)}const l=wh(i);let u;l&&fs();const c=O.follow(()=>{if(u=i.call(o,o),u)if(l){var d=Wn.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Yd(u))},a);return(u&&typeof u.then=="function"?O.resolve(u).then(d=>o.active?d:Pe(new K.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),Pe(d)))})}function _a(t,e,n){const r=Je(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}const FE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},s=[];function o(c,d,f){const g=Zs(c),_=i[g]=i[g]||[],v=c==null?0:typeof c=="string"?1:c.length,I=d>0,h={...f,isVirtual:I,keyTail:d,keyLength:v,extractKey:jd(c),unique:!I&&f.unique};return _.push(h),h.isPrimaryKey||s.push(h),v>1&&o(v===2?c[0]:c.slice(0,v-1),d+1,f),_.sort((p,m)=>p.keyTail-m.keyTail),h}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const c of r.indexes)o(c.keyPath,0,c);function l(c){const d=c.query.index;return d.isVirtual?{...c,query:{index:d,range:(f=c.query.range,g=d.keyTail,{type:f.type===1?2:f.type,lower:_a(f.lower,f.lowerOpen?t.MAX_KEY:t.MIN_KEY,g),lowerOpen:!0,upper:_a(f.upper,f.upperOpen?t.MIN_KEY:t.MAX_KEY,g),upperOpen:!0})}}:c;var f,g}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(c){const d=i[Zs(c)];return d&&d[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:d,isVirtual:f,keyLength:g}=c.query.index;return f?n.openCursor(l(c)).then(_=>_&&function(v){return Object.create(v,{continue:{value:function(h){h!=null?v.continue(_a(h,c.reverse?t.MAX_KEY:t.MIN_KEY,d)):c.unique?v.continue(v.key.slice(0,g).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,d)):v.continue()}},continuePrimaryKey:{value(h,p){v.continuePrimaryKey(_a(h,t.MAX_KEY,d),p)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const h=v.key;return g===1?h[0]:h.slice(0,g)}},value:{get:()=>v.value}})}(_)):n.openCursor(c)}}}}}};function Oh(t,e,n,r){return n=n||{},r=r||"",Ae(t).forEach(i=>{if(Rt(e,i)){var s=t[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Nd(s);a!==Nd(o)?n[r+i]=e[i]:a==="Object"?Oh(s,o,n,r+i+"."):s!==o&&(n[r+i]=e[i])}else s!==o&&(n[r+i]=e[i])}else n[r+i]=void 0}),Ae(e).forEach(i=>{Rt(t,i)||(n[r+i]=e[i])}),n}const AE={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=x.trans,{deleting:a,creating:l,updating:u}=o.table(e).hook;switch(s.type){case"add":if(l.fire===he)break;return o._promise("readwrite",()=>c(s),!0);case"put":if(l.fire===he&&u.fire===he)break;return o._promise("readwrite",()=>c(s),!0);case"delete":if(a.fire===he)break;return o._promise("readwrite",()=>c(s),!0);case"deleteRange":if(a.fire===he)break;return o._promise("readwrite",()=>function(f){return d(f.trans,f.range,1e4)}(s),!0)}return n.mutate(s);function c(f){const g=x.trans,_=f.keys||function(v,I){return I.type==="delete"?I.keys:I.keys||I.values.map(v.extractKey)}(r,f);if(!_)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:_}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(v,I,h){return I.type==="add"?Promise.resolve([]):v.getMany({trans:I.trans,keys:h,cache:"immutable"})}(n,f,_).then(v=>{const I=_.map((h,p)=>{const m=v[p],w={onerror:null,onsuccess:null};if(f.type==="delete")a.fire.call(w,h,m,g);else if(f.type==="add"||m===void 0){const S=l.fire.call(w,h,f.values[p],g);h==null&&S!=null&&(h=S,f.keys[p]=h,r.outbound||en(f.values[p],r.keyPath,h))}else{const S=Oh(m,f.values[p]),E=u.fire.call(w,S,h,m,g);if(E){const b=f.values[p];Object.keys(E).forEach(N=>{Rt(b,N)?b[N]=E[N]:en(b,N,E[N])})}}return w});return n.mutate(f).then(({failures:h,results:p,numFailures:m,lastResult:w})=>{for(let S=0;S<_.length;++S){const E=p?p[S]:_[S],b=I[S];E==null?b.onerror&&b.onerror(h[S]):b.onsuccess&&b.onsuccess(f.type==="put"&&v[S]?f.values[S]:E)}return{failures:h,results:p,numFailures:m,lastResult:w}}).catch(h=>(I.forEach(p=>p.onerror&&p.onerror(h)),Promise.reject(h)))})}function d(f,g,_){return n.query({trans:f,values:!1,query:{index:r,range:g},limit:_}).then(({result:v})=>c({type:"delete",keys:v,trans:f}).then(I=>I.numFailures>0?Promise.reject(I.failures[0]):v.length<_?{failures:[],numFailures:0,lastResult:void 0}:d(f,{...g,lower:v[v.length-1],lowerOpen:!0},_)))}}}}})};function k_(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let i=0,s=0;i<e.keys.length&&s<t.length;++i)st(e.keys[i],t[s])===0&&(r.push(n?jo(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}const xE={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=k_(r.keys,r.trans._cache,r.cache==="clone");return i?O.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?jo(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rh(t){return!("from"in t)}const Bn=function(t,e){if(!this){const n=new Bn;return t&&"d"in t&&at(n,t),n}at(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Ro(t,e,n){const r=st(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rh(t))return at(t,{from:e,to:n,d:1});const i=t.l,s=t.r;if(st(n,t.from)<0)return i?Ro(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Ry(t);if(st(e,t.to)>0)return s?Ro(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Ry(t);st(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),st(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;i&&!t.l&&iu(t,i),s&&o&&iu(t,s)}function iu(t,e){Rh(e)||function n(r,{from:i,to:s,l:o,r:a}){Ro(r,i,s),o&&n(r,o),a&&n(r,a)}(t,e)}function LE(t,e){const n=qd(e);let r=n.next();if(r.done)return!1;let i=r.value;const s=qd(t);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(st(a.from,i.to)<=0&&st(a.to,i.from)>=0)return!0;st(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function qd(t){let e=Rh(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&st(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||st(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Ry(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...t},a=t[i];t.from=a.from,t.to=a.to,t[i]=a[i],o[i]=a[s],t[s]=o,o.d=By(o)}t.d=By(t)}function By({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}os(Bn.prototype,{add(t){return iu(this,t),this},addKey(t){return Ro(this,t,t),this},addKeys(t){return t.forEach(e=>Ro(this,e,e)),this},[kd](){return qd(this)}});const CE={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new Bn(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const i=t.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,u={...i,mutate:f=>{const g=f.trans,_=g.mutatedParts||(g.mutatedParts={}),v=E=>{const b=`idb://${e}/${r}/${E}`;return _[b]||(_[b]=new Bn)},I=v(""),h=v(":dels"),{type:p}=f;let[m,w]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const S=f.trans._cache;return i.mutate(f).then(E=>{if(Je(m)){p!=="delete"&&(m=E.results),I.addKeys(m);const b=k_(m,S);b||p==="add"||h.addKeys(m),(b||w)&&function(N,T,F,R){function J(fe){const de=N(fe.name||"");function rn(Ue){return Ue!=null?fe.extractKey(Ue):null}const sn=Ue=>fe.multiEntry&&Je(Ue)?Ue.forEach(k=>de.addKey(k)):de.addKey(Ue);(F||R).forEach((Ue,k)=>{const W=F&&rn(F[k]),Y=R&&rn(R[k]);st(W,Y)!==0&&(W!=null&&sn(W),Y!=null&&sn(Y))})}T.indexes.forEach(J)}(v,s,b,w)}else if(m){const b={from:m.lower,to:m.upper};h.add(b),I.add(b)}else I.add(n),h.add(n),s.indexes.forEach(b=>v(b.name).add(n));return E})}},c=({query:{index:f,range:g}})=>{var _,v;return[f,new Bn((_=g.lower)!==null&&_!==void 0?_:t.MIN_KEY,(v=g.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},d={get:f=>[o,new Bn(f.key)],getMany:f=>[o,new Bn().addKeys(f.keys)],count:c,query:c,openCursor:c};return Ae(d).forEach(f=>{u[f]=function(g){const{subscr:_}=x;if(_){const v=w=>{const S=`idb://${e}/${r}/${w}`;return _[S]||(_[S]=new Bn)},I=v(""),h=v(":dels"),[p,m]=d[f](g);if(v(p.name||"").add(m),!p.isPrimaryKey){if(f!=="count"){const w=f==="query"&&l&&g.values&&i.query({...g,values:!1});return i[f].apply(this,arguments).then(S=>{if(f==="query"){if(l&&g.values)return w.then(({result:b})=>(I.addKeys(b),S));const E=g.values?S.result.map(a):S.result;g.values?I.addKeys(E):h.addKeys(E)}else if(f==="openCursor"){const E=S,b=g.values;return E&&Object.create(E,{key:{get:()=>(h.addKey(E.primaryKey),E.key)},primaryKey:{get(){const N=E.primaryKey;return h.addKey(N),N}},value:{get:()=>(b&&I.addKey(E.primaryKey),E.value)}})}return S})}h.add(n)}}return i[f].apply(this,arguments)}}),u}}}};class Hr{constructor(e,n){this._middlewares={},this.verno=0;const r=Hr.dependencies;this._options=n={addons:Hr.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new O(a=>{s.dbReadyResolve=a}),s.openCanceller=new O((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=e,this.on=Xs(this,"populate","blocked","versionchange","close",{ready:[Ih,he]}),this.on.ready.subscribe=e_(this.on.ready.subscribe,a=>(l,u)=>{Hr.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||O.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);const d=this;u||a(function f(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(f)})}})}),this.Collection=(o=this,Es(_E.prototype,function(a,l){this.db=o;let u=S_,c=null;if(l)try{u=l()}catch(_){c=_}const d=a._ctx,f=d.table,g=f.hook.reading.fire;this._ctx={table:f,index:d.index,isPrimKey:!d.index||f.schema.primKey.keyPath&&d.index===f.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:g!==To?g:null}})),this.Table=function(a){return Es(vE.prototype,function(l,u,c){this.db=a,this._tx=c,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:Xs(null,{creating:[oE,he],reading:[sE,To],updating:[lE,he],deleting:[aE,he]})})}(this),this.Transaction=function(a){return Es(IE.prototype,function(l,u,c,d,f){this.db=a,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Xs(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new O((g,_)=>{this._resolve=g,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},g=>{var _=this.active;return this.active=!1,this.on.error.fire(g),this.parent?this.parent._reject(g):_&&this.idbtrans&&this.idbtrans.abort(),Pe(g)})})}(this),this.Version=function(a){return Es(kE.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Es(I_.prototype,function(l,u,c){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:c};const d=a._deps.indexedDB;if(!d)throw new K.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(f,g)=>d.cmp(g,f),this._max=(f,g)=>d.cmp(f,g)>0?f:g,this._min=(f,g)=>d.cmp(f,g)<0?f:g,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Oo(n.IDBKeyRange),this._createTransaction=(a,l,u,c)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Js.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(FE),this.use(AE),this.use(CE),this.use(xE),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new K.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new K.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(DE),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||x.letThrough||this._vip)?e():new O((n,r)=>{if(this._state.openComplete)return r(new K.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new K.DatabaseClosed);this.open().catch(he)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:i}){i&&this.unuse({stack:e,name:i});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return RE(this)}_close(){const e=this._state,n=Js.indexOf(this);if(n>=0&&Js.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new O(r=>{e.dbReadyResolve=r}),e.openCanceller=new O((r,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new K.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new O((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=Se(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!kh(a)&&u!==Nu&&Nh(a,l).delete(u).catch(he)})(this._deps,this.name),r()}),o.onerror=dn(i),o.onblocked=this._fireOnBlocked};if(e)throw new K.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ae(this._allTables).map(e=>this._allTables[e])}transaction(){const e=BE.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let i=x.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);const s=e.indexOf("?")!==-1;let o,a;e=e.replace("!","").replace("?","");try{if(a=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===lc)o=lc;else{if(e!="rw"&&e!=uc)throw new K.InvalidArgument("Invalid transaction mode: "+e);o=uc}if(i){if(i.mode===lc&&o===uc){if(!s)throw new K.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new K.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,d)=>{d(u)}):Pe(u)}const l=N_.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):x.trans?hs(x.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!Rt(this._allTables,e))throw new K.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const ME=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class PE{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[ME](){return this}}function O_(t,e){return Ae(e).forEach(n=>{iu(t[n]||(t[n]=new Bn),e[n])}),t}function UE(t){let e,n=!1;const r=new PE(i=>{const s=wh(t);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Dr.storagemutated.unsubscribe(g)}};i.start&&i.start(u);let c=!1,d=!1;function f(){return Ae(l).some(v=>a[v]&&LE(a[v],l[v]))}const g=v=>{O_(a,v),f()&&_()},_=()=>{if(c||o)return;a={};const v={},I=function(h){s&&fs();const p=()=>Er(t,{subscr:h,trans:null}),m=x.trans?hs(x.transless,p):p();return s&&m.then(Wn,Wn),m}(v);d||(Dr(ko,g),d=!0),c=!0,Promise.resolve(I).then(h=>{n=!0,e=h,c=!1,o||(f()?_():(a={},l=v,i.next&&i.next(h)))},h=>{c=!1,n=!1,i.error&&i.error(h),u.unsubscribe()})};return _(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let Gd;try{Gd={indexedDB:ve.indexedDB||ve.mozIndexedDB||ve.webkitIndexedDB||ve.msIndexedDB,IDBKeyRange:ve.IDBKeyRange||ve.webkitIDBKeyRange}}catch{Gd={indexedDB:null,IDBKeyRange:null}}const xr=Hr;function Ya(t){let e=Mn;try{Mn=!0,Dr.storagemutated.fire(t)}finally{Mn=e}}os(xr,{...$a,delete:t=>new xr(t,{addons:[]}).delete(),exists:t=>new xr(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return kh(e)?Promise.resolve(e.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Nu)):Nh(e,n).toCollection().primaryKeys()}(xr.dependencies).then(t)}catch{return Pe(new K.MissingAPI)}},defineClass:()=>function(t){at(this,t)},ignoreTransaction:t=>x.trans?hs(x.transless,t):t(),vip:Hd,async:function(t){return function(){try{var e=Yd(t.apply(this,arguments));return e&&typeof e.then=="function"?e:O.resolve(e)}catch(n){return Pe(n)}}},spawn:function(t,e,n){try{var r=Yd(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:O.resolve(r)}catch(i){return Pe(i)}},currentTransaction:{get:()=>x.trans||null},waitFor:function(t,e){const n=O.resolve(typeof t=="function"?xr.ignoreTransaction(t):t).timeout(e||6e4);return x.trans?x.trans.waitFor(n):n},Promise:O,debug:{get:()=>In,set:t=>{o_(t,t==="dexie"?()=>!0:w_)}},derive:Wi,extend:at,props:os,override:e_,Events:Xs,on:Dr,liveQuery:UE,extendObservabilitySet:O_,getByKeyPath:zn,setByKeyPath:en,delByKeyPath:function(t,e){typeof e=="string"?en(t,e,void 0):"length"in e&&[].map.call(e,function(n){en(t,n,void 0)})},shallowClone:r_,deepClone:jo,getObjectDiff:Oh,cmp:st,asap:t_,minKey:Ud,addons:[],connections:Js,errnames:bh,dependencies:Gd,semVer:Ey,version:Ey.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),xr.maxKey=Oo(xr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Dr(ko,t=>{if(!Mn){let e;Du?(e=document.createEvent("CustomEvent"),e.initCustomEvent(ar,!0,!0,t)):e=new CustomEvent(ar,{detail:t}),Mn=!0,dispatchEvent(e),Mn=!1}}),addEventListener(ar,({detail:t})=>{Mn||Ya(t)}));let Mn=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(ar);typeof t.unref=="function"&&t.unref(),Dr(ko,e=>{Mn||t.postMessage(e)}),t.onmessage=e=>{e.data&&Ya(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Dr(ko,e=>{try{Mn||(typeof localStorage<"u"&&localStorage.setItem(ar,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ar,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===ar){const n=JSON.parse(e.newValue);n&&Ya(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===ar&&Ya(e.changedParts)})}O.rejectionMapper=function(t,e){if(!t||t instanceof Qi||t instanceof TypeError||t instanceof SyntaxError||!t.name||!wy[t.name])return t;var n=new wy[t.name](e||t.message,t);return"stack"in t&&Un(n,"stack",{get:function(){return this.inner.stack}}),n},o_(In,w_);class zE extends Hr{constructor(){super("MeerkatDatabase"),this.version(1).stores({tablesKey:"&tableName",files:"&fileName"}),this.tablesKey=this.table("tablesKey"),this.files=this.table("files")}}class jE{constructor({instanceManager:e,logger:n,onEvent:r}){this.indexedDB=new zE,this.instanceManager=e,this.logger=n,this.onEvent=r}async bulkRegisterJSON(e){const n=await Promise.all(e.map(async r=>{const{json:i,tableName:s,...o}=r;return{buffer:await gy({instanceManager:this.instanceManager,json:i,tableName:s,logger:this.logger,onEvent:this.onEvent,metadata:r.metadata}),tableName:s,...o}}));await this.bulkRegisterFileBuffer(n)}async registerJSON(e){const{json:n,tableName:r,...i}=e,s=await gy({instanceManager:this.instanceManager,json:n,tableName:r,logger:this.logger,onEvent:this.onEvent,metadata:e.metadata});await this.registerFileBuffer({buffer:s,tableName:r,...i})}async getFilesNameForTables(e){const n=e.map(i=>i.name),r=(await this.indexedDB.tablesKey.bulkGet(n)).filter(X0).reduce((i,s)=>(i[s.tableName]=s,i),{});return e.map(i=>{var s;return{tableName:i.name,files:_y(((s=r[i.name])==null?void 0:s.files)??[],i.partitions)}})}async getTableData(e){const n=await this.indexedDB.tablesKey.get(e.name);if(n)return{...n,files:_y((n==null?void 0:n.files)??[],e.partitions)}}async setTableMetadata(e,n){await this.indexedDB.tablesKey.update(e,{metadata:n})}}const $E=500*1024*1024;class VE extends jE{constructor({fetchTableFileBuffers:e,instanceManager:n,options:r,logger:i,onEvent:s}){super({instanceManager:n,fetchTableFileBuffers:e,logger:i,onEvent:s}),this.fetchTableFileBuffers=e,this.fileRegisterer=new YI({instanceManager:n}),this.configurationOptions=r}async _flushDB(){await this.indexedDB.tablesKey.clear(),await this.indexedDB.files.clear()}async initializeDB(){}async bulkRegisterFileBuffer(e){const n=Array.from(new Set(e.map(a=>a.tableName))),r=await this.indexedDB.tablesKey.toArray(),i=vy(e,r),s=n.map(a=>{var l;return{tableName:a,files:((l=i.get(a))==null?void 0:l.files)??[]}}),o=e.map(a=>({buffer:a.buffer,fileName:a.fileName}));await this.indexedDB.transaction("rw",this.indexedDB.tablesKey,this.indexedDB.files,async()=>{await this.indexedDB.tablesKey.bulkPut(s),await this.indexedDB.files.bulkPut(o)}).catch(a=>{console.error(a)})}async registerFileBuffer(e){const{buffer:n,fileName:r,tableName:i}=e,s=await this.indexedDB.tablesKey.toArray(),o=vy([e],s);await this.indexedDB.transaction("rw",this.indexedDB.tablesKey,this.indexedDB.files,async()=>{var a;await this.indexedDB.tablesKey.put({tableName:e.tableName,files:((a=o.get(i))==null?void 0:a.files)??[]}),await this.indexedDB.files.put({fileName:r,buffer:n})}).catch(a=>{console.error(a)})}async fileCleanUpIfRequired(e){var i;const n=((i=this.configurationOptions)==null?void 0:i.maxFileSize)??$E;if(this.fileRegisterer.totalByteLength()>n){const s=this.fileRegisterer.getAllFilesInDB(),o=[];for(const a of e)for(const l of(a==null?void 0:a.files)??[])s.includes(l.fileName)||o.push(l.fileName);for(const a of o)await this.fileRegisterer.registerEmptyFileBuffer(a)}}async mountFileBufferByTables(e){console.log("mountFileBufferByTables",e);const n=await this.getFilesNameForTables(e);this.fileCleanUpIfRequired(n);const r=n.map(async i=>{var u;const o=((i==null?void 0:i.files)||[]).map(c=>c.fileName).filter(c=>!this.fileRegisterer.isFileRegisteredInDB(c)),a=Array.from(new Set(o)),l=await((u=this.indexedDB)==null?void 0:u.files.bulkGet(a));await Promise.all(l.filter(X0).map(async c=>{await this.fileRegisterer.registerFileBuffer(c.fileName,c.buffer)}))});await Promise.all(r)}async dropFilesByTableName(e,n){const r=await this.indexedDB.tablesKey.get(e);if(r){const i=r.files.filter(s=>!n.includes(s.fileName));await this.indexedDB.tablesKey.put({tableName:e,files:i})}await this.indexedDB.files.bulkDelete(n)}async onDBShutdownHandler(){this.fileRegisterer.flushFileCache()}}class KE extends VE{constructor(e){super(e)}}var R_={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(A_,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(v,I){var h=v[I];if(typeof h.bind=="function")return h.bind(v);try{return Function.prototype.bind.call(h,v)}catch{return function(){return Function.prototype.apply.apply(h,[v,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?l:console[v]!==void 0?a(console,v):console.log!==void 0?a(console,"log"):e}function c(){for(var v=this.getLevel(),I=0;I<i.length;I++){var h=i[I];this[h]=I<v?e:this.methodFactory(h,v,this.name)}if(this.log=this.debug,typeof console===n&&v<this.levels.SILENT)return"No console available for logging"}function d(v){return function(){typeof console!==n&&(c.call(this),this[v].apply(this,arguments))}}function f(v,I,h){return u(v)||d.apply(this,arguments)}function g(v,I){var h=this,p,m,w,S="loglevel";typeof v=="string"?S+=":"+v:typeof v=="symbol"&&(S=void 0);function E(R){var J=(i[R]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=J;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+J+";"}catch{}}}function b(){var R;if(!(typeof window===n||!S)){try{R=window.localStorage[S]}catch{}if(typeof R===n)try{var J=window.document.cookie,fe=encodeURIComponent(S),de=J.indexOf(fe+"=");de!==-1&&(R=/^([^;]+)/.exec(J.slice(de+fe.length+1))[1])}catch{}return h.levels[R]===void 0&&(R=void 0),R}}function N(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function T(R){var J=R;if(typeof J=="string"&&h.levels[J.toUpperCase()]!==void 0&&(J=h.levels[J.toUpperCase()]),typeof J=="number"&&J>=0&&J<=h.levels.SILENT)return J;throw new TypeError("log.setLevel() called with invalid level: "+R)}h.name=v,h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=I||f,h.getLevel=function(){return w??m??p},h.setLevel=function(R,J){return w=T(R),J!==!1&&E(w),c.call(h)},h.setDefaultLevel=function(R){m=T(R),b()||h.setLevel(R,!1)},h.resetLevel=function(){w=null,N(),c.call(h)},h.enableAll=function(R){h.setLevel(h.levels.TRACE,R)},h.disableAll=function(R){h.setLevel(h.levels.SILENT,R)},h.rebuild=function(){if(o!==h&&(p=T(o.getLevel())),c.call(h),o===h)for(var R in s)s[R].rebuild()},p=T(o?o.getLevel():"WARN");var F=b();F!=null&&(w=T(F)),c.call(h)}o=new g,o.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var h=s[I];return h||(h=s[I]=new g(I,o.methodFactory)),h};var _=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=_),o},o.getLoggers=function(){return s},o.default=o,o})})(R_);var WE=R_.exports;const Fy=xy(WE);var QE=Object.create,B_=Object.defineProperty,HE=Object.getOwnPropertyDescriptor,YE=Object.getOwnPropertyNames,qE=Object.getPrototypeOf,GE=Object.prototype.hasOwnProperty,JE=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),XE=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YE(e))!GE.call(t,i)&&i!==n&&B_(t,i,{get:()=>e[i],enumerable:!(r=HE(e,i))||r.enumerable});return t},ZE=(t,e,n)=>(n=t!=null?QE(qE(t)):{},XE(!t||!t.__esModule?B_(n,"default",{value:t,enumerable:!0}):n,t)),eT=JE((t,e)=>{e.exports=Worker}),tT=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(tT||{}),nT=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(nT||{}),rT=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(rT||{}),iT=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(iT||{}),sT=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(sT||{}),oT=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(oT||{}),aT=(t=>(t[t.SUCCESS=0]="SUCCESS",t))(aT||{}),lT=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),n=jt.from(e);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new nt(n)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let n=await this._bindings.startPendingQuery(this._conn,t,e);for(;n==null;)n=await this._bindings.pollPendingQuery(this._conn);let r=new F_(this._bindings,this._conn,n),i=await jt.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new uT(this._bindings,this._conn,e)}async insertArrowTable(t,e){let n=$I(t,"stream");await this.insertArrowFromIPCStream(n,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},F_=class{constructor(t,e,n){this.db=t,this.conn=e,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t;return this._inFlight!=null?(t=await this._inFlight,this._inFlight=null):t=await this.db.fetchQueryResults(this.conn),this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},uT=class{constructor(t,e,n){this.bindings=t,this.connectionId=e,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),n=jt.from(e);return console.assert(n.isSync()),console.assert(n.isFile()),new nt(n)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),n=new F_(this.bindings,this.connectionId,e),r=await jt.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},cT=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(cT||{}),dT=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(dT||{}),te=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function qa(t){switch(t.typeId){case y.Binary:return{sqlType:"binary"};case y.Bool:return{sqlType:"bool"};case y.Date:return{sqlType:"date"};case y.DateDay:return{sqlType:"date32[d]"};case y.DateMillisecond:return{sqlType:"date64[ms]"};case y.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case y.Float:return{sqlType:"float"};case y.Float16:return{sqlType:"float16"};case y.Float32:return{sqlType:"float32"};case y.Float64:return{sqlType:"float64"};case y.Int:return{sqlType:"int32"};case y.Int16:return{sqlType:"int16"};case y.Int32:return{sqlType:"int32"};case y.Int64:return{sqlType:"int64"};case y.Uint16:return{sqlType:"uint16"};case y.Uint32:return{sqlType:"uint32"};case y.Uint64:return{sqlType:"uint64"};case y.Uint8:return{sqlType:"uint8"};case y.IntervalDayTime:return{sqlType:"interval[dt]"};case y.IntervalYearMonth:return{sqlType:"interval[m]"};case y.List:return{sqlType:"list",valueType:qa(t.valueType)};case y.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case y.Null:return{sqlType:"null"};case y.Utf8:return{sqlType:"utf8"};case y.Struct:return{sqlType:"struct",fields:t.children.map(e=>Jd(e.name,e.type))};case y.Map:{let e=t;return{sqlType:"map",keyType:qa(e.keyType),valueType:qa(e.valueType)}}case y.Time:return{sqlType:"time[s]"};case y.TimeMicrosecond:return{sqlType:"time[us]"};case y.TimeMillisecond:return{sqlType:"time[ms]"};case y.TimeNanosecond:return{sqlType:"time[ns]"};case y.TimeSecond:return{sqlType:"time[s]"};case y.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case y.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case y.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case y.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case y.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function Jd(t,e){let n=qa(e);return n.name=t,n}var fT=new TextEncoder,hT=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,n)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,t),this._worker.postMessage({messageId:n,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let n=t.data;switch(n.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(n.data);return}case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(e=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&e.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new te("RESET",null);return await this.postTask(t)}async ping(){let t=new te("PING",null);await this.postTask(t)}async dropFile(t){let e=new te("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new te("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new te("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new te("INSTANTIATE",[t,e]);return await this.postTask(r)}async getVersion(){let t=new te("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new te("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new te("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new te("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new te("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new lT(this,t)}async disconnect(t){let e=new te("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let n=new te("RUN_QUERY",[t,e]);return await this.postTask(n)}async startPendingQuery(t,e,n=!1){let r=new te("START_PENDING_QUERY",[t,e,n]);return await this.postTask(r)}async pollPendingQuery(t){let e=new te("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new te("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new te("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let n=new te("GET_TABLE_NAMES",[t,e]);return await this.postTask(n)}async createPrepared(t,e){let n=new te("CREATE_PREPARED",[t,e]);return await this.postTask(n)}async closePrepared(t,e){let n=new te("CLOSE_PREPARED",[t,e]);await this.postTask(n)}async runPrepared(t,e,n){let r=new te("RUN_PREPARED",[t,e,n]);return await this.postTask(r)}async sendPrepared(t,e,n){let r=new te("SEND_PREPARED",[t,e,n]);return await this.postTask(r)}async globFiles(t){let e=new te("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let n=fT.encode(e);await this.registerFileBuffer(t,n)}async registerFileURL(t,e,n,r){e===void 0&&(e=t);let i=new te("REGISTER_FILE_URL",[t,e,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let n=new te("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(n,[e.buffer])}async registerFileHandle(t,e,n,r){let i=new te("REGISTER_FILE_HANDLE",[t,e,n,r]);await this.postTask(i,[])}async registerOPFSFileName(t){let e=new te("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let n=new te("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(n,[])}async exportFileStatistics(t){let e=new te("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new te("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let n=new te("COPY_FILE_TO_PATH",[t,e]);await this.postTask(n)}async insertArrowFromIPCStream(t,e,n){if(e.length==0)return;let r=new te("INSERT_ARROW_FROM_IPC_STREAM",[t,e,n]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(Jd(s,o))}n.columnsFlat=i,delete n.columns}let r=new te("IMPORT_CSV_FROM_PATH",[t,e,n]);await this.postTask(r)}async insertJSONFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(Jd(s,o))}n.columnsFlat=i,delete n.columns}let r=new te("IMPORT_JSON_FROM_PATH",[t,e,n]);await this.postTask(r)}};function pT(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}pT();var yT=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(yT||{}),mT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),gT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),vT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),_T=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Bh={name:"@duckdb/duckdb-wasm",version:"1.29.1-dev132.0"},wT=Bh.name,ST=Bh.version,Fh=Bh.version.split(".");Fh[0];Fh[1];Fh[2];var bT=()=>typeof navigator>"u";function IT(){let t="https://cdn.jsdelivr.net/npm/".concat(wT,"@").concat(ST,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var pc=null,yc=null,mc=null,gc=null,vc=null;async function ET(){return pc==null&&(pc=typeof BigInt64Array<"u"),yc==null&&(yc=await gT()),mc==null&&(mc=await _T()),gc==null&&(gc=await vT()),vc==null&&(vc=await mT()),{bigInt64Array:pc,crossOriginIsolated:bT()||globalThis.crossOriginIsolated||!1,wasmExceptions:yc,wasmSIMD:gc,wasmThreads:mc,wasmBulkMemory:vc}}async function TT(t){let e=await ET();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}ZE(eT());const DT=IT();class NT{constructor(){this.db=null}async initDB(){const e=await TT(DT),n=URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"})),r=new Worker(n),i={log:o=>console.log(o)},s=new hT(i,r);return await s.instantiate(e.mainModule,e.pthreadWorker),URL.revokeObjectURL(n),s}async getDB(){return this.db||(console.info("Creating new DB"),this.db=await this.initDB()),this.db}async terminateDB(){var e;console.info("terminateDB"),await((e=this.db)==null?void 0:e.terminate()),this.db=null}}function Ay(t){const e=Tt.useRef(),n=Tt.useRef(!1),r=Tt.useRef(!1),[,i]=Tt.useState(0);n.current&&(r.current=!0),Tt.useEffect(()=>(n.current||(e.current=t(),n.current=!0),i(s=>s+1),()=>{r.current&&e.current&&e.current()}),[])}function kT(){const t=Tt.useRef(!1),e=Tt.useRef(),n=Tt.useRef(),r=Tt.useRef(),i=Tt.useRef(),s=new URLSearchParams(window.location.search),o=s.get("uuid")??"",a=s.get("origin");return e.current||(e.current=new p1({app_name:d1(o),origin:a,targetApp:f1(o),targetWindow:window.parent})),n.current||(n.current=new NT),r.current||(r.current=new KE({instanceManager:n.current,fetchTableFileBuffers:async()=>[],logger:Fy,onEvent:l=>{var u;(u=e.current)==null||u.sendRequestWithoutResponse({type:bs.RUNNER_ON_EVENT,payload:l})}})),i.current||(i.current=new c1({instanceManager:n.current,fileManager:r.current,logger:Fy,onEvent:l=>{var u;(u=e.current)==null||u.sendRequestWithoutResponse({type:bs.RUNNER_ON_EVENT,payload:l})}})),Ay(()=>{var l;t.current||((l=e.current)==null||l.onMessage(u=>{var c;switch(u.message.type){case bs.EXEC_QUERY:(c=i.current)==null||c.queryWithTables({...u.message.payload,options:{...u.message.payload.options,preQuery:async d=>{var _,v;const f=await((_=e.current)==null?void 0:_.sendRequest({type:bs.RUNNER_PRE_QUERY,payload:{runnerId:o,tableWiseFiles:d}}));console.info("preQuery inside app",f==null?void 0:f.message);const g=(f==null?void 0:f.message)??[];for(const I of g)await((v=i.current)==null?void 0:v.query(I))}}}).then(d=>{var f;(f=e.current)==null||f.sendResponse(u.uuid,{data:QI(d),isError:!1,error:null})}).catch(d=>{var f;(f=e.current)==null||f.sendResponse(u.uuid,{data:null,isError:!0,error:d})});break}}),t.current=!0)}),Ay(()=>{(async()=>{var l,u;await((l=i.current)==null?void 0:l.query("SELECT 1")),(u=e.current)==null||u.sendRequestWithoutResponse({type:bs.RUNNER_ON_READY})})()}),_c.jsx("div",{children:"Runners "})}const OT=Yg(document.getElementById("root"));OT.render(_c.jsx(Tt.StrictMode,{children:_c.jsx(kT,{})}));

</script>
    <style>

</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
